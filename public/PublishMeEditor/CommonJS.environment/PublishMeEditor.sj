@STATIC;1.0;p;12;app/editor.jt;9526;@STATIC;1.0;i;23;monkeypatch/c_p_alert.ji;23;monkeypatch/c_p_array.ji;21;monkeypatch/c_p_box.ji;21;monkeypatch/c_p_cib.ji;33;monkeypatch/c_p_collection_view.ji;23;monkeypatch/c_p_color.ji;24;monkeypatch/c_p_cursor.ji;22;monkeypatch/c_p_date.ji;23;monkeypatch/c_p_event.ji;27;monkeypatch/c_p_menu_item.ji;24;monkeypatch/c_p_string.ji;28;monkeypatch/c_p_text_field.ji;39;monkeypatch/l_p_multi_line_text_field.ji;29;helpers/application_helpers.ji;30;helpers/image_loader_helpers.ji;27;helpers/alert_user_helper.ji;24;libs/drag_drop_manager.ji;26;libs/placeholder_manager.ji;28;libs/configuration_manager.ji;28;libs/communication_workers.ji;28;libs/communication_manager.ji;20;libs/theme_manager.ji;33;mixins/seek_to_dropdown_helpers.ji;36;mixins/document_view_cell_snapgrid.ji;34;mixins/you_tube_video_properties.ji;30;mixins/you_tube_page_element.ji;33;mixins/image_element_properties.ji;29;mixins/alert_window_support.ji;29;mixins/object_state_support.ji;35;mixins/page_element/color_support.ji;34;mixins/page_element/size_support.ji;35;mixins/page_element/input_support.ji;34;mixins/page_element/font_support.ji;40;mixins/page_element/text_input_support.ji;38;mixins/page_element/rotation_support.ji;41;mixins/property_controller/font_support.ji;45;mixins/property_controller/rotation_support.ji;42;mixins/property_controller/image_support.ji;47;mixins/property_controller/image_flag_support.ji;13;models/page.ji;21;models/page_element.ji;14;models/tweet.ji;15;models/flickr.ji;17;models/facebook.ji;21;models/google_image.ji;21;models/tool_element.ji;18;models/image_t_e.ji;17;models/text_t_e.ji;20;models/fb_like_t_e.ji;25;models/twitter_feed_t_e.ji;18;models/tweet_t_e.ji;24;models/digg_button_t_e.ji;17;models/link_t_e.ji;22;models/highlight_t_e.ji;23;models/you_tube_video.ji;26;models/you_tube_ctrl_t_e.ji;21;models/you_tube_t_e.ji;27;models/pay_pal_button_t_e.ji;34;models/you_tube_seek_to_link_t_e.ji;19;models/pub_config.ji;21;views/document_view.ji;26;views/document_view_cell.ji;33;views/document_view_editor_view.ji;23;views/base_image_cell.ji;25;views/flickr_photo_cell.ji;27;views/facebook_photo_cell.ji;32;views/google_images_photo_cell.ji;27;views/you_tube_photo_cell.ji;30;views/facebook_category_cell.ji;29;views/page_number_list_cell.ji;24;views/page_number_view.ji;25;views/page_control_cell.ji;22;views/tool_list_cell.ji;23;views/tweet_data_view.ji;33;views/models/p_m_highlight_view.ji;29;views/models/p_m_image_view.ji;38;controllers/prompt_window_controller.ji;32;controllers/twitter_controller.ji;31;controllers/flickr_controller.ji;33;controllers/you_tube_controller.ji;33;controllers/facebook_controller.ji;38;controllers/google_images_controller.ji;34;controllers/tool_view_controller.ji;34;controllers/page_view_controller.ji;38;controllers/document_view_controller.ji;52;controllers/document_view_controller_edit_existing.ji;51;controllers/properties/property_window_controller.ji;56;controllers/properties/property_publication_controller.ji;53;controllers/properties/property_link_t_e_controller.ji;58;controllers/properties/property_highlight_t_e_controller.ji;54;controllers/properties/property_image_t_e_controller.ji;59;controllers/properties/property_facebook_image_controller.ji;57;controllers/properties/property_flickr_image_controller.ji;61;controllers/properties/property_twitter_feed_t_e_controller.ji;53;controllers/properties/property_text_t_e_controller.ji;53;controllers/properties/property_text_t_e_controller.ji;49;controllers/properties/property_page_controller.ji;59;controllers/properties/property_you_tube_video_controller.ji;59;controllers/properties/property_pay_pal_button_controller.ji;70;controllers/properties/property_you_tube_seek_to_link_t_e_controller.jt;5804;
objj_executeFile("monkeypatch/c_p_alert.j",YES);
objj_executeFile("monkeypatch/c_p_array.j",YES);
objj_executeFile("monkeypatch/c_p_box.j",YES);
objj_executeFile("monkeypatch/c_p_cib.j",YES);
objj_executeFile("monkeypatch/c_p_collection_view.j",YES);
objj_executeFile("monkeypatch/c_p_color.j",YES);
objj_executeFile("monkeypatch/c_p_cursor.j",YES);
objj_executeFile("monkeypatch/c_p_date.j",YES);
objj_executeFile("monkeypatch/c_p_event.j",YES);
objj_executeFile("monkeypatch/c_p_menu_item.j",YES);
objj_executeFile("monkeypatch/c_p_string.j",YES);
objj_executeFile("monkeypatch/c_p_text_field.j",YES);
objj_executeFile("monkeypatch/l_p_multi_line_text_field.j",YES);
objj_executeFile("helpers/application_helpers.j",YES);
objj_executeFile("helpers/image_loader_helpers.j",YES);
objj_executeFile("helpers/alert_user_helper.j",YES);
objj_executeFile("libs/drag_drop_manager.j",YES);
objj_executeFile("libs/placeholder_manager.j",YES);
objj_executeFile("libs/configuration_manager.j",YES);
objj_executeFile("libs/communication_workers.j",YES);
objj_executeFile("libs/communication_manager.j",YES);
objj_executeFile("libs/theme_manager.j",YES);
objj_executeFile("mixins/seek_to_dropdown_helpers.j",YES);
objj_executeFile("mixins/document_view_cell_snapgrid.j",YES);
objj_executeFile("mixins/you_tube_video_properties.j",YES);
objj_executeFile("mixins/you_tube_page_element.j",YES);
objj_executeFile("mixins/image_element_properties.j",YES);
objj_executeFile("mixins/alert_window_support.j",YES);
objj_executeFile("mixins/object_state_support.j",YES);
objj_executeFile("mixins/page_element/color_support.j",YES);
objj_executeFile("mixins/page_element/size_support.j",YES);
objj_executeFile("mixins/page_element/input_support.j",YES);
objj_executeFile("mixins/page_element/font_support.j",YES);
objj_executeFile("mixins/page_element/text_input_support.j",YES);
objj_executeFile("mixins/page_element/rotation_support.j",YES);
objj_executeFile("mixins/property_controller/font_support.j",YES);
objj_executeFile("mixins/property_controller/rotation_support.j",YES);
objj_executeFile("mixins/property_controller/image_support.j",YES);
objj_executeFile("mixins/property_controller/image_flag_support.j",YES);
objj_executeFile("models/page.j",YES);
objj_executeFile("models/page_element.j",YES);
objj_executeFile("models/tweet.j",YES);
objj_executeFile("models/flickr.j",YES);
objj_executeFile("models/facebook.j",YES);
objj_executeFile("models/google_image.j",YES);
objj_executeFile("models/tool_element.j",YES);
objj_executeFile("models/image_t_e.j",YES);
objj_executeFile("models/text_t_e.j",YES);
objj_executeFile("models/fb_like_t_e.j",YES);
objj_executeFile("models/twitter_feed_t_e.j",YES);
objj_executeFile("models/tweet_t_e.j",YES);
objj_executeFile("models/digg_button_t_e.j",YES);
objj_executeFile("models/link_t_e.j",YES);
objj_executeFile("models/highlight_t_e.j",YES);
objj_executeFile("models/you_tube_video.j",YES);
objj_executeFile("models/you_tube_ctrl_t_e.j",YES);
objj_executeFile("models/you_tube_t_e.j",YES);
objj_executeFile("models/pay_pal_button_t_e.j",YES);
objj_executeFile("models/you_tube_seek_to_link_t_e.j",YES);
objj_executeFile("models/pub_config.j",YES);
objj_executeFile("views/document_view.j",YES);
objj_executeFile("views/document_view_cell.j",YES);
objj_executeFile("views/document_view_editor_view.j",YES);
objj_executeFile("views/base_image_cell.j",YES);
objj_executeFile("views/flickr_photo_cell.j",YES);
objj_executeFile("views/facebook_photo_cell.j",YES);
objj_executeFile("views/google_images_photo_cell.j",YES);
objj_executeFile("views/you_tube_photo_cell.j",YES);
objj_executeFile("views/facebook_category_cell.j",YES);
objj_executeFile("views/page_number_list_cell.j",YES);
objj_executeFile("views/page_number_view.j",YES);
objj_executeFile("views/page_control_cell.j",YES);
objj_executeFile("views/tool_list_cell.j",YES);
objj_executeFile("views/tweet_data_view.j",YES);
objj_executeFile("views/models/p_m_highlight_view.j",YES);
objj_executeFile("views/models/p_m_image_view.j",YES);
objj_executeFile("controllers/prompt_window_controller.j",YES);
objj_executeFile("controllers/twitter_controller.j",YES);
objj_executeFile("controllers/flickr_controller.j",YES);
objj_executeFile("controllers/you_tube_controller.j",YES);
objj_executeFile("controllers/facebook_controller.j",YES);
objj_executeFile("controllers/google_images_controller.j",YES);
objj_executeFile("controllers/tool_view_controller.j",YES);
objj_executeFile("controllers/page_view_controller.j",YES);
objj_executeFile("controllers/document_view_controller.j",YES);
objj_executeFile("controllers/document_view_controller_edit_existing.j",YES);
objj_executeFile("controllers/properties/property_window_controller.j",YES);
objj_executeFile("controllers/properties/property_publication_controller.j",YES);
objj_executeFile("controllers/properties/property_link_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_highlight_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_image_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_facebook_image_controller.j",YES);
objj_executeFile("controllers/properties/property_flickr_image_controller.j",YES);
objj_executeFile("controllers/properties/property_twitter_feed_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_text_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_text_t_e_controller.j",YES);
objj_executeFile("controllers/properties/property_page_controller.j",YES);
objj_executeFile("controllers/properties/property_you_tube_video_controller.j",YES);
objj_executeFile("controllers/properties/property_pay_pal_button_controller.j",YES);
objj_executeFile("controllers/properties/property_you_tube_seek_to_link_t_e_controller.j",YES);
p;42;app/controllers/document_view_controller.jt;8752;@STATIC;1.0;t;8733;
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"DocumentViewController"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("m_z_index_value"),new objj_ivar("m_current_page_idx"),new objj_ivar("m_pageStore"),new objj_ivar("m_bgView"),new objj_ivar("m_shadowView"),new objj_ivar("m_documentView")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("shadowView"),function(_4,_5){
with(_4){
return m_shadowView;
}
}),new objj_method(sel_getUid("init"),function(_6,_7){
with(_6){
_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("DocumentViewController").super_class},"init");
if(_6){
m_z_index_value=0;
m_current_page_idx=-1;
m_pageStore=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_6,sel_getUid("pageNumberDidChange:"),PageViewPageNumberDidChangeNotification,nil);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_6,sel_getUid("clearDocumentView:"),PageViewLastPageWasDeletedNotification,objj_msgSend(PageViewController,"sharedInstance"));
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_6,sel_getUid("pageWasDeleted:"),PageViewPageWasDeletedNotification,nil);
}
return _6;
}
}),new objj_method(sel_getUid("addDocumentViewTo:"),function(_8,_9,_a){
with(_8){
var _b=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"getA4Size");
var _c=CGRectMake(30,30,_b.width,_b.height);
m_bgView=_a;
m_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",CGRectInset(_c,-7,-5));
objj_msgSend(m_shadowView,"setAutoresizingMask:",CPViewNotSizable);
objj_msgSend(m_shadowView,"setWeight:",CPHeavyShadow);
m_documentView=objj_msgSend(objj_msgSend(DocumentView,"alloc"),"initWithFrame:",_c);
objj_msgSend(m_documentView,"setHidden:",YES);
objj_msgSend(m_shadowView,"setHidden:",YES);
objj_msgSend(_a,"addSubview:",m_shadowView);
objj_msgSend(_a,"addSubview:",m_documentView);
}
}),new objj_method(sel_getUid("currentPage"),function(_d,_e){
with(_d){
return objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPage"),"pageIdx");
}
}),new objj_method(sel_getUid("currentStore"),function(_f,_10){
with(_f){
var _11=objj_msgSend(_f,"currentPage");
var _12=objj_msgSend(m_pageStore,"objectForKey:",_11);
if(!_12){
_12=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init");
objj_msgSend(m_pageStore,"setObject:forKey:",_12,_11);
}
return _12;
}
}),new objj_method(sel_getUid("addPageToStore:withPageElements:"),function(_13,_14,_15,_16){
with(_13){
objj_msgSend(objj_msgSend(_13,"getStoreForPage:",_15),"addObjectsFromArray:",objj_msgSend(PageElement,"createObjectsFromServerJson:",_16));
}
}),new objj_method(sel_getUid("getStoreForPage:"),function(_17,_18,_19){
with(_17){
var _1a=objj_msgSend(m_existingPages,"objectForKey:",objj_msgSend(_19,"pageIdx"));
if(!_1a){
_1a=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init");
objj_msgSend(m_existingPages,"setObject:forKey:",_1a,objj_msgSend(_19,"pageIdx"));
}
return _1a;
}
}),new objj_method(sel_getUid("allPageElementsOfType:orType:"),function(_1b,_1c,_1d,_1e){
with(_1b){
var ary=[];
var _1f=objj_msgSend(m_pageStore,"allKeys");
for(var idx=0;idx<objj_msgSend(_1f,"count");idx++){
var _20=objj_msgSend(m_pageStore,"objectForKey:",_1f[idx]);
for(var jdx=0;jdx<objj_msgSend(_20,"count");jdx++){
if(objj_msgSend(_20[jdx],"class")===_1d||objj_msgSend(_20[jdx],"class")===_1e){
ary.push(_20[jdx]);
}
}
}
return ary;
}
}),new objj_method(sel_getUid("pageNumberDidChange:"),function(_21,_22,_23){
with(_21){
var _24=objj_msgSend(_23,"object");
if(m_current_page_idx==objj_msgSend(_24,"pageIdx")){
return;
}
m_current_page_idx=objj_msgSend(_24,"pageIdx");
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",nil);
objj_msgSend(m_documentView,"setContent:",objj_msgSend(_21,"currentStore"));
objj_msgSend(m_documentView,"setBackgroundColor:",objj_msgSend(_24,"getColor"));
objj_msgSend(_21,"updatePageSize:",objj_msgSend(_24,"getFrameSize"));
objj_msgSend(m_shadowView,"setHidden:",!objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pubProperties"),"hasShadow"));
objj_msgSend(m_documentView,"setHidden:",NO);
}
}),new objj_method(sel_getUid("pageWasDeleted:"),function(_25,_26,_27){
with(_25){
var _28=objj_msgSend(_27,"object");
var _29=objj_msgSend(m_pageStore,"objectForKey:",objj_msgSend(_28,"pageIdx"));
if(_29){
objj_msgSend(_29,"removeAllObjects");
}
}
}),new objj_method(sel_getUid("clearDocumentView:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",nil);
objj_msgSend(m_documentView,"setContent:",[]);
}
}),new objj_method(sel_getUid("setBackgroundColor:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(m_documentView,"setBackgroundColor:",_2f);
objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj"),"setColor:",_2f);
}
}),new objj_method(sel_getUid("backgroundColor"),function(_30,_31){
with(_30){
return objj_msgSend(m_documentView,"backgroundColor");
}
}),new objj_method(sel_getUid("pageOrientation"),function(_32,_33){
with(_32){
return objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj"),"orientation");
}
}),new objj_method(sel_getUid("setPageOrientation:"),function(_34,_35,_36){
with(_34){
var _37=objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj");
objj_msgSend(_37,"setOrientation:",_36);
objj_msgSend(_34,"updatePageSize:",objj_msgSend(_37,"getFrameSize"));
}
}),new objj_method(sel_getUid("pageSize"),function(_38,_39){
with(_38){
return objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj"),"size");
}
}),new objj_method(sel_getUid("setPageSize:"),function(_3a,_3b,_3c){
with(_3a){
var _3d=objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj");
objj_msgSend(_3d,"setSize:",_3c);
objj_msgSend(_3a,"updatePageSize:",objj_msgSend(_3d,"getFrameSize"));
}
}),new objj_method(sel_getUid("updateServer"),function(_3e,_3f){
with(_3e){
objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj"),"updateServer");
}
}),new objj_method(sel_getUid("updatePageSize:"),function(_40,_41,_42){
with(_40){
objj_msgSend(m_documentView,"setFrameSize:",_42);
objj_msgSend(m_bgView,"setFrameSize:",CGSizeMake(_42.width+60,_42.height+60));
objj_msgSend(m_shadowView,"setFrameSize:",CGSizeMake(_42.width+14,_42.height+10));
}
}),new objj_method(sel_getUid("draggedObjects:atLocation:"),function(_43,_44,_45,_46){
with(_43){
objj_msgSend(_43,"addObjectsToView:atLocation:",_45,_46);
for(var idx=0;idx<_45.length;idx++){
objj_msgSend(_45[idx],"addToServer");
}
}
}),new objj_method(sel_getUid("addObjectsToView:atLocation:"),function(_47,_48,_49,_4a){
with(_47){
objj_msgSend(objj_msgSend(_47,"currentStore"),"addObjectsFromArray:",_49);
return objj_msgSend(m_documentView,"addObjectsToView:atLocation:",_49,_4a);
}
}),new objj_method(sel_getUid("currentMidPoint"),function(_4b,_4c){
with(_4b){
return objj_msgSend(m_documentView,"convertPoint:toView:",CGPointMake(CGRectGetMidX(objj_msgSend(m_documentView,"frame")),CGRectGetMidY(objj_msgSend(m_documentView,"frame"))),nil);
}
}),new objj_method(sel_getUid("removeObject:"),function(_4d,_4e,obj){
with(_4d){
var _4f=objj_msgSend(m_pageStore,"allKeys");
for(var idx=0;idx<_4f.length;idx++){
objj_msgSend(objj_msgSend(m_pageStore,"objectForKey:",_4f[idx]),"removeObjectIdenticalTo:",obj);
}
}
}),new objj_method(sel_getUid("nextZIndex"),function(_50,_51){
with(_50){
var _52=objj_msgSend(_50,"currentStore");
objj_msgSend(_52,"sortUsingSelector:",sel_getUid("compareZ:"));
return (objj_msgSend(_52[0],"zIndex")+1);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("sharedInstance"),function(_53,_54){
with(_53){
if(!_1){
if(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"is_new")){
_1=objj_msgSend(objj_msgSend(DocumentViewController,"alloc"),"init");
}else{
_1=objj_msgSend(objj_msgSend(DocumentViewControllerEditExisting,"alloc"),"init");
}
}
return _1;
}
}),new objj_method(sel_getUid("createDocumentView"),function(_55,_56){
with(_55){
var _57=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"getA4Size");
var _58=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,_57.height+60,_57.height+60));
objj_msgSend(_58,"setAutoresizesSubviews:",NO);
objj_msgSend(_58,"setAutoresizingMask:",CPViewNotSizable);
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"addDocumentViewTo:",_58);
return _58;
}
})]);
p;56;app/controllers/document_view_controller_edit_existing.jt;3412;@STATIC;1.0;t;3393;
var _1=objj_allocateClassPair(DocumentViewController,"DocumentViewControllerEditExisting"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_existingPages"),new objj_ivar("m_pagesToLoad"),new objj_ivar("m_alert"),new objj_ivar("m_timer")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("DocumentViewControllerEditExisting").super_class},"init");
if(_3){
objj_msgSend(AlertWindowSupport,"addToClassOfObject:",_3);
m_existingPages=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
m_pagesToLoad=0;
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("pagesWereRetrieved:"),PageViewRetrievedPagesNotification,nil);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("allPagesWereLoaded:"),DocumentViewControllerAllPagesLoaded,_3);
objj_msgSend(_3,"awsShowAlertWindow:title:interval:delegate:selector:","Publication is loading - Please Wait","Publication Loading ...",15,_3,sel_getUid("alertWindowWasClosedByTimer"));
}
return _3;
}
}),new objj_method(sel_getUid("pagesWereRetrieved:"),function(_5,_6,_7){
with(_5){
var _8=objj_msgSend(_7,"object");
m_pagesToLoad=objj_msgSend(_8,"count");
for(var _9=0;_9<m_pagesToLoad;_9++){
var _a=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_a,"setTarget:",_5);
objj_msgSend(_a,"setSelector:",sel_getUid("loadPageData:"));
objj_msgSend(_a,"setArgument:atIndex:",_8[_9],2);
objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",(0.3*_9),_a,NO);
}
}
}),new objj_method(sel_getUid("loadPageData:"),function(_b,_c,_d){
with(_b){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"pageElementsForPage:delegate:selector:",_d,_b,sel_getUid("pageRequestCompleted:"));
}
}),new objj_method(sel_getUid("alertWindowWasClosedByTimer"),function(_e,_f){
with(_e){
objj_msgSend(m_documentView,"setContent:",objj_msgSend(_e,"currentStore"));
}
}),new objj_method(sel_getUid("allPagesWereLoaded:"),function(_10,_11,_12){
with(_10){
objj_msgSend(_10,"awsCloseAlertWindowImmediately");
objj_msgSend(m_documentView,"setContent:",objj_msgSend(_10,"currentStore"));
}
}),new objj_method(sel_getUid("pageRequestCompleted:"),function(_13,_14,_15){
with(_13){
switch(_15.action){
case "pages_show":
if(_15.status=="ok"){
var _16=_15.data.page;
var _17=objj_msgSend(objj_msgSend(Page,"alloc"),"initWithJSONObject:",_15.data);
if(_16.page_elements.length>0){
objj_msgSend(objj_msgSend(_13,"getStoreForPage:",_17),"addObjectsFromArray:",objj_msgSend(PageElement,"createObjectsFromServerJson:",_16.page_elements));
}
}
if(--m_pagesToLoad==0){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",DocumentViewControllerAllPagesLoaded,_13);
}
break;
}
}
}),new objj_method(sel_getUid("currentStore"),function(_18,_19){
with(_18){
var _1a=objj_msgSend(_18,"currentPage");
var _1b=objj_msgSendSuper({receiver:_18,super_class:objj_getClass("DocumentViewControllerEditExisting").super_class},"currentStore");
var _1c=objj_msgSend(m_existingPages,"objectForKey:",_1a);
if(_1c&&objj_msgSend(_1c,"count")>0){
objj_msgSend(_1b,"addObjectsFromArray:",_1c);
objj_msgSend(_1c,"removeAllObjects");
}
return _1b;
}
})]);
p;37;app/controllers/facebook_controller.jt;8712;@STATIC;1.0;t;8693;
var _1=nil,_2="https://graph.facebook.com/me",_3="https://graph.facebook.com";
var _4=objj_allocateClassPair(CPWindowController,"FacebookController"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("m_spinnerView"),new objj_ivar("m_profileImage"),new objj_ivar("m_photoView"),new objj_ivar("m_categoryView"),new objj_ivar("m_scrollView"),new objj_ivar("m_contentName"),new objj_ivar("m_splitView"),new objj_ivar("m_updateButton"),new objj_ivar("m_cookieValues"),new objj_ivar("m_next_photos_page_url"),new objj_ivar("m_timer"),new objj_ivar("m_fbAlbumsData")]);
objj_registerClassPair(_4);
class_addMethods(_4,[new objj_method(sel_getUid("awakeFromCib"),function(_6,_7){
with(_6){
m_cookieValues=getQueryVariables(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"fbCookie"));
var _8=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_8,"setView:",objj_msgSend(objj_msgSend(FacebookPhotoCell,"alloc"),"initWithFrame:",CGRectMake(0,0,150,150)));
objj_msgSend(m_photoView,"setDelegate:",_6);
objj_msgSend(m_photoView,"setItemPrototype:",_8);
objj_msgSend(m_photoView,"setSelectable:",YES);
objj_msgSend(m_photoView,"setAllowsMultipleSelection:",YES);
objj_msgSend(m_photoView,"setMinItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setMaxItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setAutoresizingMask:",CPViewWidthSizable);
var _9=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_9,"setView:",objj_msgSend(objj_msgSend(FacebookCategoryCell,"alloc"),"initWithFrame:",CGRectMake(0,0,45,45)));
objj_msgSend(m_categoryView,"setDelegate:",_6);
objj_msgSend(m_categoryView,"setSelectable:",YES);
objj_msgSend(m_categoryView,"setAllowsMultipleSelection:",NO);
objj_msgSend(m_categoryView,"setItemPrototype:",_9);
objj_msgSend(m_categoryView,"setMinItemSize:",CGSizeMake(45,45));
objj_msgSend(m_categoryView,"setMaxItemSize:",CGSizeMake(45,45));
objj_msgSend(m_categoryView,"setMaxNumberOfRows:",1);
objj_msgSend(m_categoryView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(CPBox,"makeBorder:",m_splitView);
objj_msgSend(m_spinnerView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(m_spinnerView,"setHidden:",YES);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_6,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
objj_msgSend(_6,"obtainAlbumData");
if(_1&&_1.name){
objj_msgSend(_window,"setTitle:",("Facebook - "+_1.name));
objj_msgSend(_6,"setProfileImage");
}else{
objj_msgSend(_6,"obtainUserName");
}
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_a,_b,_c){
with(_a){
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
}
}),new objj_method(sel_getUid("setDelegate:"),function(_d,_e,_f){
with(_d){
}
}),new objj_method(sel_getUid("setupScrollerObserver"),function(_10,_11){
with(_10){
var _12=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_12,"setTarget:",_10);
objj_msgSend(_12,"setSelector:",sel_getUid("checkVerticalScroller:"));
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
m_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",0.5,_12,YES);
}
}),new objj_method(sel_getUid("checkVerticalScroller:"),function(_13,_14,obj){
with(_13){
if(m_next_photos_page_url&&objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")==1){
objj_msgSend(m_timer,"invalidate");
objj_msgSend(m_spinnerView,"setHidden:",NO);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",m_next_photos_page_url,_13,sel_getUid("fbUpdatePhotos:"));
}
}
}),new objj_method(sel_getUid("obtainAlbumData"),function(_15,_16){
with(_15){
objj_msgSend(m_spinnerView,"setHidden:",NO);
m_fbAlbumsData=nil;
var _17=objj_msgSend(CPString,"stringWithFormat:","%s/albums?access_token=%s",_2,objj_msgSend(m_cookieValues,"objectForKey:","access_token"));
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",_17,_15,sel_getUid("fbUpdateAlbumData:"));
var _17=objj_msgSend(CPString,"stringWithFormat:","%s/friends?access_token=%s",_2,objj_msgSend(m_cookieValues,"objectForKey:","access_token"));
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",_17,_15,sel_getUid("fbUpdateAlbumData:"));
}
}),new objj_method(sel_getUid("fbUpdateAlbumData:"),function(_18,_19,_1a){
with(_18){
objj_msgSend(m_spinnerView,"setHidden:",YES);
if(m_fbAlbumsData){
m_fbAlbumsData=objj_msgSend(m_fbAlbumsData,"arrayByAddingObjectsFromArray:",_1a.data);
}else{
m_fbAlbumsData=_1a.data;
}
objj_msgSend(m_categoryView,"setContent:",m_fbAlbumsData);
}
}),new objj_method(sel_getUid("obtainUserName"),function(_1b,_1c){
with(_1b){
var _1d=objj_msgSend(CPString,"stringWithFormat:","%s?access_token=%s",_2,objj_msgSend(m_cookieValues,"objectForKey:","access_token"));
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",_1d,_1b,sel_getUid("fbUpdateUserName:"));
}
}),new objj_method(sel_getUid("fbUpdateUserName:"),function(_1e,_1f,_20){
with(_1e){
if(_20.name){
_1=_20;
objj_msgSend(_window,"setTitle:",("Facebook - "+_1.name));
objj_msgSend(_1e,"setProfileImage");
}else{
objj_msgSend(m_contentName,"setStringValue:","Not able to access Facebook data");
objj_msgSend(m_updateButton,"setEnabled:",NO);
}
}
}),new objj_method(sel_getUid("setProfileImage"),function(_21,_22){
with(_21){
var _23=objj_msgSend(CPString,"stringWithFormat:","https://graph.facebook.com/%s/picture",_1.id);
objj_msgSend(m_profileImage,"setHidden:",NO);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",_23,m_profileImage);
}
}),new objj_method(sel_getUid("obtainPhotos:"),function(_24,_25,idx){
with(_24){
if(m_fbAlbumsData){
var _26=m_fbAlbumsData[idx];
objj_msgSend(m_spinnerView,"setHidden:",NO);
if(_26.from){
var _27=objj_msgSend(CPString,"stringWithFormat:","%s/%s/photos?access_token=%s",_3,_26.id,objj_msgSend(m_cookieValues,"objectForKey:","access_token"));
objj_msgSend(m_contentName,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","Album %s",_26.name));
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",_27,_24,sel_getUid("fbUpdatePhotos:"));
}else{
var _27=objj_msgSend(CPString,"stringWithFormat:","%s/%s/albums?access_token=%s",_3,_26.id,objj_msgSend(m_cookieValues,"objectForKey:","access_token"));
objj_msgSend(m_contentName,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%s's albums",_26.name));
m_fbAlbumsData=nil;
objj_msgSend(m_categoryView,"setContent:",[]);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",_27,_24,sel_getUid("fbUpdateAlbumData:"));
}
objj_msgSend(m_photoView,"setContent:",[]);
}
}
}),new objj_method(sel_getUid("fbUpdatePhotos:"),function(_28,_29,_2a){
with(_28){
var _2b=objj_msgSend(Facebook,"initWithJSONObjects:",_2a.data);
if(_2a.paging&&_2a.paging.next){
m_next_photos_page_url=_2a.paging.next;
objj_msgSend(_28,"setupScrollerObserver");
}else{
m_next_photos_page_url=nil;
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
}
var _2c=objj_msgSend(objj_msgSend(m_photoView,"content"),"arrayByAddingObjectsFromArray:",_2b);
objj_msgSend(m_photoView,"setContent:",_2c);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreFacebook:",_2b);
objj_msgSend(m_spinnerView,"setHidden:",YES);
objj_msgSend(m_photoView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"));
}
}),new objj_method(sel_getUid("doUpdate:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(m_spinnerView,"setHidden:",NO);
objj_msgSend(m_photoView,"setContent:",[]);
objj_msgSend(m_categoryView,"setContent:",[]);
objj_msgSend(_2d,"obtainAlbumData");
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_30,_31,_32,_33,_34){
with(_30){
if(_32==m_photoView){
var _35=[];
objj_msgSend(_33,"getIndexes:maxCount:inIndexRange:",_35,(objj_msgSend(_33,"count")+1),nil);
var _36=[];
var _37=objj_msgSend(m_photoView,"content");
for(var idx=0;idx<objj_msgSend(_35,"count");idx++){
objj_msgSend(_36,"addObject:",objj_msgSend(_37[_35[idx]],"id_str"));
}
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_36);
}else{
return nil;
}
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_38,_39,_3a,_3b){
with(_38){
if(_3a==m_photoView){
return [FacebookDragType];
}else{
return nil;
}
}
}),new objj_method(sel_getUid("collectionViewDidChangeSelection:"),function(_3c,_3d,_3e){
with(_3c){
CPLogConsole("[FBC] something changed");
if(_3e==m_categoryView){
var idx=objj_msgSend(objj_msgSend(m_categoryView,"selectionIndexes"),"lastIndex");
if(idx>=0&&idx<m_fbAlbumsData.length){
objj_msgSend(_3c,"obtainPhotos:",idx);
}
}
}
})]);
p;35;app/controllers/flickr_controller.jt;5060;@STATIC;1.0;t;5041;
var _1=objj_allocateClassPair(CPWindowController,"FlickrController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_photoView"),new objj_ivar("m_searchTerm"),new objj_ivar("m_spinnerImage"),new objj_ivar("m_scrollView"),new objj_ivar("m_indexField"),new objj_ivar("m_current_page"),new objj_ivar("m_timer")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
var _5=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_5,"setView:",objj_msgSend(objj_msgSend(FlickrPhotoCell,"alloc"),"initWithFrame:",CGRectMake(0,0,150,150)));
objj_msgSend(m_photoView,"setDelegate:",_3);
objj_msgSend(m_photoView,"setItemPrototype:",_5);
objj_msgSend(m_photoView,"setSelectable:",YES);
objj_msgSend(m_photoView,"setAllowsMultipleSelection:",YES);
objj_msgSend(m_photoView,"setMinItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setMaxItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(m_spinnerImage,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(m_spinnerImage,"setHidden:",YES);
objj_msgSend(m_searchTerm,"setStringValue:",objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"topics"),"anyValue"));
objj_msgSend(CPBox,"makeBorder:",m_scrollView);
m_current_page=1;
objj_msgSend(_3,"doSearch:",_3);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
objj_msgSend(_window,"makeFirstResponder:",m_searchTerm);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_6,_7,_8){
with(_6){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:",_6);
objj_msgSend(m_timer,"invalidate");
}
}),new objj_method(sel_getUid("setupScrollerObserver"),function(_9,_a){
with(_9){
var _b=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_b,"setTarget:",_9);
objj_msgSend(_b,"setSelector:",sel_getUid("checkVerticalScroller:"));
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
m_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",0.5,_b,YES);
}
}),new objj_method(sel_getUid("checkVerticalScroller:"),function(_c,_d,_e){
with(_c){
var _f=objj_msgSend(CPString,"stringWithFormat:","%d of %d",(objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")*objj_msgSend(objj_msgSend(m_photoView,"content"),"count")),objj_msgSend(objj_msgSend(m_photoView,"content"),"count"));
objj_msgSend(m_indexField,"setStringValue:",_f);
var _10=objj_msgSend(m_searchTerm,"stringValue");
if(_10&&_10!==""&&objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")==1){
objj_msgSend(m_timer,"invalidate");
objj_msgSend(m_spinnerImage,"setHidden:",NO);
m_current_page++;
objj_msgSend(Flickr,"searchUrl:pageNumber:delegate:selector:",_10,m_current_page,_c,sel_getUid("urlIsReadyDude:"));
}
}
}),new objj_method(sel_getUid("urlIsReadyDude:"),function(_11,_12,_13){
with(_11){
if(_13){
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",_13,_11,sel_getUid("loadPhotos:"),"jsoncallback");
}else{
objj_msgSend(m_spinnerImage,"setHidden:",YES);
}
}
}),new objj_method(sel_getUid("doSearch:"),function(_14,_15,_16){
with(_14){
var _17=objj_msgSend(m_searchTerm,"stringValue");
if(_17&&_17!==""){
objj_msgSend(m_spinnerImage,"setHidden:",NO);
m_current_page=1;
objj_msgSend(m_photoView,"setContent:",[]);
objj_msgSend(Flickr,"searchUrl:pageNumber:delegate:selector:",_17,m_current_page,_14,sel_getUid("urlIsReadyDude:"));
}
}
}),new objj_method(sel_getUid("loadPhotos:"),function(_18,_19,_1a){
with(_18){
objj_msgSend(m_spinnerImage,"setHidden:",YES);
if(_1a.photos){
var _1b=objj_msgSend(Flickr,"initWithJSONObjects:",_1a.photos.photo);
var _1c=objj_msgSend(objj_msgSend(m_photoView,"content"),"arrayByAddingObjectsFromArray:",_1b);
objj_msgSend(m_photoView,"setContent:",_1c);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreFlickrImages:",_1b);
objj_msgSend(m_photoView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"));
if(_1a.photos.photo.length>0){
objj_msgSend(_18,"setupScrollerObserver");
}
}
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_1d,_1e,_1f,_20,_21){
with(_1d){
CPLogConsole("[FLICKR PHOTO VIEW] preparing data for drag");
var _22=[];
objj_msgSend(_20,"getIndexes:maxCount:inIndexRange:",_22,(objj_msgSend(_20,"count")+1),nil);
var _23=[];
var _24=objj_msgSend(m_photoView,"content");
for(var idx=0;idx<objj_msgSend(_22,"count");idx++){
objj_msgSend(_23,"addObject:",objj_msgSend(_24[_22[idx]],"id_str"));
}
CPLogConsole("[FLICKR PHOTO VIEW] Data: "+_23);
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_23);
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_25,_26,_27,_28){
with(_25){
return [FlickrDragType];
}
})]);
p;42;app/controllers/google_images_controller.jt;4953;@STATIC;1.0;t;4934;
var _1=objj_allocateClassPair(CPWindowController,"GoogleImagesController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_photoView"),new objj_ivar("m_searchTerm"),new objj_ivar("m_spinnerImage"),new objj_ivar("m_scrollView"),new objj_ivar("m_indexField"),new objj_ivar("m_next_photos_page_url"),new objj_ivar("m_timer")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
var _5=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_5,"setView:",objj_msgSend(objj_msgSend(GoogleImagesPhotoCell,"alloc"),"initWithFrame:",CGRectMake(0,0,150,150)));
objj_msgSend(m_photoView,"setDelegate:",_3);
objj_msgSend(m_photoView,"setItemPrototype:",_5);
objj_msgSend(m_photoView,"setSelectable:",YES);
objj_msgSend(m_photoView,"setAllowsMultipleSelection:",YES);
objj_msgSend(m_photoView,"setMinItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setMaxItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(m_spinnerImage,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(m_spinnerImage,"setHidden:",YES);
objj_msgSend(m_searchTerm,"setTarget:",_3);
objj_msgSend(m_searchTerm,"setAction:",sel_getUid("doSearch:"));
objj_msgSend(m_searchTerm,"setStringValue:",objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"topics"),"anyValue"));
objj_msgSend(CPBox,"makeBorder:",m_scrollView);
objj_msgSend(_3,"doSearch:",_3);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
objj_msgSend(_window,"makeFirstResponder:",m_searchTerm);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_6,_7,_8){
with(_6){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:",_6);
objj_msgSend(m_timer,"invalidate");
}
}),new objj_method(sel_getUid("setupScrollerObserver"),function(_9,_a){
with(_9){
var _b=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_b,"setTarget:",_9);
objj_msgSend(_b,"setSelector:",sel_getUid("checkVerticalScroller:"));
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
m_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",0.5,_b,YES);
}
}),new objj_method(sel_getUid("checkVerticalScroller:"),function(_c,_d,_e){
with(_c){
objj_msgSend(m_indexField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%d of %d",(objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")*objj_msgSend(objj_msgSend(m_photoView,"content"),"count")),objj_msgSend(objj_msgSend(m_photoView,"content"),"count")));
if(m_next_photos_page_url&&objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")==1){
objj_msgSend(m_timer,"invalidate");
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",m_next_photos_page_url,_c,sel_getUid("loadPhotos:"),"callback");
}
}
}),new objj_method(sel_getUid("doSearch:"),function(_f,_10,_11){
with(_f){
var _12=objj_msgSend(m_searchTerm,"stringValue");
if(_12&&_12!==""){
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(m_photoView,"setContent:",[]);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",objj_msgSend(GoogleImage,"searchUrlFor:",_12),_f,sel_getUid("loadPhotos:"),"callback");
}
}
}),new objj_method(sel_getUid("loadPhotos:"),function(_13,_14,_15){
with(_13){
var _16=objj_msgSend(GoogleImage,"initWithJSONObjects:",_15.responseData.results);
var _17=objj_msgSend(objj_msgSend(m_photoView,"content"),"arrayByAddingObjectsFromArray:",_16);
objj_msgSend(m_photoView,"setContent:",_17);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreGoogleImages:",_16);
objj_msgSend(m_photoView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"));
objj_msgSend(m_spinnerImage,"setHidden:",YES);
m_next_photos_page_url=objj_msgSend(GoogleImage,"searchUrlNextPage:searchTerm:",_15.responseData.cursor,objj_msgSend(m_searchTerm,"stringValue"));
if(m_next_photos_page_url){
objj_msgSend(_13,"setupScrollerObserver");
}else{
objj_msgSend(m_timer,"invalidate");
}
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_18,_19,_1a,_1b,_1c){
with(_18){
var _1d=[];
objj_msgSend(_1b,"getIndexes:maxCount:inIndexRange:",_1d,(objj_msgSend(_1b,"count")+1),nil);
var _1e=[];
var _1f=objj_msgSend(m_photoView,"content");
for(var idx=0;idx<objj_msgSend(_1d,"count");idx++){
objj_msgSend(_1e,"addObject:",objj_msgSend(_1f[_1d[idx]],"id_str"));
}
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_1e);
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_20,_21,_22,_23){
with(_20){
return [GoogleImagesDragType];
}
})]);
p;38;app/controllers/page_view_controller.jt;12264;@STATIC;1.0;t;12244;
var _1=nil;
var _2=["{ \"name\" : \"-\", \"type\": \"button\", \"tooltip\": \"Remove current page from document.\","+"\"selector\": \"removePage:\", \"image\" : \"deletePageButton\" }","{ \"name\" : \"+\", \"type\": \"button\", \"tooltip\": \"Add new page to document.\","+"\"selector\": \"addPage:\", \"image\" : \"newPageButton\" }","{ \"name\" : \"C\", \"type\": \"button\", \"tooltip\": \"Copy current page and add to end of document.\","+"\"selector\": \"copyPage:\", \"image\" : \"copyPageButton\" }","{ \"name\" : \"P\", \"type\": \"button\", \"tooltip\": \"Modify current pages properties.\","+"\"selector\": \"openProperties:\",\"image\" : \"propertyPageButton\" }","{ \"name\" : \"\", \"type\" : \"label\" }"];
var _3=objj_allocateClassPair(CPObject,"PageViewController"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("m_pageNumberView"),new objj_ivar("m_pageCtrlView"),new objj_ivar("currentPage")]);
objj_registerClassPair(_3);
class_addMethods(_3,[new objj_method(sel_getUid("currentPage"),function(_5,_6){
with(_5){
return currentPage;
}
}),new objj_method(sel_getUid("setCurrentPage:"),function(_7,_8,_9){
with(_7){
currentPage=_9;
}
}),new objj_method(sel_getUid("init"),function(_a,_b){
with(_a){
_a=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("PageViewController").super_class},"init");
if(_a){
objj_msgSend(AlertWindowSupport,"addToClassOfObject:",_a);
var _c=new Object();
_c.number="1";
_c.name="Page";
_c.id=1;
_c.page=_c;
currentPage=objj_msgSend(objj_msgSend(Page,"alloc"),"initWithJSONObject:",_c);
}
return _a;
}
}),new objj_method(sel_getUid("collectionViewDidChangeSelection:"),function(_d,_e,_f){
with(_d){
if(_f==m_pageNumberView){
var _10=objj_msgSend(m_pageNumberView,"selectionIndexes");
if(objj_msgSend(_10,"lastIndex")>-1){
var _11=objj_msgSend(objj_msgSend(m_pageNumberView,"content"),"objectAtIndex:",objj_msgSend(_10,"lastIndex"));
objj_msgSend(_d,"setCurrentPage:",_11);
CPLogConsole("[PVC] page number is now: "+objj_msgSend(_d,"currentPage"));
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageViewPageNumberDidChangeNotification,_11);
}
}
}
}),new objj_method(sel_getUid("sendOffRequestForPageNames"),function(_12,_13){
with(_12){
var ary=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pagesPlaceholders");
var _14=[];
for(var idx=0;idx<objj_msgSend(ary,"count");idx++){
_14.push(objj_msgSend(objj_msgSend(Page,"alloc"),"initWithJSONObject:",objj_msgSend(ary[idx],"objectFromJSON")));
}
objj_msgSend(m_pageNumberView,"setContent:",_14);
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));
objj_msgSend(DocumentViewController,"sharedInstance");
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"pagesForPublication:selector:",_12,sel_getUid("pageRequestCompleted:"));
}
}),new objj_method(sel_getUid("pageRequestCompleted:"),function(_15,_16,_17){
with(_15){
switch(_17.action){
case "pages_index":
if(_17.status=="ok"){
var _18=objj_msgSend(Page,"initWithJSONObjects:",_17.data);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageViewRetrievedPagesNotification,_18);
objj_msgSend(m_pageNumberView,"setContent:",_18);
objj_msgSend(m_pageNumberView,"reloadContent");
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));
}
break;
case "pages_copy":
if(_17.status=="ok"){
new_page=objj_msgSend(objj_msgSend(Page,"alloc"),"initWithJSONObject:",_17.data);
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"addPageToStore:withPageElements:",new_page,_17.data.page.page_elements);
objj_msgSend(m_pageNumberView,"setContent:",objj_msgSend(objj_msgSend(m_pageNumberView,"content"),"arrayByAddingObject:",new_page));
objj_msgSend(m_pageNumberView,"reloadContent");
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",objj_msgSend(objj_msgSend(m_pageNumberView,"content"),"count")-1));
objj_msgSend(m_pageNumberView,"scrollToSelection");
objj_msgSend(_15,"awsCloseAlertWindowImmediately");
}
break;
case "pages_new":
if(_17.status=="ok"){
objj_msgSend(m_pageNumberView,"setContent:",objj_msgSend(Page,"initWithJSONObjects:",_17.data));
objj_msgSend(m_pageNumberView,"reloadContent");
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",_17.data.length-1));
objj_msgSend(m_pageNumberView,"scrollToSelection");
}
break;
case "pages_reorder":
if(_17.status=="ok"){
CPLogConsole("[PVC] page reordering worked");
}else{
CPLogConsole("[PVC] page reordering FAILED");
}
break;
case "pages_destroy":
if(_17.status=="ok"){
CPLogConsole("[PVC] posting deleted page notification");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageViewPageWasDeletedNotification,objj_msgSend(objj_msgSend(Page,"alloc"),"initWithJSONObject:",_17.data));
}
break;
}
}
}),new objj_method(sel_getUid("currentPageObj"),function(_19,_1a){
with(_19){
return objj_msgSend(objj_msgSend(m_pageNumberView,"content"),"objectAtIndex:",objj_msgSend(objj_msgSend(m_pageNumberView,"selectionIndexes"),"lastIndex"));
}
}),new objj_method(sel_getUid("updatePageNameForPage:"),function(_1b,_1c,_1d){
with(_1b){
var _1e=objj_msgSend(m_pageNumberView,"content");
var _1f=-1;
for(var idx=0;idx<objj_msgSend(_1e,"count");idx++){
if(objj_msgSend(_1e[idx],"pageIdx")==objj_msgSend(_1d,"pageIdx")){
_1f=idx;
break;
}
}
if(_1f>-1){
objj_msgSend(objj_msgSend(m_pageNumberView,"items")[_1f],"setRepresentedObject:",_1e[_1f]);
}
}
}),new objj_method(sel_getUid("scrollPageIntoView:"),function(_20,_21,_22){
with(_20){
objj_msgSend(m_pageNumberView,"scrollRectToVisible:",_22);
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_23,_24,_25,_26,_27){
with(_23){
if(_25!=m_pageNumberView){
return nil;
}
var _28=[];
objj_msgSend(_26,"getIndexes:maxCount:inIndexRange:",_28,(objj_msgSend(_26,"count")+1),nil);
var _29=[];
for(var idx=0;idx<objj_msgSend(_28,"count");idx++){
objj_msgSend(_29,"addObject:",_28[idx]);
}
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_29);
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_2a,_2b,_2c,_2d){
with(_2a){
if(_2c==m_pageNumberView){
return [PageNumberDragType];
}else{
return nil;
}
}
}),new objj_method(sel_getUid("insertPageAbove:page:"),function(_2e,_2f,_30,_31){
with(_2e){
var _32=objj_msgSend(m_pageNumberView,"content");
var _33=-1;
for(var idx=0;idx<objj_msgSend(_32,"count");idx++){
if(objj_msgSend(_32[idx],"pageIdx")==objj_msgSend(_31,"pageIdx")){
_33=idx;
break;
}
}
var _34=_32[_30];
objj_msgSend(_32,"removeObjectAtIndex:",_30);
objj_msgSend(_32,"insertObject:atIndex:",_34,_33);
objj_msgSend(m_pageNumberView,"setContent:",objj_msgSend(_2e,"updatePageNumbers:",_32));
objj_msgSend(m_pageNumberView,"reloadContent");
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",_33));
}
}),new objj_method(sel_getUid("updatePageNumbers:"),function(_35,_36,_37){
with(_35){
var _38=1;
for(var idx=0;idx<objj_msgSend(_37,"count");idx++){
objj_msgSend(_37[idx],"setNumber:",(_38++));
}
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"reorderPages:delegate:selector:",_37,_35,sel_getUid("pageRequestCompleted:"));
return _37;
}
}),new objj_method(sel_getUid("addPage:"),function(_39,_3a,_3b){
with(_39){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"newPageForPublication:delegate:selector:","Page",_39,sel_getUid("pageRequestCompleted:"));
}
}),new objj_method(sel_getUid("removePage:"),function(_3c,_3d,_3e){
with(_3c){
var _3f=objj_msgSend(m_pageNumberView,"selectionIndexes");
var _40=objj_msgSend(m_pageNumberView,"content");
var _41=objj_msgSend(_3f,"lastIndex");
var _42=objj_msgSend(_40,"objectAtIndex:",_41);
objj_msgSend(_40,"removeObjectAtIndex:",_41);
objj_msgSend(m_pageNumberView,"setContent:",_40);
objj_msgSend(m_pageNumberView,"reloadContent");
if(objj_msgSend(_40,"count")>0){
if(_41>1){
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",_41-1));
}else{
objj_msgSend(m_pageNumberView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));
}
}else{
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageViewLastPageWasDeletedNotification,_3c);
}
objj_msgSend(m_pageNumberView,"scrollToSelection");
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"deletePageForPublication:delegate:selector:",_42,_3c,sel_getUid("pageRequestCompleted:"));
}
}),new objj_method(sel_getUid("openProperties:"),function(_43,_44,_45){
with(_43){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyPageController,"alloc"),"initWithWindowCibName:",PagePropertyWindowCIB),"showWindow:",_43);
}
}),new objj_method(sel_getUid("copyPage:"),function(_46,_47,_48){
with(_46){
objj_msgSend(_46,"awsShowAlertWindow:title:interval:delegate:selector:","Page being copied - Please Wait","Page copying ...",15,nil,nil);
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"copyPage:delegate:selector:",objj_msgSend(_46,"currentPageObj"),_46,sel_getUid("pageRequestCompleted:"));
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedInstance"),function(_49,_4a){
with(_49){
if(!_1){
_1=objj_msgSend(objj_msgSend(PageViewController,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("createListPageNumbersView:"),function(_4b,_4c,_4d){
with(_4b){
var _4e=objj_msgSend(objj_msgSend(PageNumberView,"alloc"),"initWithFrame:",_4d);
var _4f=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_4f,"setView:",objj_msgSend(objj_msgSend(PageNumberListCell,"alloc"),"initWithFrame:",CGRectMakeZero()));
objj_msgSend(_4e,"setDelegate:",objj_msgSend(PageViewController,"sharedInstance"));
objj_msgSend(_4e,"setItemPrototype:",_4f);
objj_msgSend(_4e,"setMinItemSize:",CGSizeMake(10,35));
objj_msgSend(_4e,"setMaxItemSize:",CGSizeMake(objj_msgSend(ThemeManager,"sideBarWidth"),35));
objj_msgSend(_4e,"setMaxNumberOfColumns:",1);
objj_msgSend(_4e,"setVerticalMargin:",0);
objj_msgSend(_4e,"setAutoresizingMask:",CPViewHeightSizable);
objj_msgSend(_4e,"setSelectable:",YES);
objj_msgSend(_4e,"setAllowsMultipleSelection:",NO);
objj_msgSend(_4e,"setAllowsEmptySelection:",NO);
objj_msgSend(PageViewController,"sharedInstance").m_pageNumberView=_4e;
return _4e;
}
}),new objj_method(sel_getUid("createPageControlView:"),function(_50,_51,_52){
with(_50){
var _53=objj_msgSend(objj_msgSend(CPCollectionView,"alloc"),"initWithFrame:",_52);
var _54=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_54,"setView:",objj_msgSend(objj_msgSend(PageControlCell,"alloc"),"initWithFrame:",CGRectMakeZero()));
var _55=objj_msgSend(objj_msgSend(CPBox,"alloc"),"initWithFrame:",_52);
objj_msgSend(_55,"setBorderWidth:",1);
objj_msgSend(_55,"setBorderColor:",objj_msgSend(ThemeManager,"borderColor"));
objj_msgSend(_55,"setBorderType:",CPLineBorder);
objj_msgSend(_55,"setFillColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_55,"setAutoresizingMask:",CPViewHeightSizable|CPViewWidthSizable);
objj_msgSend(_53,"setDelegate:",objj_msgSend(PageViewController,"sharedInstance"));
objj_msgSend(_53,"setItemPrototype:",_54);
var _56=_2.length;
var _57=CGSizeMake(CGRectGetWidth(_52)/_56,CGRectGetHeight(_52)-1);
objj_msgSend(_53,"setMinItemSize:",_57);
objj_msgSend(_53,"setMaxItemSize:",_57);
objj_msgSend(_53,"setMaxNumberOfColumns:",_56);
objj_msgSend(_53,"setMaxNumberOfRows:",1);
objj_msgSend(_53,"setVerticalMargin:",0);
objj_msgSend(_53,"setAutoresizingMask:",CPViewNotSizable);
objj_msgSend(_53,"setBackgroundColor:",objj_msgSend(ThemeManager,"bgColorPageCtrlView"));
objj_msgSend(_53,"setContent:",objj_msgSend(PageViewController,"allPageCtrlButtons"));
objj_msgSend(PageViewController,"sharedInstance").m_pageCtrlView=_53;
objj_msgSend(_55,"addSubview:",_53);
return _55;
}
}),new objj_method(sel_getUid("allPageCtrlButtons"),function(_58,_59){
with(_58){
var _5a=[];
var idx=_2.length;
while(idx--){
_5a.push(objj_msgSend(_2[idx],"objectFromJSON"));
}
return _5a;
}
})]);
p;42;app/controllers/prompt_window_controller.jt;2095;@STATIC;1.0;t;2076;
var _1=objj_allocateClassPair(CPWindowController,"PromptWindowController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_inputField"),new objj_ivar("m_label"),new objj_ivar("m_borderView"),new objj_ivar("m_prompt"),new objj_ivar("m_defaultValue"),new objj_ivar("m_delegate"),new objj_ivar("m_selector")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("prompt"),function(_3,_4){
with(_3){
return m_prompt;
}
}),new objj_method(sel_getUid("setPrompt:"),function(_5,_6,_7){
with(_5){
m_prompt=_7;
}
}),new objj_method(sel_getUid("defaultValue"),function(_8,_9){
with(_8){
return m_defaultValue;
}
}),new objj_method(sel_getUid("setDefaultValue:"),function(_a,_b,_c){
with(_a){
m_defaultValue=_c;
}
}),new objj_method(sel_getUid("delegate"),function(_d,_e){
with(_d){
return m_delegate;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_f,_10,_11){
with(_f){
m_delegate=_11;
}
}),new objj_method(sel_getUid("selector"),function(_12,_13){
with(_12){
return m_selector;
}
}),new objj_method(sel_getUid("setSelector:"),function(_14,_15,_16){
with(_14){
m_selector=_16;
}
}),new objj_method(sel_getUid("runModal"),function(_17,_18){
with(_17){
objj_msgSend(_17,"loadWindow");
objj_msgSend(m_label,"setStringValue:",m_prompt);
objj_msgSend(_window,"makeFirstResponder:",m_inputField);
objj_msgSend(CPApp,"runModalForWindow:",_window);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_19,_1a){
with(_19){
objj_msgSend(CPBox,"makeBorder:",m_borderView);
}
}),new objj_method(sel_getUid("accept:"),function(_1b,_1c,_1d){
with(_1b){
objj_msgSend(_window,"close");
objj_msgSend(CPApp,"abortModal");
var _1e=objj_msgSend(objj_msgSend(m_inputField,"stringValue"),"stringByTrimmingWhitespace");
objj_msgSend(m_delegate,"performSelector:withObject:",m_selector,(objj_msgSend(_1e,"isBlank")?m_defaultValue:_1e));
}
}),new objj_method(sel_getUid("cancel:"),function(_1f,_20,_21){
with(_1f){
objj_msgSend(_window,"close");
objj_msgSend(CPApp,"abortModal");
objj_msgSend(m_delegate,"performSelector:withObject:",m_selector,m_defaultValue);
}
})]);
p;38;app/controllers/tool_view_controller.jt;2514;@STATIC;1.0;t;2495;
var _1=objj_allocateClassPair(CPObject,"ToolViewController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_collectionView")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithView:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("ToolViewController").super_class},"init");
if(_3){
m_collectionView=_5;
objj_msgSend(m_collectionView,"setDelegate:",_3);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("toolBoxItemsHaveArrived:"),ConfigurationManagerToolBoxArrivedNotification,nil);
}
return _3;
}
}),new objj_method(sel_getUid("toolBoxItemsHaveArrived:"),function(_6,_7,_8){
with(_6){
var _9=objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreToolElements:",objj_msgSend(ToolElement,"initWithJSONObjects:",objj_msgSend(_8,"object")));
objj_msgSend(m_collectionView,"setContent:",_9);
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_a,_b,_c,_d,_e){
with(_a){
var _f=[];
objj_msgSend(_d,"getIndexes:maxCount:inIndexRange:",_f,(objj_msgSend(_d,"count")+1),nil);
var _10=[];
var _11=objj_msgSend(m_collectionView,"content");
for(var idx=0;idx<objj_msgSend(_f,"count");idx++){
objj_msgSend(_10,"addObject:",objj_msgSend(_11[_f[idx]],"id_str"));
}
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_10);
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_12,_13,_14,_15){
with(_12){
return [ToolElementDragType];
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("createToolsCollectionView:"),function(_16,_17,_18){
with(_16){
var _19=objj_msgSend(objj_msgSend(CPCollectionView,"alloc"),"initWithFrame:",_18);
var _1a=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_1a,"setView:",objj_msgSend(objj_msgSend(ToolListCell,"alloc"),"initWithFrame:",CGRectMakeZero()));
objj_msgSend(objj_msgSend(ToolViewController,"alloc"),"initWithView:",_19);
objj_msgSend(_19,"setItemPrototype:",_1a);
objj_msgSend(_19,"setMinItemSize:",CGSizeMake(117,80));
objj_msgSend(_19,"setMaxItemSize:",CGSizeMake(117,80));
objj_msgSend(_19,"setMaxNumberOfColumns:",2);
objj_msgSend(_19,"setVerticalMargin:",0);
objj_msgSend(_19,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_19,"setSelectable:",YES);
objj_msgSend(_19,"setAllowsMultipleSelection:",NO);
objj_msgSend(_19,"setAllowsEmptySelection:",NO);
return _19;
}
})]);
p;36;app/controllers/twitter_controller.jt;5417;@STATIC;1.0;t;5398;
var _1=objj_allocateClassPair(CPWindowController,"TwitterController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_spinnerImage"),new objj_ivar("m_tableView"),new objj_ivar("m_searchField"),new objj_ivar("m_indexField"),new objj_ivar("m_scrollView"),new objj_ivar("m_tweets"),new objj_ivar("m_nextPageUrl"),new objj_ivar("m_timer")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
m_tweets=objj_msgSend(CPArray,"arrayWithObjects:",nil);
objj_msgSend(m_tableView,"setDelegate:",_3);
objj_msgSend(m_tableView,"setDraggingSourceOperationMask:forLocal:",CPDragOperationEvery,YES);
objj_msgSend(m_tableView,"setAllowsColumnReordering:",YES);
objj_msgSend(m_tableView,"setAllowsColumnResizing:",YES);
objj_msgSend(m_tableView,"setColumnAutoresizingStyle:",CPTableViewLastColumnOnlyAutoresizingStyle);
var _5=objj_msgSend(m_tableView,"tableColumnWithIdentifier:","TwitterUserName");
var _6=objj_msgSend(objj_msgSend(TweetDataView,"alloc"),"initWithFrame:",CGRectMake(0,0,322,100));
objj_msgSend(_5,"setDataView:",_6);
objj_msgSend(m_spinnerImage,"setHidden:",YES);
objj_msgSend(m_spinnerImage,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(m_searchField,"setTarget:",_3);
objj_msgSend(m_searchField,"setAction:",sel_getUid("getFeed:"));
objj_msgSend(m_searchField,"setStringValue:",objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"topics"),"anyValue"));
objj_msgSend(CPBox,"makeBorder:",m_scrollView);
objj_msgSend(_3,"getFeed:",_3);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
var _7=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_7,"setTarget:",_3);
objj_msgSend(_7,"setSelector:",sel_getUid("checkVerticalScroller:"));
m_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",0.5,_7,YES);
objj_msgSend(_window,"makeFirstResponder:",m_searchField);
}
}),new objj_method(sel_getUid("checkVerticalScroller:"),function(_8,_9,_a){
with(_8){
objj_msgSend(m_indexField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%d of %d",(objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")*objj_msgSend(m_tweets,"count")),objj_msgSend(m_tweets,"count")));
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_b,_c,_d){
with(_b){
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"deleteTweets:",m_tweets);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:",_b);
objj_msgSend(m_timer,"invalidate");
}
}),new objj_method(sel_getUid("tableView:writeRowsWithIndexes:toPasteboard:"),function(_e,_f,_10,_11,_12){
with(_e){
var _13=[];
objj_msgSend(_11,"getIndexes:maxCount:inIndexRange:",_13,(objj_msgSend(_11,"count")+1),nil);
CPLogConsole("Idx Store: "+_13);
var _14=[];
for(var idx=0;idx<objj_msgSend(_13,"count");idx++){
objj_msgSend(_14,"addObject:",objj_msgSend(m_tweets[_13[idx]],"id_str"));
}
CPLogConsole("Data: "+_14);
var _15=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_14);
objj_msgSend(_12,"declareTypes:owner:",objj_msgSend(CPArray,"arrayWithObject:",TweetDragType),_e);
objj_msgSend(_12,"setData:forType:",_15,TweetDragType);
return YES;
}
}),new objj_method(sel_getUid("tableView:validateDrop:proposedRow:proposedDropOperation:"),function(_16,_17,_18,_19,row,_1a){
with(_16){
return CPDragOperationMove;
}
}),new objj_method(sel_getUid("tableView:acceptDrop:row:dropOperation:"),function(_1b,_1c,_1d,_1e,row,_1f){
with(_1b){
return YES;
}
}),new objj_method(sel_getUid("getFeed:"),function(_20,_21,_22){
with(_20){
var _23=objj_msgSend(m_searchField,"stringValue");
CPLogConsole("[TwCtrl] User input was: "+_23);
if(_23&&_23!==""){
if(objj_msgSend(m_tweets,"count")>0){
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"deleteTweets:",m_tweets);
m_tweets=objj_msgSend(CPArray,"arrayWithObjects:",nil);
m_nextPageUrl=nil;
objj_msgSend(m_tableView,"reloadData");
}
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",objj_msgSend(Tweet,"searchUrl:",_23),_20,sel_getUid("updateTweetTable:"));
}
}
}),new objj_method(sel_getUid("updateTweetTable:"),function(_24,_25,_26){
with(_24){
m_nextPageUrl=objj_msgSend(Tweet,"nextPageUrl:",_26.next_page);
var _27=objj_msgSend(Tweet,"initWithJSONObjects:",_26.results);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreTweets:",_27);
objj_msgSend(m_tweets,"addObjectsFromArray:",_27);
objj_msgSend(m_tableView,"reloadData");
objj_msgSend(m_spinnerImage,"setHidden:",YES);
}
}),new objj_method(sel_getUid("numberOfRowsInTableView:"),function(_28,_29,_2a){
with(_28){
return (objj_msgSend(m_tweets,"count")+1);
}
}),new objj_method(sel_getUid("tableView:objectValueForTableColumn:row:"),function(_2b,_2c,_2d,_2e,row){
with(_2b){
if(m_nextPageUrl&&objj_msgSend(m_tweets,"count")==row){
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",m_nextPageUrl,_2b,sel_getUid("updateTweetTable:"));
m_nextPageUrl=nil;
return "";
}else{
if(objj_msgSend(_2e,"identifier")==="TwitterUserName"){
return m_tweets[row];
}else{
return objj_msgSend(m_tweets[row],"text");
}
}
}
})]);
p;37;app/controllers/you_tube_controller.jt;5032;@STATIC;1.0;t;5013;
var _1=objj_allocateClassPair(CPWindowController,"YouTubeController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_photoView"),new objj_ivar("m_searchTerm"),new objj_ivar("m_spinnerImage"),new objj_ivar("m_scrollView"),new objj_ivar("m_indexField"),new objj_ivar("m_timer"),new objj_ivar("m_current_page")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
var _5=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");
objj_msgSend(_5,"setView:",objj_msgSend(objj_msgSend(YouTubePhotoCell,"alloc"),"initWithFrame:",CGRectMake(0,0,150,150)));
objj_msgSend(m_photoView,"setDelegate:",_3);
objj_msgSend(m_photoView,"setItemPrototype:",_5);
objj_msgSend(m_photoView,"setSelectable:",YES);
objj_msgSend(m_photoView,"setAllowsMultipleSelection:",YES);
objj_msgSend(m_photoView,"setMinItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setMaxItemSize:",CGSizeMake(150,150));
objj_msgSend(m_photoView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(m_spinnerImage,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(m_spinnerImage,"setHidden:",YES);
objj_msgSend(m_searchTerm,"setStringValue:",objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"topics"),"anyValue"));
objj_msgSend(CPBox,"makeBorder:",m_scrollView);
m_current_page=0;
objj_msgSend(_3,"doSearch:",_3);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
objj_msgSend(_window,"makeFirstResponder:",m_searchTerm);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_6,_7,_8){
with(_6){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:",_6);
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
}
}),new objj_method(sel_getUid("setupScrollerObserver"),function(_9,_a){
with(_9){
var _b=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_b,"setTarget:",_9);
objj_msgSend(_b,"setSelector:",sel_getUid("checkVerticalScroller:"));
if(m_timer){
objj_msgSend(m_timer,"invalidate");
}
m_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",0.5,_b,YES);
}
}),new objj_method(sel_getUid("checkVerticalScroller:"),function(_c,_d,_e){
with(_c){
var _f=objj_msgSend(CPString,"stringWithFormat:","%d of %d",(objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")*objj_msgSend(objj_msgSend(m_photoView,"content"),"count")),objj_msgSend(objj_msgSend(m_photoView,"content"),"count"));
objj_msgSend(m_indexField,"setStringValue:",_f);
var _10=objj_msgSend(m_searchTerm,"stringValue");
if(_10&&_10!==""&&objj_msgSend(objj_msgSend(m_scrollView,"verticalScroller"),"floatValue")==1){
objj_msgSend(m_timer,"invalidate");
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",objj_msgSend(YouTubeVideo,"searchUrlFor:pageNumber:",_10,++m_current_page),_c,sel_getUid("loadVideos:"),"callback");
}
}
}),new objj_method(sel_getUid("doSearch:"),function(_11,_12,_13){
with(_11){
var _14=objj_msgSend(m_searchTerm,"stringValue");
if(_14&&_14!==""){
objj_msgSend(m_spinnerImage,"setHidden:",NO);
objj_msgSend(_11,"resetContent");
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",objj_msgSend(YouTubeVideo,"searchUrlFor:pageNumber:",_14,0),_11,sel_getUid("loadVideos:"),"callback");
}
}
}),new objj_method(sel_getUid("resetContent"),function(_15,_16){
with(_15){
m_current_page=0;
objj_msgSend(m_photoView,"setContent:",[]);
objj_msgSend(m_indexField,"setStringValue:","0 of 0");
}
}),new objj_method(sel_getUid("loadVideos:"),function(_17,_18,_19){
with(_17){
objj_msgSend(m_spinnerImage,"setHidden:",YES);
if(_19.data&&_19.data.items&&_19.data.items.length>0){
var _1a=objj_msgSend(YouTubeVideo,"initWithJSONObjects:",_19.data.items);
var _1b=objj_msgSend(objj_msgSend(m_photoView,"content"),"arrayByAddingObjectsFromArray:",_1a);
objj_msgSend(m_photoView,"setContent:",_1b);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreYouTubeVideos:",_1a);
objj_msgSend(m_photoView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"));
objj_msgSend(_17,"setupScrollerObserver");
}else{
objj_msgSend(m_timer,"invalidate");
}
}
}),new objj_method(sel_getUid("collectionView:dataForItemsAtIndexes:forType:"),function(_1c,_1d,_1e,_1f,_20){
with(_1c){
var _21=[];
objj_msgSend(_1f,"getIndexes:maxCount:inIndexRange:",_21,(objj_msgSend(_1f,"count")+1),nil);
var _22=[];
var _23=objj_msgSend(m_photoView,"content");
for(var idx=0;idx<objj_msgSend(_21,"count");idx++){
objj_msgSend(_22,"addObject:",objj_msgSend(_23[_21[idx]],"id_str"));
}
return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_22);
}
}),new objj_method(sel_getUid("collectionView:dragTypesForItemsAtIndexes:"),function(_24,_25,_26,_27){
with(_24){
return [YouTubeDragType];
}
})]);
p;63;app/controllers/properties/property_facebook_image_controller.jt;1477;@STATIC;1.0;t;1458;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyFacebookImageController"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerRotationSupport,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerImageSupport,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerImageFlagSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyFacebookImageController").super_class},"awakeFromCib");
objj_msgSend(_5,"awakeFromCibSetupImageFields");
objj_msgSend(_5,"awakeFromCibSetupRotationFields:",m_pageElement);
objj_msgSend(_5,"setFocusOn:",m_widthField);
objj_msgSend(_5,"setupFlagFields:",objj_msgSend(m_linksView,"subviews"));
}
}),new objj_method(sel_getUid("accept:"),function(_7,_8,_9){
with(_7){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setReloadInterval:",objj_msgSend(m_reloadSlider,"intValue"));
objj_msgSend(m_pageElement,"setLinkUrl:",objj_msgSend(m_linkField,"stringValue"));
objj_msgSend(m_pageElement,"setImageUrl:",objj_msgSend(m_urlField,"stringValue"));
objj_msgSend(_7,"updateFrameSize");
objj_msgSend(m_pageElement,"setRotation:",objj_msgSend(m_rotationSlider,"intValue"));
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(m_pageElement,"sendResizeToServer");
}
})]);
p;61;app/controllers/properties/property_flickr_image_controller.jt;1473;@STATIC;1.0;t;1454;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyFlickrImageController"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerRotationSupport,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerImageSupport,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerImageFlagSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyFlickrImageController").super_class},"awakeFromCib");
objj_msgSend(_5,"awakeFromCibSetupImageFields");
objj_msgSend(_5,"awakeFromCibSetupRotationFields:",m_pageElement);
objj_msgSend(_5,"setFocusOn:",m_widthField);
objj_msgSend(_5,"setupFlagFields:",objj_msgSend(m_linksView,"subviews"));
}
}),new objj_method(sel_getUid("accept:"),function(_7,_8,_9){
with(_7){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setReloadInterval:",objj_msgSend(m_reloadSlider,"intValue"));
objj_msgSend(m_pageElement,"setLinkUrl:",objj_msgSend(m_linkField,"stringValue"));
objj_msgSend(m_pageElement,"setImageUrl:",objj_msgSend(m_urlField,"stringValue"));
objj_msgSend(_7,"updateFrameSize");
objj_msgSend(m_pageElement,"setRotation:",objj_msgSend(m_rotationSlider,"intValue"));
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(m_pageElement,"sendResizeToServer");
}
})]);
p;62;app/controllers/properties/property_highlight_t_e_controller.jt;7041;@STATIC;1.0;t;7022;
var _1=[sel_getUid("setCornerTopLeft:"),sel_getUid("setCornerTopRight:"),sel_getUid("setCornerBottomLeft:"),sel_getUid("setCornerBottomRight:")];
var _2=objj_allocateClassPair(PropertyWindowController,"PropertyHighlightTEController"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("m_color_well_bgcolor"),new objj_ivar("m_clickable"),new objj_ivar("m_show_as_border"),new objj_ivar("m_rounded_corners"),new objj_ivar("m_link_field"),new objj_ivar("m_width_value"),new objj_ivar("m_view_bgcolor"),new objj_ivar("m_view_clickable"),new objj_ivar("m_view_rounded_corners"),new objj_ivar("m_border_width_view"),new objj_ivar("m_rounded_corners_example"),new objj_ivar("m_link_value_view"),new objj_ivar("m_slider_border_width")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("includeMixins"),function(_4,_5){
with(_4){
objj_msgSend(PropertyControllerRotationSupport,"addToClassOfObject:",_4);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_6,_7){
with(_6){
objj_msgSendSuper({receiver:_6,super_class:objj_getClass("PropertyHighlightTEController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_view_bgcolor);
objj_msgSend(CPBox,"makeBorder:",m_view_clickable);
objj_msgSend(CPBox,"makeBorder:",m_color_well_bgcolor);
objj_msgSend(CPBox,"makeBorder:",m_rounded_corners_example);
objj_msgSend(m_clickable,"setHidden:",NO);
objj_msgSend(m_show_as_border,"setHidden:",NO);
objj_msgSend(m_slider_border_width,"setValue:",objj_msgSend(m_pageElement,"borderWidth"));
objj_msgSend(_6,"updateBorderWidthValueTextField");
if(objj_msgSend(m_pageElement,"clickable")>0){
objj_msgSend(m_clickable,"setState:",CPOnState);
objj_msgSend(m_link_value_view,"setHidden:",NO);
}else{
objj_msgSend(m_clickable,"setState:",CPOffState);
objj_msgSend(m_link_value_view,"setHidden:",YES);
}
if(objj_msgSend(m_pageElement,"showAsBorder")>0){
objj_msgSend(m_show_as_border,"setState:",CPOnState);
objj_msgSend(m_border_width_view,"setHidden:",NO);
}else{
objj_msgSend(m_show_as_border,"setState:",CPOffState);
objj_msgSend(m_border_width_view,"setHidden:",YES);
}
if(objj_msgSend(m_pageElement,"hasRoundedCorners")){
objj_msgSend(m_rounded_corners,"setState:",CPOnState);
objj_msgSend(m_view_rounded_corners,"setHidden:",NO);
}else{
objj_msgSend(m_rounded_corners,"setState:",CPOffState);
objj_msgSend(m_view_rounded_corners,"setHidden:",YES);
}
var _8=[objj_msgSend(m_pageElement,"cornerTopLeft"),objj_msgSend(m_pageElement,"cornerTopRight"),objj_msgSend(m_pageElement,"cornerBottomLeft"),objj_msgSend(m_pageElement,"cornerBottomRight")];
objj_msgSend(_6,"setCornerSliders:",_8);
objj_msgSend(m_link_field,"setStringValue:",objj_msgSend(m_pageElement,"linkUrl"));
objj_msgSend(m_color_well_bgcolor,"setColor:",objj_msgSend(m_pageElement,"getColor"));
objj_msgSend(m_rounded_corners_example,"setBackgroundColor:",objj_msgSend(m_pageElement,"getColor"));
objj_msgSend(_6,"awakeFromCibSetupRotationFields:",m_pageElement);
}
}),new objj_method(sel_getUid("toggleCorners:"),function(_9,_a,_b){
with(_9){
if(objj_msgSend(m_rounded_corners,"state")==CPOnState){
objj_msgSend(m_view_rounded_corners,"setHidden:",NO);
}else{
objj_msgSend(_9,"setCornerSliders:",[0,0,0,0]);
objj_msgSend(m_view_rounded_corners,"setHidden:",YES);
}
objj_msgSend(_9,"setPageElementCornerValues");
objj_msgSend(m_pageElement,"redisplay");
}
}),new objj_method(sel_getUid("setCornerValue:"),function(_c,_d,_e){
with(_c){
var _f;
if(objj_msgSend(_e,"isKindOfClass:",CPSlider)){
_f=objj_msgSend(_e,"intValue");
objj_msgSend(objj_msgSend(_c,"findViewWithTag:inViews:ofClass:",objj_msgSend(_e,"tag"),objj_msgSend(m_view_rounded_corners,"subviews"),CPTextField),"setStringValue:",(""+objj_msgSend(_e,"intValue")));
}else{
_f=objj_msgSend(objj_msgSend(_e,"stringValue"),"intValue");
objj_msgSend(objj_msgSend(_c,"findViewWithTag:inViews:ofClass:",objj_msgSend(_e,"tag"),objj_msgSend(m_view_rounded_corners,"subviews"),CPSlider),"setValue:",objj_msgSend(objj_msgSend(_e,"stringValue"),"intValue"));
}
objj_msgSend(m_pageElement,"performSelector:withObject:",_1[objj_msgSend(_e,"tag")],_f);
objj_msgSend(m_pageElement,"redisplay");
}
}),new objj_method(sel_getUid("updateColor:"),function(_10,_11,_12){
with(_10){
objj_msgSend(m_pageElement,"setColor:",objj_msgSend(m_color_well_bgcolor,"color"));
objj_msgSend(m_rounded_corners_example,"setBackgroundColor:",objj_msgSend(m_color_well_bgcolor,"color"));
objj_msgSend(m_pageElement,"redisplay");
}
}),new objj_method(sel_getUid("updateBorderWidth:"),function(_13,_14,_15){
with(_13){
objj_msgSend(_13,"updateBorderWidthValueTextField");
objj_msgSend(m_pageElement,"setBorderWidth:",objj_msgSend(m_slider_border_width,"intValue"));
objj_msgSend(m_pageElement,"redisplay");
}
}),new objj_method(sel_getUid("updateIsBorder:"),function(_16,_17,_18){
with(_16){
if(objj_msgSend(m_show_as_border,"state")==CPOnState){
objj_msgSend(m_pageElement,"setShowAsBorder:",1);
objj_msgSend(m_border_width_view,"setHidden:",NO);
}else{
objj_msgSend(m_pageElement,"setShowAsBorder:",0);
objj_msgSend(m_border_width_view,"setHidden:",YES);
}
objj_msgSend(m_pageElement,"redisplay");
}
}),new objj_method(sel_getUid("updateClickable:"),function(_19,_1a,_1b){
with(_19){
if(objj_msgSend(m_clickable,"state")==CPOnState){
objj_msgSend(m_pageElement,"setClickable:",1);
objj_msgSend(m_link_value_view,"setHidden:",NO);
}else{
objj_msgSend(m_pageElement,"setClickable:",0);
objj_msgSend(m_link_value_view,"setHidden:",YES);
}
}
}),new objj_method(sel_getUid("accept:"),function(_1c,_1d,_1e){
with(_1c){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setLinkUrl:",objj_msgSend(m_link_field,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
}
}),new objj_method(sel_getUid("updateBorderWidthValueTextField"),function(_1f,_20){
with(_1f){
var str=objj_msgSend(CPString,"stringWithFormat:","%d px",objj_msgSend(m_slider_border_width,"intValue"));
objj_msgSend(m_width_value,"setStringValue:",str);
}
}),new objj_method(sel_getUid("findViewWithTag:inViews:ofClass:"),function(_21,_22,_23,_24,_25){
with(_21){
var cnt=objj_msgSend(_24,"count");
for(var idx=0;idx<cnt;idx++){
if(objj_msgSend(_24[idx],"isKindOfClass:",_25)&&objj_msgSend(_24[idx],"tag")==_23){
return _24[idx];
}
}
return nil;
}
}),new objj_method(sel_getUid("setCornerSliders:"),function(_26,_27,_28){
with(_26){
for(var idx=0;idx<4;idx++){
var _29=objj_msgSend(_26,"findViewWithTag:inViews:ofClass:",idx,objj_msgSend(m_view_rounded_corners,"subviews"),CPSlider);
objj_msgSend(_29,"setIntValue:",_28[idx]);
var _2a=objj_msgSend(_26,"findViewWithTag:inViews:ofClass:",idx,objj_msgSend(m_view_rounded_corners,"subviews"),CPTextField);
objj_msgSend(_2a,"setStringValue:",(""+_28[idx]));
}
}
}),new objj_method(sel_getUid("setPageElementCornerValues"),function(_2b,_2c){
with(_2b){
for(var idx=0;idx<4;idx++){
objj_msgSend(m_pageElement,"performSelector:withObject:",_1[idx],objj_msgSend(objj_msgSend(_2b,"findViewWithTag:inViews:ofClass:",idx,objj_msgSend(m_view_rounded_corners,"subviews"),CPSlider),"intValue"));
}
}
})]);
p;58;app/controllers/properties/property_image_t_e_controller.jt;1316;@STATIC;1.0;t;1297;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyImageTEController"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerRotationSupport,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerImageSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyImageTEController").super_class},"awakeFromCib");
objj_msgSend(_5,"awakeFromCibSetupImageFields");
objj_msgSend(_5,"awakeFromCibSetupRotationFields:",m_pageElement);
objj_msgSend(_5,"setFocusOn:",m_widthField);
}
}),new objj_method(sel_getUid("accept:"),function(_7,_8,_9){
with(_7){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setReloadInterval:",objj_msgSend(m_reloadSlider,"intValue"));
objj_msgSend(m_pageElement,"setLinkUrl:",objj_msgSend(m_linkField,"stringValue"));
objj_msgSend(m_pageElement,"setImageUrl:",objj_msgSend(m_urlField,"stringValue"));
objj_msgSend(_7,"updateFrameSize");
objj_msgSend(m_pageElement,"setRotation:",objj_msgSend(m_rotationSlider,"intValue"));
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(m_pageElement,"sendResizeToServer");
}
})]);
p;57;app/controllers/properties/property_link_t_e_controller.jt;1526;@STATIC;1.0;t;1507;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyLinkTEController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_colorWell"),new objj_ivar("m_linkDestination"),new objj_ivar("m_linkTitle")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerFontSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyLinkTEController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_colorWell);
objj_msgSend(m_linkTitle,"setStringValue:",objj_msgSend(m_pageElement,"getLinkTitle"));
objj_msgSend(m_linkDestination,"setStringValue:",objj_msgSend(m_pageElement,"getDestination"));
objj_msgSend(m_colorWell,"setColor:",objj_msgSend(m_pageElement,"getColor"));
objj_msgSend(_5,"awakeFromCibSetupFontFields:",m_pageElement);
objj_msgSend(_5,"setFocusOn:",m_linkDestination);
}
}),new objj_method(sel_getUid("updateColor:"),function(_7,_8,_9){
with(_7){
objj_msgSend(m_pageElement,"setLinkColor:",objj_msgSend(m_colorWell,"color"));
}
}),new objj_method(sel_getUid("accept:"),function(_a,_b,_c){
with(_a){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setLinkTitle:",objj_msgSend(m_linkTitle,"stringValue"));
objj_msgSend(m_pageElement,"setLinkDestination:",objj_msgSend(m_linkDestination,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
}
})]);
p;53;app/controllers/properties/property_page_controller.jt;3327;@STATIC;1.0;t;3308;
var _1=objj_allocateClassPair(CPWindowController,"PropertyPageController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_colorWell"),new objj_ivar("m_size_a4"),new objj_ivar("m_size_letter"),new objj_ivar("m_orientation_portrait"),new objj_ivar("m_orientation_landscape"),new objj_ivar("m_name_field"),new objj_ivar("m_name_bg_view"),new objj_ivar("m_size_view"),new objj_ivar("m_pageObj")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
objj_msgSend(CPBox,"makeBorder:",m_colorWell);
objj_msgSend(CPBox,"makeBorder:",m_name_bg_view);
objj_msgSend(CPBox,"makeBorder:",m_size_view);
m_pageObj=objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPage");
objj_msgSend(m_pageObj,"pushState");
objj_msgSend(m_colorWell,"setColor:",objj_msgSend(m_pageObj,"getColor"));
if(objj_msgSend(m_pageObj,"isLandscape")){
objj_msgSend(m_orientation_landscape,"setState:",CPOnState);
}else{
objj_msgSend(m_orientation_portrait,"setState:",CPOnState);
}
if(objj_msgSend(m_pageObj,"isLetter")){
objj_msgSend(m_size_letter,"setState:",CPOnState);
}else{
objj_msgSend(m_size_a4,"setState:",CPOnState);
}
objj_msgSend(m_name_field,"setStringValue:",objj_msgSend(m_pageObj,"name"));
objj_msgSend(_window,"makeFirstResponder:",m_name_field);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_5,_6,_7){
with(_5){
objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"close");
}
}),new objj_method(sel_getUid("updateColor:"),function(_8,_9,_a){
with(_8){
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setBackgroundColor:",objj_msgSend(m_colorWell,"color"));
}
}),new objj_method(sel_getUid("updateSize:"),function(_b,_c,_d){
with(_b){
if(_d==m_size_a4){
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageSize:","a4");
}else{
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageSize:","letter");
}
}
}),new objj_method(sel_getUid("updateOrientation:"),function(_e,_f,_10){
with(_e){
if(_10==m_orientation_landscape){
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageOrientation:","landscape");
}else{
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageOrientation:","portrait");
}
}
}),new objj_method(sel_getUid("cancel:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_window,"close");
objj_msgSend(m_pageObj,"popState");
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageSize:",objj_msgSend(m_pageObj,"size"));
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setPageOrientation:",objj_msgSend(m_pageObj,"orientation"));
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"setBackgroundColor:",objj_msgSend(m_pageObj,"getColor"));
}
}),new objj_method(sel_getUid("accept:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_window,"close");
objj_msgSend(m_pageObj,"setName:",objj_msgSend(m_name_field,"stringValue"));
objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"updatePageNameForPage:",m_pageObj);
objj_msgSend(m_pageObj,"updateServer");
}
})]);
p;63;app/controllers/properties/property_pay_pal_button_controller.jt;2105;@STATIC;1.0;t;2086;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyPayPalButtonController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_recipient"),new objj_ivar("m_currency_list"),new objj_ivar("m_size_small"),new objj_ivar("m_size_large"),new objj_ivar("m_size_large_with_cc"),new objj_ivar("m_settings_view"),new objj_ivar("m_recipient_view")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PropertyPayPalButtonController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_settings_view);
objj_msgSend(CPBox,"makeBorder:",m_recipient_view);
objj_msgSend(m_recipient,"setStringValue:",objj_msgSend(m_pageElement,"recipient"));
objj_msgSend(m_currency_list,"removeAllItems");
objj_msgSend(m_currency_list,"addItemsWithTitles:",["USD","EUR","YEN","GBP"]);
objj_msgSend(m_currency_list,"selectItemWithTitle:",objj_msgSend(m_pageElement,"currency"));
switch(objj_msgSend(m_pageElement,"imageSize")){
case "small":
objj_msgSend(m_size_small,"setState:",CPOnState);
break;
case "large":
objj_msgSend(m_size_large,"setState:",CPOnState);
break;
case "large_with_cc":
objj_msgSend(m_size_large_with_cc,"setState:",CPOnState);
break;
}
objj_msgSend(_3,"setFocusOn:",m_recipient);
}
}),new objj_method(sel_getUid("changeSize:"),function(_5,_6,_7){
with(_5){
switch(_7){
case m_size_small:
objj_msgSend(m_pageElement,"setImageSize:","small");
break;
case m_size_large:
objj_msgSend(m_pageElement,"setImageSize:","large");
break;
case m_size_large_with_cc:
objj_msgSend(m_pageElement,"setImageSize:","large_with_cc");
break;
}
}
}),new objj_method(sel_getUid("changeCurrency:"),function(_8,_9,_a){
with(_8){
objj_msgSend(m_pageElement,"setCurrency:",objj_msgSend(objj_msgSend(_a,"selectedItem"),"title"));
}
}),new objj_method(sel_getUid("accept:"),function(_b,_c,_d){
with(_b){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"setRecipient:",objj_msgSend(m_recipient,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
}
})]);
p;60;app/controllers/properties/property_publication_controller.jt;3608;@STATIC;1.0;t;3589;
var _1=objj_allocateClassPair(CPWindowController,"PropertyPublicationController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_snapgridField"),new objj_ivar("m_titleField"),new objj_ivar("m_snapgridSlider"),new objj_ivar("m_snapgridView"),new objj_ivar("m_continousFlow"),new objj_ivar("m_pageShadow"),new objj_ivar("m_colorWell"),new objj_ivar("m_publicationDetailsView"),new objj_ivar("m_titleView"),new objj_ivar("m_toolTips"),new objj_ivar("m_pubConfig")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
objj_msgSend(CPBox,"makeBorder:",m_snapgridView);
objj_msgSend(CPBox,"makeBorder:",m_publicationDetailsView);
objj_msgSend(CPBox,"makeBorder:",m_colorWell);
objj_msgSend(CPBox,"makeBorder:",m_titleView);
m_pubConfig=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pubProperties");
objj_msgSend(m_pubConfig,"pushState");
objj_msgSend(m_colorWell,"setColor:",objj_msgSend(m_pubConfig,"getColor"));
objj_msgSend(m_continousFlow,"setState:",(objj_msgSend(m_pubConfig,"isContinous")?CPOnState:CPOffState));
objj_msgSend(m_pageShadow,"setState:",(objj_msgSend(m_pubConfig,"hasShadow")?CPOnState:CPOffState));
objj_msgSend(m_snapgridSlider,"setValue:",objj_msgSend(m_pubConfig,"snapGridWidth"));
objj_msgSend(m_titleField,"setStringValue:",objj_msgSend(m_pubConfig,"pubName"));
objj_msgSend(m_toolTips,"setState:",(objj_msgSend(m_pubConfig,"showToolTips")?CPOffState:CPOnState));
objj_msgSend(_3,"updateSnapgridValue");
objj_msgSend(_window,"makeFirstResponder:",m_titleField);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_3,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_5,_6,_7){
with(_5){
objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"close");
}
}),new objj_method(sel_getUid("toggleToolTips:"),function(_8,_9,_a){
with(_8){
objj_msgSend(m_pubConfig,"setShowToolTips:",(objj_msgSend(m_toolTips,"state")==CPOffState));
}
}),new objj_method(sel_getUid("colorChanged:"),function(_b,_c,_d){
with(_b){
objj_msgSend(m_pubConfig,"setBgColor:",objj_msgSend(m_colorWell,"color"));
}
}),new objj_method(sel_getUid("setSnapgrid:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_e,"updateSnapgridValue");
}
}),new objj_method(sel_getUid("setSnapgridValue:"),function(_11,_12,_13){
with(_11){
objj_msgSend(m_snapgridSlider,"setValue:",objj_msgSend(m_snapgridField,"intValue"));
objj_msgSend(_11,"updateSnapgridValue");
}
}),new objj_method(sel_getUid("setShadowValue:"),function(_14,_15,_16){
with(_14){
objj_msgSend(m_pubConfig,"setShadow:",(objj_msgSend(_16,"state")==CPOnState?"1":"0"));
}
}),new objj_method(sel_getUid("cancel:"),function(_17,_18,_19){
with(_17){
objj_msgSend(_window,"close");
objj_msgSend(m_pubConfig,"popState");
}
}),new objj_method(sel_getUid("accept:"),function(_1a,_1b,_1c){
with(_1a){
objj_msgSend(_window,"close");
objj_msgSend(m_pubConfig,"setPubName:",objj_msgSend(m_titleField,"stringValue"));
objj_msgSend(m_pubConfig,"setContinous:",(objj_msgSend(m_continousFlow,"state")==CPOnState?"1":"0"));
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"publicationUpdate:",m_pubConfig);
}
}),new objj_method(sel_getUid("updateSnapgridValue"),function(_1d,_1e){
with(_1d){
objj_msgSend(m_snapgridField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%d",objj_msgSend(m_snapgridSlider,"intValue")));
objj_msgSend(m_pubConfig,"setSnapGridWidth:",objj_msgSend(m_snapgridSlider,"intValue"));
}
})]);
p;57;app/controllers/properties/property_text_t_e_controller.jt;1046;@STATIC;1.0;t;1027;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyTextTEController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_colorWell")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerFontSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyTextTEController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_colorWell);
objj_msgSend(m_colorWell,"setColor:",objj_msgSend(m_pageElement,"getColor"));
objj_msgSend(_5,"awakeFromCibSetupFontFields:",m_pageElement);
}
}),new objj_method(sel_getUid("updateColor:"),function(_7,_8,_9){
with(_7){
objj_msgSend(m_pageElement,"setTextColor:",objj_msgSend(m_colorWell,"color"));
}
}),new objj_method(sel_getUid("accept:"),function(_a,_b,_c){
with(_a){
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(_window,"close");
}
})]);
p;65;app/controllers/properties/property_twitter_feed_t_e_controller.jt;793;@STATIC;1.0;t;775;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyTwitterFeedTEController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_forUserField")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCib"),function(_3,_4){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PropertyTwitterFeedTEController").super_class},"awakeFromCib");
objj_msgSend(m_forUserField,"setStringValue:",objj_msgSend(m_pageElement,"getForUser"));
objj_msgSend(_3,"setFocusOn:",m_forUserField);
}
}),new objj_method(sel_getUid("accept:"),function(_5,_6,_7){
with(_5){
objj_msgSend(m_pageElement,"setForUser:",objj_msgSend(m_forUserField,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(_window,"close");
}
})]);
p;55;app/controllers/properties/property_window_controller.jt;1370;@STATIC;1.0;t;1351;
var _1=objj_allocateClassPair(CPWindowController,"PropertyWindowController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_pageElement")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithWindowCibName:pageElement:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PropertyWindowController").super_class},"initWithWindowCibName:",_5);
if(_3){
objj_msgSend(_3,"includeMixins");
m_pageElement=_6;
}
return _3;
}
}),new objj_method(sel_getUid("includeMixins"),function(_7,_8){
with(_7){
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_9,_a){
with(_9){
objj_msgSend(m_pageElement,"pushState");
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_9,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window);
}
}),new objj_method(sel_getUid("windowWillClose:"),function(_b,_c,_d){
with(_b){
objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"close");
}
}),new objj_method(sel_getUid("cancel:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_window,"close");
objj_msgSend(m_pageElement,"popState");
}
}),new objj_method(sel_getUid("setFocusOn:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_window,"makeFirstResponder:",_13);
}
})]);
p;74;app/controllers/properties/property_you_tube_seek_to_link_t_e_controller.jt;4337;@STATIC;1.0;t;4318;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyYouTubeSeekToLinkTEController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_colorWell"),new objj_ivar("m_linkTitle"),new objj_ivar("m_videoInfoView"),new objj_ivar("m_endAtView"),new objj_ivar("m_setEndAt"),new objj_ivar("m_videoDropdown")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(PropertyControllerFontSupport,"addToClassOfObject:",_3);
objj_msgSend(SeekToDropdownHelpers,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyYouTubeSeekToLinkTEController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_videoInfoView);
objj_msgSend(CPBox,"makeBorder:",m_colorWell);
objj_msgSend(m_linkTitle,"setStringValue:",objj_msgSend(m_pageElement,"textTyped"));
objj_msgSend(m_colorWell,"setColor:",objj_msgSend(m_pageElement,"getColor"));
objj_msgSend(m_videoDropdown,"removeAllItems");
var _7=objj_msgSend(CPMenuItem,"withTitle:andTag:","None Set",0);
objj_msgSend(m_videoDropdown,"addItem:",_7);
var _8=objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"allPageElementsOfType:orType:",YouTubeVideo,YouTubeTE);
for(var _9=0;_9<objj_msgSend(_8,"count");_9++){
var _a=_8[_9];
var _7=objj_msgSend(CPMenuItem,"withTitle:andTag:",objj_msgSend(_a,"videoTitle"),objj_msgSend(_a,"videoId"));
objj_msgSend(m_videoDropdown,"addItem:",_7);
}
objj_msgSend(m_videoDropdown,"selectItemWithTag:",objj_msgSend(objj_msgSend(m_pageElement,"videoId"),"intValue"));
var _b=objj_msgSend(_5,"obtainStartAtPopUps:",objj_msgSend(m_videoInfoView,"subviews"));
objj_msgSend(_5,"setSeekToPopUpValues:",_b);
objj_msgSend(_5,"setPopUpsWithTime:popUps:",objj_msgSend(m_pageElement,"startAt"),_b);
if(objj_msgSend(m_pageElement,"endAt")>0){
objj_msgSend(m_setEndAt,"setState:",CPOnState);
objj_msgSend(m_endAtView,"setHidden:",NO);
}else{
objj_msgSend(m_setEndAt,"setState:",CPOffState);
objj_msgSend(m_endAtView,"setHidden:",YES);
}
var _b=objj_msgSend(_5,"obtainEndAtPopUps:",objj_msgSend(m_endAtView,"subviews"));
objj_msgSend(_5,"setSeekToPopUpValues:",_b);
objj_msgSend(_5,"setPopUpsWithTime:popUps:",objj_msgSend(m_pageElement,"endAt"),_b);
objj_msgSend(_5,"awakeFromCibSetupFontFields:",m_pageElement);
objj_msgSend(_5,"setFocusOn:",m_linkTitle);
}
}),new objj_method(sel_getUid("endAtToggled:"),function(_c,_d,_e){
with(_c){
switch(objj_msgSend(m_setEndAt,"state")){
case CPOffState:
objj_msgSend(m_endAtView,"setHidden:",YES);
break;
case CPOnState:
objj_msgSend(m_endAtView,"setHidden:",NO);
var _f=objj_msgSend(_c,"obtainStartAtPopUps:",objj_msgSend(m_videoInfoView,"subviews"));
var _10=objj_msgSend(_c,"obtainEndAtPopUps:",objj_msgSend(m_endAtView,"subviews"));
for(var idx=0;idx<3;idx++){
objj_msgSend(_10[idx],"selectItemWithTitle:",objj_msgSend(objj_msgSend(_f[idx],"selectedItem"),"title"));
}
break;
}
}
}),new objj_method(sel_getUid("updateColor:"),function(_11,_12,_13){
with(_11){
objj_msgSend(m_pageElement,"setTextColor:",objj_msgSend(m_colorWell,"color"));
}
}),new objj_method(sel_getUid("accept:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_window,"close");
switch(objj_msgSend(m_setEndAt,"state")){
case CPOffState:
objj_msgSend(m_pageElement,"setEndAt:",0);
break;
case CPOnState:
objj_msgSend(m_pageElement,"setEndAt:",objj_msgSend(_14,"obtainSeconds:",objj_msgSend(_14,"obtainEndAtPopUps:",objj_msgSend(m_endAtView,"subviews"))));
break;
}
objj_msgSend(m_pageElement,"setStartAt:",objj_msgSend(_14,"obtainSeconds:",objj_msgSend(_14,"obtainStartAtPopUps:",objj_msgSend(m_videoInfoView,"subviews"))));
objj_msgSend(m_pageElement,"setVideoId:",objj_msgSend(CPString,"stringWithFormat:","%d",objj_msgSend(objj_msgSend(m_videoDropdown,"selectedItem"),"tag")));
objj_msgSend(m_pageElement,"setLinkText:",objj_msgSend(m_linkTitle,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
}
}),new objj_method(sel_getUid("obtainStartAtPopUps:"),function(_17,_18,_19){
with(_17){
return objj_msgSend(_17,"findPopUpsWithTags:inViews:",[1,2,4],_19);
}
}),new objj_method(sel_getUid("obtainEndAtPopUps:"),function(_1a,_1b,_1c){
with(_1a){
return objj_msgSend(_1a,"findPopUpsWithTags:inViews:",[8,16,32],_1c);
}
})]);
p;63;app/controllers/properties/property_you_tube_video_controller.jt;3830;@STATIC;1.0;t;3811;
var _1=objj_allocateClassPair(PropertyWindowController,"PropertyYouTubeVideoController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_artistName"),new objj_ivar("m_artistUrl"),new objj_ivar("m_videoLink"),new objj_ivar("m_videoIdField"),new objj_ivar("m_artistView"),new objj_ivar("m_linkAndTitleView"),new objj_ivar("m_searchLinksView"),new objj_ivar("m_playerCtrlView"),new objj_ivar("m_cueVideoView"),new objj_ivar("m_original_value")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("includeMixins"),function(_3,_4){
with(_3){
objj_msgSend(SeekToDropdownHelpers,"addToClassOfObject:",_3);
objj_msgSend(PropertyControllerRotationSupport,"addToClassOfObject:",_3);
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PropertyYouTubeVideoController").super_class},"awakeFromCib");
objj_msgSend(CPBox,"makeBorder:",m_artistView);
objj_msgSend(CPBox,"makeBorder:",m_linkAndTitleView);
objj_msgSend(CPBox,"makeBorder:",m_searchLinksView);
objj_msgSend(CPBox,"makeBorder:",m_playerCtrlView);
objj_msgSend(m_artistUrl,"setStringValue:",objj_msgSend(m_pageElement,"artistUrl"));
objj_msgSend(m_artistName,"setStringValue:",objj_msgSend(m_pageElement,"artistName"));
m_original_value=objj_msgSend(m_pageElement,"searchEngines");
objj_msgSend(_5,"checkCheckBoxes:",objj_msgSend(m_searchLinksView,"subviews"));
objj_msgSend(_5,"checkCheckBoxes:",objj_msgSend(m_linkAndTitleView,"subviews"));
objj_msgSend(_5,"checkCheckBoxes:",objj_msgSend(m_playerCtrlView,"subviews"));
objj_msgSend(m_videoLink,"setStringValue:",objj_msgSend(m_pageElement,"videoLink"));
objj_msgSend(m_videoLink,"setSelectable:",YES);
objj_msgSend(m_videoLink,"setEditable:",YES);
if((m_original_value&256)>0){
objj_msgSend(m_cueVideoView,"setHidden:",NO);
}else{
objj_msgSend(m_cueVideoView,"setHidden:",YES);
}
var _7=objj_msgSend(_5,"findPopUpsWithTags:inViews:",[1,2,4],objj_msgSend(m_cueVideoView,"subviews"));
objj_msgSend(_5,"setSeekToPopUpValues:",_7);
objj_msgSend(_5,"setPopUpsWithTime:popUps:",objj_msgSend(m_pageElement,"seekTo"),_7);
var _8=objj_msgSend(CPString,"stringWithFormat:","(ID: %d)",objj_msgSend(m_pageElement,"videoId"));
objj_msgSend(m_videoIdField,"setStringValue:",_8);
objj_msgSend(m_videoIdField,"setHidden:",YES);
objj_msgSend(_5,"awakeFromCibSetupRotationFields:",m_pageElement);
}
}),new objj_method(sel_getUid("checkCheckBoxes:"),function(_9,_a,_b){
with(_9){
var _c=objj_msgSend(_b,"count");
for(var _d=0;_d<_c;_d++){
if(objj_msgSend(_b[_d],"isKindOfClass:",CPCheckBox)){
if((m_original_value&[objj_msgSend(_b[_d],"tag")])>0){
objj_msgSend(_b[_d],"setState:",CPOnState);
}else{
objj_msgSend(_b[_d],"setState:",CPOffState);
}
}
}
}
}),new objj_method(sel_getUid("searchButton:"),function(_e,_f,_10){
with(_e){
if(objj_msgSend(_10,"state")==CPOffState){
objj_msgSend(m_pageElement,"removeSearchEngine:",objj_msgSend(_10,"tag"));
if(objj_msgSend(_10,"tag")==256){
objj_msgSend(m_cueVideoView,"setHidden:",YES);
}
}else{
objj_msgSend(m_pageElement,"addSearchEngine:",objj_msgSend(_10,"tag"));
if(objj_msgSend(_10,"tag")==256){
objj_msgSend(m_cueVideoView,"setHidden:",NO);
}
}
}
}),new objj_method(sel_getUid("accept:"),function(_11,_12,_13){
with(_11){
if((objj_msgSend(m_pageElement,"searchEngines")&256)>0){
var _14=objj_msgSend(_11,"findPopUpsWithTags:inViews:",[1,2,4],objj_msgSend(m_cueVideoView,"subviews"));
objj_msgSend(m_pageElement,"setSeekTo:",objj_msgSend(_11,"obtainSeconds:",_14));
}else{
objj_msgSend(m_pageElement,"setSeekTo:",0);
}
objj_msgSend(m_pageElement,"setArtistName:",objj_msgSend(m_artistName,"stringValue"));
objj_msgSend(m_pageElement,"setArtistUrl:",objj_msgSend(m_artistUrl,"stringValue"));
objj_msgSend(m_pageElement,"updateServer");
objj_msgSend(_window,"close");
}
})]);
p;31;app/helpers/alert_user_helper.jt;4694;@STATIC;1.0;t;4675;
var _1=objj_allocateClassPair(CPObject,"AlertUserHelper"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_2,[new objj_method(sel_getUid("withTodo:"),function(_3,_4,_5){
with(_3){
var _6=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_6,"setMessageText:",_5);
objj_msgSend(_6,"setTitle:","Todo");
objj_msgSend(_6,"setAlertStyle:",CPInformationalAlertStyle);
objj_msgSend(_6,"addButtonWithTitle:","OK");
objj_msgSend(_6,"runModal");
}
}),new objj_method(sel_getUid("withPageElementError:"),function(_7,_8,_9){
with(_7){
var _a=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_a,"setMessageText:",_9);
objj_msgSend(_a,"setTitle:","Adding Element Not Possible");
objj_msgSend(_a,"setAlertStyle:",CPInformationalAlertStyle);
objj_msgSend(_a,"addButtonWithTitle:","OK");
objj_msgSend(_a,"runModal");
}
}),new objj_method(sel_getUid("ofPublicationUrl:hashStr:"),function(_b,_c,_d,_e){
with(_b){
var _f=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_f,"setEnabled:",YES);
objj_msgSend(_f,"setSelectable:",YES);
objj_msgSend(_f,"setEditable:",NO);
objj_msgSend(_f,"setMessageText:",objj_msgSend(CPString,"stringWithFormat:",("Publication can be found here %s. Press "+"Open to open link in a new popup window."),_d));
objj_msgSend(_f,"setTitle:","Publication Preview");
objj_msgSend(_f,"setAlertStyle:",CPInformationalAlertStyle);
objj_msgSend(_f,"setDelegate:",objj_msgSend(objj_msgSend(UrlAlertDelegate,"alloc"),"initWithUrlStr:andHashStr:",_d,_e));
objj_msgSend(_f,"addButtonWithTitle:","Open");
objj_msgSend(_f,"addButtonWithTitle:","Close");
objj_msgSend(_f,"runModal");
}
}),new objj_method(sel_getUid("ofPublicationPreviewUrl:"),function(_10,_11,_12){
with(_10){
var _13=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_13,"setEnabled:",YES);
objj_msgSend(_13,"setSelectable:",YES);
objj_msgSend(_13,"setEditable:",NO);
objj_msgSend(_13,"setMessageText:","Press open to preview in a new popup window.");
objj_msgSend(_13,"setTitle:","Publication Preview");
objj_msgSend(_13,"setAlertStyle:",CPInformationalAlertStyle);
objj_msgSend(_13,"setDelegate:",objj_msgSend(objj_msgSend(UrlAlertDelegate,"alloc"),"initWithUrlStr:andHashStr:",_12,("PubmePreview"+_12)));
objj_msgSend(_13,"addButtonWithTitle:","Open");
objj_msgSend(_13,"addButtonWithTitle:","Close");
objj_msgSend(_13,"runModal");
}
}),new objj_method(sel_getUid("goingBack:"),function(_14,_15,_16){
with(_14){
var _17=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_17,"setEnabled:",YES);
objj_msgSend(_17,"setSelectable:",YES);
objj_msgSend(_17,"setEditable:",NO);
objj_msgSend(_17,"setMessageText:","Quit editing and require to publication list?");
objj_msgSend(_17,"setTitle:","Quit Editor");
objj_msgSend(_17,"setAlertStyle:",CPWarningAlertStyle);
objj_msgSend(_17,"setDelegate:",objj_msgSend(objj_msgSend(UrlAlertDelegate,"alloc"),"initWithUrlStr:",_16));
objj_msgSend(_17,"addButtonWithTitle:","Yes");
objj_msgSend(_17,"addButtonWithTitle:","Cancel");
objj_msgSend(_17,"runModal");
}
}),new objj_method(sel_getUid("ofCrash"),function(_18,_19){
with(_18){
var _1a=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_1a,"setEnabled:",YES);
objj_msgSend(_1a,"setSelectable:",YES);
objj_msgSend(_1a,"setEditable:",NO);
objj_msgSend(_1a,"setMessageText:",("We're are sorry but editor will need restarting. This is "+"for your own protection as an internal inconsistency has "+"been identified. If this continues, please contact us immediately."));
objj_msgSend(_1a,"setTitle:","Fatal Blue Screen");
objj_msgSend(_1a,"setAlertStyle:",CPCriticalAlertStyle);
objj_msgSend(_1a,"setDelegate:",objj_msgSend(ReloadDelegate,"reloadWithLove"));
objj_msgSend(_1a,"addButtonWithTitle:","Restart");
objj_msgSend(_1a,"addButtonWithTitle:","No thfanks!");
objj_msgSend(_1a,"runModal");
}
})]);
var _1=objj_allocateClassPair(CPObject,"UrlAlertDelegate"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_urlString"),new objj_ivar("_hshString")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithUrlStr:"),function(_1b,_1c,_1d){
with(_1b){
return objj_msgSend(_1b,"initWithUrlStr:andHashStr:",_1d,nil);
}
}),new objj_method(sel_getUid("initWithUrlStr:andHashStr:"),function(_1e,_1f,_20,_21){
with(_1e){
_1e=objj_msgSendSuper({receiver:_1e,super_class:objj_getClass("UrlAlertDelegate").super_class},"init");
if(_1e){
_urlString=_20;
_hshString=_21;
}
return _1e;
}
}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(_22,_23,_24,_25){
with(_22){
switch(_25){
case 0:
if(_hshString){
window.open(_urlString,_hshString,"");
}else{
window.location=_urlString;
}
break;
}
}
})]);
p;33;app/helpers/application_helpers.jt;5872;@STATIC;1.0;t;5853;
getQueryVariables=function(_1){
var _2=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
var _3=_1.split("&");
for(var i=0;i<_3.length;i++){
var _4=_3[i].split("=");
objj_msgSend(_2,"setObject:forKey:",_4[1],_4[0]);
}
return _2;
};
queryStringFromUrl=function(_5){
return _5.split("?")[1];
};
getVideoIdFromYouTubeUrl=function(_6){
var v=getVideoIdFromYouTubeWebUrl(_6);
return (v?v:getVideoIdFromYouTubeApiUrl(_6));
};
getVideoIdFromYouTubeApiUrl=function(_7){
var _8=(_7.split("?")[0]).split("/");
if(_8&&_8.length>4){
return _8[_8.length-1];
}else{
return nil;
}
};
getVideoIdFromYouTubeWebUrl=function(_9){
var _a=queryStringFromUrl(_9);
if(_a){
var _b=getQueryVariables(_a);
return objj_msgSend(_b,"objectForKey:","v");
}else{
return nil;
}
};
decodeCgi=function(_c){
return unescape(_c.replace(/\+/g," "));
};
rectToString=function(_d){
return ("[Origin.x: "+_d.origin.x+" y: "+_d.origin.y+" width: "+_d.size.width+" height: "+_d.size.height+"]");
};
is_undefined=function(_e){
return (typeof (_e)=="undefined");
};
is_defined=function(_f){
return (typeof (_f)!="undefined");
};
check_for_undefined=function(_10,_11){
return (typeof (_10)=="undefined"?_11:_10);
};
OPEN_LINK=function(url){
var _12=["jpg","gif","png"],_13=objj_msgSend(_12,"containsObject:",objj_msgSend(url,"pathExtension"));
if(_13){
var _14=objj_msgSend(objj_msgSend(CPApp,"currentEvent"),"globalLocation"),_15=CGRectMake(_14.x,_14.y,25,25),_16=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",_15,CPTitledWindowMask|CPHUDBackgroundWindowMask|CPResizableWindowMask|CPClosableWindowMask),_17=objj_msgSend(_16,"contentView"),_18=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",objj_msgSend(_17,"bounds")),_19=CGRectMake(300,100,500,500);
objj_msgSend(_18,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",url));
objj_msgSend(_18,"setImageScaling:",CPScaleProportionally);
objj_msgSend(_18,"setAutoresizingMask:",CPViewHeightSizable|CPViewWidthSizable);
objj_msgSend(_17,"addSubview:",_18);
objj_msgSend(_16,"orderFront:",self);
objj_msgSend(_16,"setFrame:display:animate:",_19,YES,YES);
return;
}
if(objj_msgSend(CPPlatform,"isBrowser")){
window.open(url);
}else{
window.location=url;
}
};
var _1a=objj_allocateClassPair(CPObject,"ReloadDelegate"),_1b=_1a.isa;
objj_registerClassPair(_1a);
class_addMethods(_1a,[new objj_method(sel_getUid("init"),function(_1c,_1d){
with(_1c){
_1c=objj_msgSendSuper({receiver:_1c,super_class:objj_getClass("ReloadDelegate").super_class},"init");
return _1c;
}
}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(_1e,_1f,_20,_21){
with(_1e){
switch(_21){
case 0:
window.location.reload();
break;
}
}
})]);
class_addMethods(_1b,[new objj_method(sel_getUid("reloadWithLove"),function(_22,_23){
with(_22){
return objj_msgSend(objj_msgSend(ReloadDelegate,"alloc"),"init");
}
})]);
var _1a=objj_allocateClassPair(CPObject,"PageReorderRequestHelper"),_1b=_1a.isa;
class_addIvars(_1a,[new objj_ivar("list"),new objj_ivar("m_delegate"),new objj_ivar("m_selector")]);
objj_registerClassPair(_1a);
class_addMethods(_1a,[new objj_method(sel_getUid("initWithPages:delegate:selector:"),function(_24,_25,_26,_27,_28){
with(_24){
_24=objj_msgSendSuper({receiver:_24,super_class:objj_getClass("PageReorderRequestHelper").super_class},"init");
if(_24){
m_delegate=_27;
m_selector=_28;
list=[];
for(var idx=0;idx<objj_msgSend(_26,"count");idx++){
list.push([objj_msgSend(_26[idx],"pageIdx"),objj_msgSend(_26[idx],"number")]);
}
}
return _24;
}
}),new objj_method(sel_getUid("requestCompleted:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(m_delegate,"performSelector:withObject:",m_selector,_2b);
}
})]);
var _1a=objj_getClass("AppController");
if(!_1a){
throw new SyntaxError("*** Could not find definition for class \"AppController\"");
}
var _1b=_1a.isa;
class_addMethods(_1a,[new objj_method(sel_getUid("createBitlyInfoBox:"),function(_2c,_2d,_2e){
with(_2c){
var _2f=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",_2e);
objj_msgSend(_2f,"setStringValue:","");
objj_msgSend(_2f,"setSelectable:",NO);
objj_msgSend(_2f,"setEditable:",NO);
objj_msgSend(_2f,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_2f,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(_2f,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(_2f,"setTextShadowColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(_2f,"setTextShadowOffset:",CGSizeMake(0,1));
return _2f;
}
})]);
var _1a=objj_getClass("TNToolTip");
if(!_1a){
throw new SyntaxError("*** Could not find definition for class \"TNToolTip\"");
}
var _1b=_1a.isa;
class_addMethods(_1a,[new objj_method(sel_getUid("fadeOut"),function(_30,_31){
with(_30){
var _32=objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[_30,CPViewAnimationFadeOutEffect],[CPViewAnimationTargetKey,CPViewAnimationEffectKey]);
var _33=objj_msgSend(objj_msgSend(CPViewAnimation,"alloc"),"initWithViewAnimations:",[_32]);
objj_msgSend(_33,"setDuration:",1);
objj_msgSend(_33,"setDelegate:",_30);
objj_msgSend(_33,"startAnimation");
}
}),new objj_method(sel_getUid("animationDidEnd:"),function(_34,_35,_36){
with(_34){
objj_msgSend(_34,"close");
}
})]);
class_addMethods(_1b,[new objj_method(sel_getUid("toolTipWithString:forView:closeAfter:"),function(_37,_38,_39,_3a,_3b){
with(_37){
var _3c=objj_msgSend(TNToolTip,"toolTipWithString:forView:",_39,_3a);
var _3d=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_3d,"setTarget:",_3c);
objj_msgSend(_3d,"setSelector:",sel_getUid("fadeOut"));
objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",_3b,_3d,NO);
if(!objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pubProperties"),"showToolTips")){
objj_msgSend(_3c,"close");
}
return _3c;
}
})]);
p;34;app/helpers/image_loader_helpers.jt;4757;@STATIC;1.0;t;4738;
var _1=objj_allocateClassPair(CPObject,"ImageLoaderWorker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_image"),new objj_ivar("m_imageView"),new objj_ivar("m_delegate"),new objj_ivar("m_selector"),new objj_ivar("m_rotation_value"),new objj_ivar("m_is_vertical_flipped")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:"),function(_3,_4,_5,_6,_7,_8,_9,_a,_b){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("ImageLoaderWorker").super_class},"init");
if(_3){
m_imageView=_6;
m_image=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",_5);
m_delegate=_8;
m_selector=_9;
m_rotation_value=_a;
m_is_vertical_flipped=_b;
objj_msgSend(m_image,"setDelegate:",_3);
if(objj_msgSend(m_image,"loadStatus")!=CPImageLoadStatusCompleted&&objj_msgSend(_7,"loadStatus")==CPImageLoadStatusCompleted){
objj_msgSend(m_imageView,"setImage:",_7);
}
}
return _3;
}
}),new objj_method(sel_getUid("imageDidLoad:"),function(_c,_d,_e){
with(_c){
objj_msgSend(m_imageView,"setImage:",_e);
if(m_rotation_value&&objj_msgSend(m_imageView,"respondsToSelector:",sel_getUid("setRotationDegrees:"))){
objj_msgSend(m_imageView,"setRotationDegrees:",m_rotation_value);
}
if(m_is_vertical_flipped&&objj_msgSend(m_imageView,"respondsToSelector:",sel_getUid("setVerticalFlip:"))){
objj_msgSend(m_imageView,"setVerticalFlip:",1);
}
if(m_delegate&&m_selector){
objj_msgSend(m_delegate,"performSelector:withObject:",m_selector,_e);
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("workerFor:imageView:"),function(_f,_10,_11,_12){
with(_f){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_11,_12,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"),nil,nil,nil,NO);
}
}),new objj_method(sel_getUid("workerFor:imageView:"),function(_13,_14,_15,_16){
with(_13){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_15,_16,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"),nil,nil,nil,NO);
}
}),new objj_method(sel_getUid("workerFor:imageView:pageElement:"),function(_17,_18,_19,_1a,_1b){
with(_17){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_19,_1a,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"),nil,nil,objj_msgSend(_1b,"rotation"),objj_msgSend(_1b,"isVerticalFlipped"));
}
}),new objj_method(sel_getUid("workerFor:imageView:rotation:"),function(_1c,_1d,_1e,_1f,_20){
with(_1c){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_1e,_1f,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"),nil,nil,_20,NO);
}
}),new objj_method(sel_getUid("workerFor:imageView:tempImage:"),function(_21,_22,_23,_24,_25){
with(_21){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_23,_24,_25,nil,nil,nil,NO);
}
}),new objj_method(sel_getUid("workerFor:imageView:delegate:selector:"),function(_26,_27,_28,_29,_2a,_2b){
with(_26){
return objj_msgSend(objj_msgSend(ImageLoaderWorker,"alloc"),"initWithUrl:imageView:tempImage:delegate:selector:rotation:isVFlipped:",_28,_29,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"),_2a,_2b,nil,NO);
}
})]);
var _1=objj_allocateClassPair(CPObject,"PMGetImageWorker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("image"),new objj_ivar("path")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("image"),function(_2c,_2d){
with(_2c){
return image;
}
}),new objj_method(sel_getUid("setImage:"),function(_2e,_2f,_30){
with(_2e){
image=_30;
}
}),new objj_method(sel_getUid("path"),function(_31,_32){
with(_31){
return path;
}
}),new objj_method(sel_getUid("setPath:"),function(_33,_34,_35){
with(_33){
path=_35;
}
}),new objj_method(sel_getUid("initWithPath:"),function(_36,_37,_38){
with(_36){
_36=objj_msgSendSuper({receiver:_36,super_class:objj_getClass("PMGetImageWorker").super_class},"init");
if(_36){
path=_38;
image=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",path);
objj_msgSend(image,"setDelegate:",_36);
}
return _36;
}
}),new objj_method(sel_getUid("imageDidLoad:"),function(_39,_3a,_3b){
with(_39){
image=_3b;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("workerFor:"),function(_3c,_3d,_3e){
with(_3c){
return objj_msgSend(objj_msgSend(PMGetImageWorker,"alloc"),"initWithPath:",_3e);
}
})]);
p;32;app/libs/communication_manager.jt;6824;@STATIC;1.0;t;6805;
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"CommunicationManager"),_3=_2.isa;
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("init"),function(_4,_5){
with(_4){
return objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CommunicationManager").super_class},"init");
}
}),new objj_method(sel_getUid("basePageElementUrl"),function(_6,_7){
with(_6){
return objj_msgSend(CPString,"stringWithFormat:","%s/%s/pages/%s/page_elements",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"),objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPage"),"pageIdx"));
}
}),new objj_method(sel_getUid("resizeElement:"),function(_8,_9,_a){
with(_8){
var _b=objj_msgSend(CPString,"stringWithFormat:","%s/%d/resize.json",objj_msgSend(_8,"basePageElementUrl"),objj_msgSend(_a,"pageElementId"));
objj_msgSend(PMCMWpostAction,"initWithObject:urlString:",_a,_b);
}
}),new objj_method(sel_getUid("copyElement:"),function(_c,_d,_e){
with(_c){
var _f=objj_msgSend(CPString,"stringWithFormat:","%s/%d/copy.json",objj_msgSend(_c,"basePageElementUrl"),objj_msgSend(_e,"pageElementId"));
objj_msgSend(PMCMWgetAction,"initWithObject:urlString:",_e,_f);
}
}),new objj_method(sel_getUid("addElement:"),function(_10,_11,obj){
with(_10){
var url=objj_msgSend(CPString,"stringWithFormat:","%s.json",objj_msgSend(_10,"basePageElementUrl"));
objj_msgSend(PMCMWpostAction,"initWithObject:urlString:",obj,url);
}
}),new objj_method(sel_getUid("deleteElement:"),function(_12,_13,obj){
with(_12){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%d.json",objj_msgSend(_12,"basePageElementUrl"),objj_msgSend(obj,"pageElementId"));
objj_msgSend(PMCMWdeleteAction,"initWithObject:urlString:",obj,url);
}
}),new objj_method(sel_getUid("updateElement:"),function(_14,_15,obj){
with(_14){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%d.json",objj_msgSend(_14,"basePageElementUrl"),objj_msgSend(obj,"pageElementId"));
objj_msgSend(PMCMWputAction,"initWithObject:urlString:",obj,url);
}
}),new objj_method(sel_getUid("constructPageUrl:"),function(_16,_17,_18){
with(_16){
return objj_msgSend(_16,"constructPageUrl:withAction:",_18,nil);
}
}),new objj_method(sel_getUid("constructPageUrl:withAction:"),function(_19,_1a,_1b,_1c){
with(_19){
var _1d=objj_msgSend(CPString,"stringWithFormat:","%s/%s/pages/%s",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"),objj_msgSend(_1b,"pageIdx"));
return (_1d+(_1c?"/"+_1c:"")+".json");
}
}),new objj_method(sel_getUid("pagesForPublication:selector:"),function(_1e,_1f,_20,_21){
with(_1e){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/pages.json",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",url,_20,_21);
}
}),new objj_method(sel_getUid("newPageForPublication:delegate:selector:"),function(_22,_23,_24,_25,_26){
with(_22){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/pages/new.json?name=%s",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"),encodeURIComponent(_24));
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",url,_25,_26);
}
}),new objj_method(sel_getUid("deletePageForPublication:delegate:selector:"),function(_27,_28,_29,_2a,_2b){
with(_27){
objj_msgSend(PMCMWdeleteAction,"workerWithUrl:delegate:selector:",objj_msgSend(_27,"constructPageUrl:",_29),_2a,_2b);
}
}),new objj_method(sel_getUid("pageElementsForPage:delegate:selector:"),function(_2c,_2d,_2e,_2f,_30){
with(_2c){
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",objj_msgSend(_2c,"constructPageUrl:",_2e),_2f,_30);
}
}),new objj_method(sel_getUid("copyPage:delegate:selector:"),function(_31,_32,_33,_34,_35){
with(_31){
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",objj_msgSend(_31,"constructPageUrl:withAction:",_33,"copy"),_34,_35);
}
}),new objj_method(sel_getUid("updatePage:"),function(_36,_37,_38){
with(_36){
objj_msgSend(PMCMWputAction,"initWithObject:urlString:",_38,objj_msgSend(_36,"constructPageUrl:",_38));
}
}),new objj_method(sel_getUid("reorderPages:delegate:selector:"),function(_39,_3a,_3b,_3c,_3d){
with(_39){
var obj=objj_msgSend(objj_msgSend(PageReorderRequestHelper,"alloc"),"initWithPages:delegate:selector:",_3b,_3c,_3d);
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/pages/reorder.json",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCMWputAction,"initWithObject:urlString:",obj,url);
}
}),new objj_method(sel_getUid("publishWithDelegate:selector:"),function(_3e,_3f,_40,_41){
with(_3e){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/publish.json?pub_format=pdf",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",url,_40,_41);
}
}),new objj_method(sel_getUid("publishInHtmlWithDelegate:selector:"),function(_42,_43,_44,_45){
with(_42){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/publish.json?pub_format=html",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",url,_44,_45);
}
}),new objj_method(sel_getUid("publicationUpdate:"),function(_46,_47,_48){
with(_46){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s.json",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCMWputAction,"initWithObject:urlString:",_48,url);
}
}),new objj_method(sel_getUid("ping:selector:"),function(_49,_4a,_4b,_4c){
with(_49){
var url=objj_msgSend(CPString,"stringWithFormat:","%s/%s/ping.json",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
objj_msgSend(PMCommMgrWorker,"workerWithUrl:delegate:selector:",url,_4b,_4c);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("sharedInstance"),function(_4d,_4e){
with(_4d){
if(!_1){
_1=objj_msgSend(objj_msgSend(CommunicationManager,"alloc"),"init");
}
return _1;
}
})]);
p;32;app/libs/communication_workers.jt;5761;@STATIC;1.0;t;5742;
var _1=objj_allocateClassPair(CPObject,"PMCommMgrWorker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_urlStr"),new objj_ivar("_delegate"),new objj_ivar("_selector")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithUrl:delegate:selector:"),function(_3,_4,_5,_6,_7){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PMCommMgrWorker").super_class},"init");
if(_3){
_urlStr=_5;
_delegate=_6;
_selector=_7;
objj_msgSend(_3,"generateRequest");
}
return _3;
}
}),new objj_method(sel_getUid("initWithObject:urlString:"),function(_8,_9,_a,_b){
with(_8){
return objj_msgSend(_8,"initWithUrl:delegate:selector:",_b,_a,sel_getUid("requestCompleted:"));
}
}),new objj_method(sel_getUid("generateRequest"),function(_c,_d){
with(_c){
var _e=objj_msgSend(CPURLRequest,"requestWithURL:",_urlStr);
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_e,_c);
}
}),new objj_method(sel_getUid("connection:didReceiveData:"),function(_f,_10,_11,_12){
with(_f){
if(_delegate&&_selector&&_12!=""){
objj_msgSend(_delegate,"performSelector:withObject:",_selector,objj_msgSend(_12,"objectFromJSON"));
}
}
}),new objj_method(sel_getUid("connection:didFailWithError:"),function(_13,_14,_15,_16){
with(_13){
CPLogConsole("[COMM MGR WORKER] ERROR: For "+_urlStr+", Got Error: "+_16);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("workerWithUrl:delegate:selector:"),function(_17,_18,_19,_1a,_1b){
with(_17){
return objj_msgSend(objj_msgSend(PMCommMgrWorker,"alloc"),"initWithUrl:delegate:selector:",_19,_1a,_1b);
}
})]);
var _1=objj_allocateClassPair(PMCommMgrWorker,"PMCMWpostAction"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateRequest"),function(_1c,_1d){
with(_1c){
var _1e=objj_msgSend(LPURLPostRequest,"requestWithURL:",_urlStr);
objj_msgSend(_1e,"setContent:",_delegate);
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_1e,_1c);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithObject:urlString:"),function(_1f,_20,_21,_22){
with(_1f){
return objj_msgSend(objj_msgSend(PMCMWpostAction,"alloc"),"initWithObject:urlString:",_21,_22);
}
})]);
var _1=objj_allocateClassPair(PMCommMgrWorker,"PMCMWgetAction"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateRequest"),function(_23,_24){
with(_23){
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",_urlStr),_23);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithObject:urlString:"),function(_25,_26,_27,_28){
with(_25){
return objj_msgSend(objj_msgSend(PMCMWgetAction,"alloc"),"initWithObject:urlString:",_27,_28);
}
})]);
var _1=objj_allocateClassPair(PMCommMgrWorker,"PMCMWdeleteAction"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateRequest"),function(_29,_2a){
with(_29){
var _2b=objj_msgSend(CPURLRequest,"requestWithURL:",_urlStr);
objj_msgSend(_2b,"setHTTPMethod:","DELETE");
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_2b,_29);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("workerWithUrl:delegate:selector:"),function(_2c,_2d,_2e,_2f,_30){
with(_2c){
return objj_msgSend(objj_msgSend(PMCMWdeleteAction,"alloc"),"initWithUrl:delegate:selector:",_2e,_2f,_30);
}
}),new objj_method(sel_getUid("initWithObject:urlString:"),function(_31,_32,_33,_34){
with(_31){
return objj_msgSend(objj_msgSend(PMCMWdeleteAction,"alloc"),"initWithObject:urlString:",_33,_34);
}
})]);
var _1=objj_allocateClassPair(PMCommMgrWorker,"PMCMWputAction"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateRequest"),function(_35,_36){
with(_35){
var _37=objj_msgSend(LPURLPostRequest,"requestWithURL:",_urlStr);
objj_msgSend(_37,"setHTTPMethod:","PUT");
objj_msgSend(_37,"setContent:",_delegate);
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_37,_35);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithObject:urlString:"),function(_38,_39,_3a,_3b){
with(_38){
return objj_msgSend(objj_msgSend(PMCMWputAction,"alloc"),"initWithObject:urlString:",_3a,_3b);
}
})]);
var _1=objj_allocateClassPair(CPObject,"PMCMWjsonpWorker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_urlStr"),new objj_ivar("_delegate"),new objj_ivar("_selector")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithUrl:delegate:selector:callback:"),function(_3c,_3d,url,_3e,_3f,_40){
with(_3c){
_urlStr=url;
_delegate=_3e;
_selector=_3f;
objj_msgSend(CPJSONPConnection,"connectionWithRequest:callback:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",_urlStr),_40,_3c);
}
}),new objj_method(sel_getUid("connection:didReceiveData:"),function(_41,_42,_43,_44){
with(_41){
if(_delegate&&_selector&&_44){
objj_msgSend(_delegate,"performSelector:withObject:",_selector,_44);
}
}
}),new objj_method(sel_getUid("connection:didFailWithError:"),function(_45,_46,_47,_48){
with(_45){
if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("jsonpRequestError:"))){
objj_msgSend(_delegate,"performSelector:withObject:",sel_getUid("jsonpRequestError:"),_48);
}
alert(_48);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("workerWithUrl:delegate:selector:"),function(_49,_4a,url,_4b,_4c){
with(_49){
return objj_msgSend(objj_msgSend(PMCMWjsonpWorker,"alloc"),"initWithUrl:delegate:selector:callback:",url,_4b,_4c,"callback");
}
}),new objj_method(sel_getUid("workerWithUrl:delegate:selector:callback:"),function(_4d,_4e,url,_4f,_50,_51){
with(_4d){
return objj_msgSend(objj_msgSend(PMCMWjsonpWorker,"alloc"),"initWithUrl:delegate:selector:callback:",url,_4f,_50,_51);
}
})]);
p;32;app/libs/configuration_manager.jt;4942;@STATIC;1.0;t;4923;
var _1=nil;
var _2=nil;
var _3=objj_allocateClassPair(CPObject,"ConfigurationManager"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("m_cookieStore"),new objj_ivar("m_facebook_app_id"),new objj_ivar("m_flickr_api_key"),new objj_ivar("m_publication_properties")]);
objj_registerClassPair(_3);
class_addMethods(_3,[new objj_method(sel_getUid("flickrApiKey"),function(_5,_6){
with(_5){
return m_flickr_api_key;
}
}),new objj_method(sel_getUid("pubProperties"),function(_7,_8){
with(_7){
return m_publication_properties;
}
}),new objj_method(sel_getUid("setPubProperties:"),function(_9,_a,_b){
with(_9){
m_publication_properties=_b;
}
}),new objj_method(sel_getUid("init"),function(_c,_d){
with(_c){
_c=objj_msgSendSuper({receiver:_c,super_class:objj_getClass("ConfigurationManager").super_class},"init");
if(_c){
m_facebook_app_id="";
m_flickr_api_key="";
m_cookieStore=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
m_publication_properties=objj_msgSend(objj_msgSend(PubConfig,"alloc"),"init");
}
return _c;
}
}),new objj_method(sel_getUid("valueFor:"),function(_e,_f,_10){
with(_e){
if(!_10||_10==""){
return;
}
var val=objj_msgSend(m_cookieStore,"objectForKey:",_10);
if(!val){
var _11=objj_msgSend(objj_msgSend(CPCookie,"alloc"),"initWithName:",_10);
if(_11){
val=_11;
CPLogConsole("[CONFIG] Found value '"+objj_msgSend(val,"value")+"' for '"+_10+"'");
objj_msgSend(m_cookieStore,"setObject:forKey:",_11,_10);
}else{
CPLogConsole("[CONFIG] ERROR No cookie found for '"+_10+"'");
}
}
return objj_msgSend(val,"value");
}
}),new objj_method(sel_getUid("fbCookie"),function(_12,_13){
with(_12){
var _14=objj_msgSend(_12,"valueFor:","fbs_"+m_facebook_app_id);
_14=_14.replace(/^"/,"").replace(/"$/,"");
CPLogConsole("FB Cookie: "+_14);
return _14;
}
}),new objj_method(sel_getUid("server"),function(_15,_16){
with(_15){
return decodeCgi(objj_msgSend(_15,"valueFor:","server"));
}
}),new objj_method(sel_getUid("publication_id"),function(_17,_18){
with(_17){
return decodeCgi(objj_msgSend(_17,"valueFor:","publication_id"));
}
}),new objj_method(sel_getUid("topics"),function(_19,_1a){
with(_19){
if(!_2){
_2=objj_msgSend(CPArray,"arrayWithArray:",decodeCgi(objj_msgSend(_19,"valueFor:","topics")).split(","));
}
return _2;
}
}),new objj_method(sel_getUid("dpi"),function(_1b,_1c){
with(_1b){
var dpi=parseInt(decodeCgi(objj_msgSend(_1b,"valueFor:","dpi")),10);
if(isNaN(dpi)){
dpi=96;
}
return dpi;
}
}),new objj_method(sel_getUid("getA4Size"),function(_1d,_1e){
with(_1d){
var dpi=objj_msgSend(_1d,"dpi");
return CGSizeMake(8.2677165354*dpi,11.6929133739*dpi);
}
}),new objj_method(sel_getUid("getLetterSize"),function(_1f,_20){
with(_1f){
var dpi=objj_msgSend(_1f,"dpi");
return CGSizeMake(8.5*dpi,11*dpi);
}
}),new objj_method(sel_getUid("is_new"),function(_21,_22){
with(_21){
return (objj_msgSend(_21,"valueFor:","is_new")=="yes");
}
}),new objj_method(sel_getUid("pagesPlaceholders"),function(_23,_24){
with(_23){
return ["{ \"page\" : { \"number\": \"1\", \"name\" : \"Page\", \"id\" : 1 }}","{ \"page\" : { \"number\": \"2\", \"name\" : \"Page\", \"id\" : 2 }}","{ \"page\" : { \"number\": \"3\", \"name\" : \"Page\", \"id\" : 3 }}","{ \"page\" : { \"number\": \"4\", \"name\" : \"Page\", \"id\" : 4 }}",];
}
}),new objj_method(sel_getUid("publishRequestCompleted:"),function(_25,_26,_27){
with(_25){
switch(_27.action){
case "publications_ping":
if(_27.status=="ok"){
m_facebook_app_id=_27.data.facebook_app_id;
m_flickr_api_key=_27.data.flickr_api_key;
objj_msgSend(m_publication_properties,"setConfig:",_27.data.publication);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",ConfigurationManagerToolBoxArrivedNotification,_27.data.tool_box_items);
var _28=_27.data.toolbar_left;
objj_msgSend(_28,"addObjectsFromArray:",[CPToolbarFlexibleSpaceItemIdentifier]);
objj_msgSend(_28,"addObjectsFromArray:",_27.data.toolbar_middle);
objj_msgSend(_28,"addObjectsFromArray:",[CPToolbarFlexibleSpaceItemIdentifier]);
objj_msgSend(_28,"addObjectsFromArray:",_27.data.toolbar_right);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",ConfigurationManagerToolBarArrivedNotification,[_28,_27.data.tool_tips]);
}
break;
}
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedInstance"),function(_29,_2a){
with(_29){
if(!_1){
_1=objj_msgSend(objj_msgSend(ConfigurationManager,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("previewUrl"),function(_2b,_2c){
with(_2b){
return objj_msgSend(CPString,"stringWithFormat:","%s/%s",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"),objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"publication_id"));
}
}),new objj_method(sel_getUid("goingBackUrl"),function(_2d,_2e){
with(_2d){
return objj_msgSend(CPString,"stringWithFormat:","%s/user",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"server"));
}
})]);
p;28;app/libs/drag_drop_manager.jt;4413;@STATIC;1.0;t;4394;
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"DragDropManager"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_store")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("init"),function(_4,_5){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("DragDropManager").super_class},"init");
if(_4){
_store=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),TweetDragType);
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),FlickrDragType);
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),FacebookDragType);
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),ToolElementDragType);
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),GoogleImagesDragType);
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init"),YouTubeDragType);
}
return _4;
}
}),new objj_method(sel_getUid("moreTweets:"),function(_6,_7,_8){
with(_6){
var _9=objj_msgSend(_store,"objectForKey:",TweetDragType);
objj_msgSend(DragDropManager,"_addDataToStore:withData:",_9,_8);
}
}),new objj_method(sel_getUid("deleteTweets:"),function(_a,_b,_c){
with(_a){
var _d=objj_msgSend(_store,"objectForKey:",TweetDragType);
for(var _e=0;_e<objj_msgSend(_c,"count");_e++){
objj_msgSend(_d,"removeObjectForKey:",objj_msgSend(_c[_e],"id_str"));
}
}
}),new objj_method(sel_getUid("tweetForId:"),function(_f,_10,_11){
with(_f){
CPLogConsole("requesting tweet with id: "+_11);
var _12=objj_msgSend(objj_msgSend(_store,"objectForKey:",TweetDragType),"objectForKey:",_11);
if(!_12){
CPLogConsole("Initiating tweet request via D&D Mgr.");
objj_msgSend(Tweet,"retrieveTweetAndUpdateDragAndDrop:",_11);
}
return _12;
}
}),new objj_method(sel_getUid("moreFacebook:"),function(_13,_14,_15){
with(_13){
var _16=objj_msgSend(_store,"objectForKey:",FacebookDragType);
objj_msgSend(DragDropManager,"_addDataToStore:withData:",_16,_15);
}
}),new objj_method(sel_getUid("facebookItemForId:"),function(_17,_18,_19){
with(_17){
return objj_msgSend(objj_msgSend(_store,"objectForKey:",FacebookDragType),"objectForKey:",_19);
}
}),new objj_method(sel_getUid("moreFlickrImages:"),function(_1a,_1b,_1c){
with(_1a){
objj_msgSend(DragDropManager,"_addDataToStore:withData:",objj_msgSend(_store,"objectForKey:",FlickrDragType),_1c);
}
}),new objj_method(sel_getUid("flickrImageForId:"),function(_1d,_1e,_1f){
with(_1d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:",FlickrDragType),"objectForKey:",_1f);
}
}),new objj_method(sel_getUid("moreToolElements:"),function(_20,_21,_22){
with(_20){
var _23=objj_msgSend(_store,"objectForKey:",ToolElementDragType);
return objj_msgSend(DragDropManager,"_addDataToStore:withData:",_23,_22);
}
}),new objj_method(sel_getUid("toolElementForId:"),function(_24,_25,_26){
with(_24){
return objj_msgSend(objj_msgSend(_store,"objectForKey:",ToolElementDragType),"objectForKey:",_26);
}
}),new objj_method(sel_getUid("moreGoogleImages:"),function(_27,_28,_29){
with(_27){
var _2a=objj_msgSend(_store,"objectForKey:",GoogleImagesDragType);
return objj_msgSend(DragDropManager,"_addDataToStore:withData:",_2a,_29);
}
}),new objj_method(sel_getUid("googleImageForId:"),function(_2b,_2c,_2d){
with(_2b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:",GoogleImagesDragType),"objectForKey:",_2d);
}
}),new objj_method(sel_getUid("moreYouTubeVideos:"),function(_2e,_2f,_30){
with(_2e){
var _31=objj_msgSend(_store,"objectForKey:",YouTubeDragType);
return objj_msgSend(DragDropManager,"_addDataToStore:withData:",_31,_30);
}
}),new objj_method(sel_getUid("youTubeVideoForId:"),function(_32,_33,_34){
with(_32){
return objj_msgSend(objj_msgSend(_store,"objectForKey:",YouTubeDragType),"objectForKey:",_34);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("sharedInstance"),function(_35,_36){
with(_35){
if(!_1){
_1=objj_msgSend(objj_msgSend(DragDropManager,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("_addDataToStore:withData:"),function(_37,_38,_39,_3a){
with(_37){
for(var idx=0;idx<objj_msgSend(_3a,"count");idx++){
objj_msgSend(_39,"setObject:forKey:",_3a[idx],objj_msgSend(_3a[idx],"id_str"));
}
return _3a;
}
})]);
p;30;app/libs/placeholder_manager.jt;13579;@STATIC;1.0;t;13559;
var _1=nil;
var _2=["add","addHigh","rm","rmHigh","flickr_32","flickr_32_high","facebook_32","facebook_32_high","youtube_32_high","pdf_32","quotes","html_32","html_32_high","stumbleupon_32","digg_32","twitter_32_high","twitter_32","youtube_32","pdf_32_high","fblike","twitter_feed","digg_button","tool_text","tool_image","tool_unknown","tool_facebook","tool_digg","tool_twitter","tool_link","tool_moustache","tool_highlight","tool_vertical_bar","tool_horizontal_bar","photo_album","google_32","google_32_high","tool_you_tube","back_button_32","back_button_32_high","editor_delete","pay_pal_button_large","pay_pal_button_small","pay_pal_button_large_no_cc","tool_pay_pal_button","editor_copy","tool_speech_bubble","editor_move","editor_property","editor_resize_diagonal","editor_resize_right","delete_page_32","editor_resize_bottom","copy_32","copy_32_high","paste_32","paste_32_high","properties_32","copy_page_32","new_page_32","property_32","property_32_high","tool_border","tool_box","tool_banksy_love_rat","tool_banksy_pap_rat"];
var _3=objj_allocateClassPair(CPObject,"PlaceholderManager"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_store"),new objj_ivar("_waitingOnImage"),new objj_ivar("_spinnerImage"),new objj_ivar("_quotesImage")]);
objj_registerClassPair(_3);
class_addMethods(_3,[new objj_method(sel_getUid("init"),function(_5,_6){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PlaceholderManager").super_class},"init");
if(_5){
_store=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
for(var _7=0;_7<_2.length;_7++){
var _8=_2[_7];
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(PMGetImageWorker,"workerFor:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",(_8+".png"))),objj_msgSend(_8,"lowercaseString"));
}
objj_msgSend(_store,"setObject:forKey:",objj_msgSend(PMGetImageWorker,"workerFor:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","spinner.gif")),"sp");
}
return _5;
}
}),new objj_method(sel_getUid("spinner"),function(_9,_a){
with(_9){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","sp"),"image");
}
}),new objj_method(sel_getUid("quotes"),function(_b,_c){
with(_b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","quotes"),"image");
}
}),new objj_method(sel_getUid("add"),function(_d,_e){
with(_d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","add"),"image");
}
}),new objj_method(sel_getUid("addHigh"),function(_f,_10){
with(_f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","addhigh"),"image");
}
}),new objj_method(sel_getUid("remove"),function(_11,_12){
with(_11){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","rm"),"image");
}
}),new objj_method(sel_getUid("removeHigh"),function(_13,_14){
with(_13){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","rmhigh"),"image");
}
}),new objj_method(sel_getUid("flickr"),function(_15,_16){
with(_15){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","flickr_32"),"image");
}
}),new objj_method(sel_getUid("flickrHigh"),function(_17,_18){
with(_17){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","flickr_32_high"),"image");
}
}),new objj_method(sel_getUid("facebook"),function(_19,_1a){
with(_19){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","facebook_32"),"image");
}
}),new objj_method(sel_getUid("facebookHigh"),function(_1b,_1c){
with(_1b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","facebook_32_high"),"image");
}
}),new objj_method(sel_getUid("youtube"),function(_1d,_1e){
with(_1d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","youtube_32"),"image");
}
}),new objj_method(sel_getUid("youtubeHigh"),function(_1f,_20){
with(_1f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","youtube_32_high"),"image");
}
}),new objj_method(sel_getUid("twitter"),function(_21,_22){
with(_21){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","twitter_32"),"image");
}
}),new objj_method(sel_getUid("twitterHigh"),function(_23,_24){
with(_23){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","twitter_32_high"),"image");
}
}),new objj_method(sel_getUid("pdf"),function(_25,_26){
with(_25){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","pdf_32"),"image");
}
}),new objj_method(sel_getUid("pdfHigh"),function(_27,_28){
with(_27){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","pdf_32_high"),"image");
}
}),new objj_method(sel_getUid("html"),function(_29,_2a){
with(_29){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","html_32"),"image");
}
}),new objj_method(sel_getUid("htmlHigh"),function(_2b,_2c){
with(_2b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","html_32_high"),"image");
}
}),new objj_method(sel_getUid("digg"),function(_2d,_2e){
with(_2d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","digg_32"),"image");
}
}),new objj_method(sel_getUid("diggHigh"),function(_2f,_30){
with(_2f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","digg_32"),"image");
}
}),new objj_method(sel_getUid("stumbleupon"),function(_31,_32){
with(_31){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","stumbleupon_32"),"image");
}
}),new objj_method(sel_getUid("stumbleuponHigh"),function(_33,_34){
with(_33){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","stumbleupon_32"),"image");
}
}),new objj_method(sel_getUid("googleImages"),function(_35,_36){
with(_35){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","google_32"),"image");
}
}),new objj_method(sel_getUid("googleImagesHigh"),function(_37,_38){
with(_37){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","google_32_high"),"image");
}
}),new objj_method(sel_getUid("backButton"),function(_39,_3a){
with(_39){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","back_button_32"),"image");
}
}),new objj_method(sel_getUid("backButtonHigh"),function(_3b,_3c){
with(_3b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","back_button_32_high"),"image");
}
}),new objj_method(sel_getUid("menuCopyButton"),function(_3d,_3e){
with(_3d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","copy_32"),"image");
}
}),new objj_method(sel_getUid("menuCopyButtonHigh"),function(_3f,_40){
with(_3f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","copy_32_high"),"image");
}
}),new objj_method(sel_getUid("menuPasteButton"),function(_41,_42){
with(_41){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","paste_32"),"image");
}
}),new objj_method(sel_getUid("menuPasteButtonHigh"),function(_43,_44){
with(_43){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","paste_32_high"),"image");
}
}),new objj_method(sel_getUid("deleteButton"),function(_45,_46){
with(_45){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_delete"),"image");
}
}),new objj_method(sel_getUid("copyButton"),function(_47,_48){
with(_47){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_copy"),"image");
}
}),new objj_method(sel_getUid("moveButton"),function(_49,_4a){
with(_49){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_move"),"image");
}
}),new objj_method(sel_getUid("propertyButton"),function(_4b,_4c){
with(_4b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_property"),"image");
}
}),new objj_method(sel_getUid("resizeRightButton"),function(_4d,_4e){
with(_4d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_resize_right"),"image");
}
}),new objj_method(sel_getUid("resizeBottomButton"),function(_4f,_50){
with(_4f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_resize_bottom"),"image");
}
}),new objj_method(sel_getUid("resizeDiagonalButton"),function(_51,_52){
with(_51){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","editor_resize_diagonal"),"image");
}
}),new objj_method(sel_getUid("fblike"),function(_53,_54){
with(_53){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","fblike"),"image");
}
}),new objj_method(sel_getUid("twitterFeed"),function(_55,_56){
with(_55){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","twitter_feed"),"image");
}
}),new objj_method(sel_getUid("diggButton"),function(_57,_58){
with(_57){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","digg_button"),"image");
}
}),new objj_method(sel_getUid("photoAlbum"),function(_59,_5a){
with(_59){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","photo_album"),"image");
}
}),new objj_method(sel_getUid("payPalButton"),function(_5b,_5c){
with(_5b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","pay_pal_button_small"),"image");
}
}),new objj_method(sel_getUid("payPalButtonLarge"),function(_5d,_5e){
with(_5d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","pay_pal_button_large"),"image");
}
}),new objj_method(sel_getUid("payPalButtonLargeNoCC"),function(_5f,_60){
with(_5f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","pay_pal_button_large_no_cc"),"image");
}
}),new objj_method(sel_getUid("toolUnknown"),function(_61,_62){
with(_61){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_unknown"),"image");
}
}),new objj_method(sel_getUid("toolText"),function(_63,_64){
with(_63){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_text"),"image");
}
}),new objj_method(sel_getUid("toolImage"),function(_65,_66){
with(_65){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_image"),"image");
}
}),new objj_method(sel_getUid("toolFbLike"),function(_67,_68){
with(_67){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_facebook"),"image");
}
}),new objj_method(sel_getUid("toolDigg"),function(_69,_6a){
with(_69){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_digg"),"image");
}
}),new objj_method(sel_getUid("toolTwitter"),function(_6b,_6c){
with(_6b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_twitter"),"image");
}
}),new objj_method(sel_getUid("toolLink"),function(_6d,_6e){
with(_6d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_link"),"image");
}
}),new objj_method(sel_getUid("toolMoustache"),function(_6f,_70){
with(_6f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_moustache"),"image");
}
}),new objj_method(sel_getUid("toolHighlight"),function(_71,_72){
with(_71){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_highlight"),"image");
}
}),new objj_method(sel_getUid("toolHorizBar"),function(_73,_74){
with(_73){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_horizontal_bar"),"image");
}
}),new objj_method(sel_getUid("toolVerticalBar"),function(_75,_76){
with(_75){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_vertical_bar"),"image");
}
}),new objj_method(sel_getUid("toolYouTube"),function(_77,_78){
with(_77){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_you_tube"),"image");
}
}),new objj_method(sel_getUid("toolPayPalButton"),function(_79,_7a){
with(_79){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_pay_pal_button"),"image");
}
}),new objj_method(sel_getUid("toolSpeechBubble"),function(_7b,_7c){
with(_7b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_speech_bubble"),"image");
}
}),new objj_method(sel_getUid("toolBox"),function(_7d,_7e){
with(_7d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_box"),"image");
}
}),new objj_method(sel_getUid("toolBorder"),function(_7f,_80){
with(_7f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_border"),"image");
}
}),new objj_method(sel_getUid("toolBanksysLoveRat"),function(_81,_82){
with(_81){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_banksy_love_rat"),"image");
}
}),new objj_method(sel_getUid("toolBanksysPapRat"),function(_83,_84){
with(_83){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","tool_banksy_pap_rat"),"image");
}
}),new objj_method(sel_getUid("propertyPageButton"),function(_85,_86){
with(_85){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","properties_32"),"image");
}
}),new objj_method(sel_getUid("copyPageButton"),function(_87,_88){
with(_87){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","copy_page_32"),"image");
}
}),new objj_method(sel_getUid("newPageButton"),function(_89,_8a){
with(_89){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","new_page_32"),"image");
}
}),new objj_method(sel_getUid("deletePageButton"),function(_8b,_8c){
with(_8b){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","delete_page_32"),"image");
}
}),new objj_method(sel_getUid("propertyPublicationButton"),function(_8d,_8e){
with(_8d){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","property_32"),"image");
}
}),new objj_method(sel_getUid("propertyPublicationButtonHigh"),function(_8f,_90){
with(_8f){
return objj_msgSend(objj_msgSend(_store,"objectForKey:","property_32_high"),"image");
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedInstance"),function(_91,_92){
with(_91){
if(!_1){
CPLogConsole("[PLM] booting singleton instance");
_1=objj_msgSend(objj_msgSend(PlaceholderManager,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("imageFor:"),function(_93,_94,_95){
with(_93){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"performSelector:",_95);
}
}),new objj_method(sel_getUid("placeholderImageUrl"),function(_96,_97){
with(_96){
return "http://assets.2monki.es/images/placeholder.png";
}
}),new objj_method(sel_getUid("moustacheImageUrl"),function(_98,_99){
with(_98){
return "http://assets.2monki.es/images/moustache.png";
}
})]);
p;24;app/libs/theme_manager.jt;2717;@STATIC;1.0;t;2698;
var _1=nil;
var _2="SideBarWidth",_3="BgClrContent",_4="BgToolView",_5="BgClrPageCtrl",_6="BorderColor",_7="BorderColorToolCell",_8="ToolHighlightColor",_9="BgPageView",_a="EditorHighlightKey";
var _b=objj_allocateClassPair(CPObject,"ThemeManager"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_themeStore")]);
objj_registerClassPair(_b);
class_addMethods(_b,[new objj_method(sel_getUid("init"),function(_d,_e){
with(_d){
_d=objj_msgSendSuper({receiver:_d,super_class:objj_getClass("ThemeManager").super_class},"init");
if(_d){
_themeStore=objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:","250",_2,objj_msgSend(CPColor,"colorWithHexString:","e7eff6"),_3,objj_msgSend(CPColor,"colorWithHexString:","c2ecc5"),_5,objj_msgSend(CPColor,"whiteColor"),_4,objj_msgSend(CPColor,"whiteColor"),_9,objj_msgSend(CPColor,"grayColor"),_7,objj_msgSend(CPColor,"colorWithHexString:","f5f5f5"),_8,objj_msgSend(CPColor,"grayColor"),_6,objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,230,3,0.7),_a);
}
return _d;
}
}),new objj_method(sel_getUid("store"),function(_f,_10){
with(_f){
return _themeStore;
}
})]);
class_addMethods(_c,[new objj_method(sel_getUid("sharedInstance"),function(_11,_12){
with(_11){
if(!_1){
_1=objj_msgSend(objj_msgSend(ThemeManager,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("valueFor:"),function(_13,_14,_15){
with(_13){
return objj_msgSend(objj_msgSend(objj_msgSend(ThemeManager,"sharedInstance"),"store"),"objectForKey:",_15);
}
}),new objj_method(sel_getUid("sideBarWidth"),function(_16,_17){
with(_16){
return objj_msgSend(objj_msgSend(ThemeManager,"valueFor:",_2),"intValue");
}
}),new objj_method(sel_getUid("bgColorPageListView"),function(_18,_19){
with(_18){
return objj_msgSend(ThemeManager,"valueFor:",_9);
}
}),new objj_method(sel_getUid("bgColorToolView"),function(_1a,_1b){
with(_1a){
return objj_msgSend(ThemeManager,"valueFor:",_4);
}
}),new objj_method(sel_getUid("bgColorContentView"),function(_1c,_1d){
with(_1c){
return objj_msgSend(ThemeManager,"valueFor:",_3);
}
}),new objj_method(sel_getUid("bgColorPageCtrlView"),function(_1e,_1f){
with(_1e){
return objj_msgSend(ThemeManager,"valueFor:",_5);
}
}),new objj_method(sel_getUid("borderColorToolCell"),function(_20,_21){
with(_20){
return objj_msgSend(ThemeManager,"valueFor:",_7);
}
}),new objj_method(sel_getUid("borderColor"),function(_22,_23){
with(_22){
return objj_msgSend(ThemeManager,"valueFor:",_6);
}
}),new objj_method(sel_getUid("toolHighlightColor"),function(_24,_25){
with(_24){
return objj_msgSend(ThemeManager,"valueFor:",_8);
}
}),new objj_method(sel_getUid("editorBgColor"),function(_26,_27){
with(_26){
return objj_msgSend(ThemeManager,"valueFor:",_a);
}
})]);
p;33;app/mixins/alert_window_support.jt;1829;@STATIC;1.0;t;1810;
var _1=objj_allocateClassPair(GRClassMixin,"AlertWindowSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_aws_alert_window"),new objj_ivar("m_aws_remove_alert_window"),new objj_ivar("m_aws_selector")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awsShowAlertWindow:title:interval:"),function(_3,_4,_5,_6,_7){
with(_3){
objj_msgSend(_3,"awsShowAlertWindow:title:interval:delegate:selector:",_5,_6,_7,nil,nil);
}
}),new objj_method(sel_getUid("awsShowAlertWindow:title:interval:delegate:selector:"),function(_8,_9,_a,_b,_c,_d,_e){
with(_8){
m_aws_alert_window=objj_msgSend(objj_msgSend(GRInfoWindow,"alloc"),"init");
objj_msgSend(m_aws_alert_window,"setMessageText:",_a);
objj_msgSend(m_aws_alert_window,"setTitle:",_b);
objj_msgSend(m_aws_alert_window,"setAlertStyle:",CPInformationalAlertStyle);
objj_msgSend(m_aws_alert_window,"setEnabled:",NO);
objj_msgSend(m_aws_alert_window,"setSelectable:",NO);
objj_msgSend(m_aws_alert_window,"setEditable:",NO);
objj_msgSend(m_aws_alert_window,"runModal");
m_aws_target=_d;
m_aws_selector=_e;
var _f=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);
objj_msgSend(_f,"setTarget:",_8);
objj_msgSend(_f,"setSelector:",sel_getUid("awsCloseAlertWindow"));
m_aws_remove_alert_window=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",_c,_f,NO);
}
}),new objj_method(sel_getUid("awsCloseAlertWindowImmediately"),function(_10,_11){
with(_10){
objj_msgSend(m_aws_remove_alert_window,"invalidate");
objj_msgSend(m_aws_alert_window,"close");
}
}),new objj_method(sel_getUid("awsCloseAlertWindow"),function(_12,_13){
with(_12){
objj_msgSend(_12,"awsCloseAlertWindowImmediately");
if(m_aws_target&&m_aws_selector){
objj_msgSend(m_aws_target,"performSelector:",m_aws_selector);
}
}
})]);
p;40;app/mixins/document_view_cell_snapgrid.jt;1856;@STATIC;1.0;t;1837;
var _1=objj_allocateClassPair(GRClassMixin,"DocumentViewCellWithoutSnapgrid"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("mouseDragged:"),function(_3,_4,_5){
with(_3){
var _6=objj_msgSend(_5,"locationInWindow"),_7=objj_msgSend(_3,"frame").origin;
var _8=CGPointMake(_7.x+_6.x-dragLocation.x,_7.y+_6.y-dragLocation.y);
objj_msgSend(_3,"setFrameOrigin:",_8);
if(_3==objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"documentViewCell")){
var _9=objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"frame").origin;
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setFrameOrigin:",CGPointMake(_9.x+_6.x-dragLocation.x,_9.y+_6.y-dragLocation.y));
}
dragLocation=_6;
}
})]);
var _1=objj_allocateClassPair(GRClassMixin,"DocumentViewCellWithSnapgrid"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("mouseDragged:"),function(_a,_b,_c){
with(_a){
var _d=objj_msgSend(_c,"locationInWindow"),_e=objj_msgSend(_a,"frame").origin,_f=objj_msgSend(objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pubProperties"),"snapGridWidth");
var _10=(parseInt((_d.x-dragLocation.x)/_f,10)*_f);
var _11=(parseInt((_d.y-dragLocation.y)/_f,10)*_f);
var _12=_e.x%_f;
_12=(_12>0?_f-_12:(_12<0?_f+_12:0));
var _13=_e.y%_f;
_13=(_13>0?_f-_13:(_13<0?_f-_13:0));
if(_10!=0||_12!=0||_11!=0||_13!=0){
objj_msgSend(_a,"setFrameOrigin:",CGPointMake(_e.x+_10+_12,_e.y+_11+_13));
if(_a==objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"documentViewCell")){
var _14=objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"frame").origin;
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setFrameOrigin:",CGPointMake(_14.x+_10+_12,_14.y+_11+_13));
}
dragLocation=_d;
}
}
})]);
p;37;app/mixins/image_element_properties.jt;3615;@STATIC;1.0;t;3596;
var _1=objj_allocateClassPair(GRClassMixin,"ImageElementProperties"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_destUrl"),new objj_ivar("m_reloadInterval"),new objj_ivar("m_image_flags")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("linkUrl"),function(_3,_4){
with(_3){
return m_destUrl;
}
}),new objj_method(sel_getUid("setLinkUrl:"),function(_5,_6,_7){
with(_5){
m_destUrl=_7;
}
}),new objj_method(sel_getUid("reloadInterval"),function(_8,_9){
with(_8){
return m_reloadInterval;
}
}),new objj_method(sel_getUid("setReloadInterval:"),function(_a,_b,_c){
with(_a){
m_reloadInterval=_c;
}
}),new objj_method(sel_getUid("imageFlags"),function(_d,_e){
with(_d){
return m_image_flags;
}
}),new objj_method(sel_getUid("setImageFlags:"),function(_f,_10,_11){
with(_f){
m_image_flags=_11;
}
}),new objj_method(sel_getUid("setImagePropertiesFromJson"),function(_12,_13){
with(_12){
m_destUrl=_json.dest_url;
m_reloadInterval=objj_msgSend(check_for_undefined(_json.reload_interval,"0"),"intValue");
m_image_flags=objj_msgSend(check_for_undefined(_json.image_flags,"0"),"intValue");
}
}),new objj_method(sel_getUid("setDestUrlFromJson:"),function(_14,_15,_16){
with(_14){
m_destUrl=is_defined(_json.dest_url)?_json.dest_url:_16;
}
}),new objj_method(sel_getUid("hasProperties"),function(_17,_18){
with(_17){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_19,_1a){
with(_19){
if(objj_msgSend(_19,"respondsToSelector:",sel_getUid("openSpecificPropertyWindow"))){
objj_msgSend(_19,"openSpecificPropertyWindow");
}else{
objj_msgSend(objj_msgSend(objj_msgSend(PropertyImageTEController,"alloc"),"initWithWindowCibName:pageElement:",ImageTEPropertyWindowCIB,_19),"showWindow:",_19);
}
}
}),new objj_method(sel_getUid("getImageSize"),function(_1b,_1c){
with(_1b){
return objj_msgSend(objj_msgSend(_mainView,"image"),"size");
}
}),new objj_method(sel_getUid("generateViewForDocument:withUrl:"),function(_1d,_1e,_1f,url){
with(_1d){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(PMImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_1f,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_1d,"updateMainViewWithNewImageUrl:",url);
objj_msgSend(_1f,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("updateMainViewWithNewImageUrl:"),function(_20,_21,_22){
with(_20){
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:pageElement:",_22,_mainView,_20);
}
}),new objj_method(sel_getUid("removeImageFlag:"),function(_23,_24,_25){
with(_23){
m_image_flags&=~_25;
}
}),new objj_method(sel_getUid("addImageFlag:"),function(_26,_27,_28){
with(_26){
m_image_flags|=_28;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("includedInClass:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(PageElementRotationSupport,"addToClass:",_2b);
}
})]);
var _1=objj_getClass("ImageElementProperties");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"ImageElementProperties\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_2c,_2d){
with(_2c){
return objj_msgSend(objj_msgSend(_2c,"rotationSupportStateHandlers"),"arrayByAddingObjectsFromArray:",[sel_getUid("linkUrl"),sel_getUid("setLinkUrl:"),sel_getUid("reloadInterval"),sel_getUid("setReloadInterval:"),sel_getUid("getSize"),sel_getUid("setFrameSize:"),sel_getUid("imageFlags"),sel_getUid("setImageFlags:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_2e,_2f){
with(_2e){
}
})]);
p;33;app/mixins/object_state_support.jt;878;@STATIC;1.0;t;860;
var _1=objj_allocateClassPair(GRClassMixin,"ObjectStateSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("mtmp_last_good_known_state")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("pushState"),function(_3,_4){
with(_3){
var _5=objj_msgSend(_3,"stateCreators");
mtmp_last_good_known_state=objj_msgSend(CPDictionary,"dictionary");
for(var _6=0;_6<objj_msgSend(_5,"count");_6+=2){
objj_msgSend(mtmp_last_good_known_state,"setObject:forKey:",objj_msgSend(_3,"performSelector:",_5[_6]),_5[_6]);
}
}
}),new objj_method(sel_getUid("popState"),function(_7,_8){
with(_7){
var _9=objj_msgSend(_7,"stateCreators");
for(var _a=0;_a<objj_msgSend(_9,"count");_a+=2){
objj_msgSend(_7,"performSelector:withObject:",_9[_a+1],objj_msgSend(mtmp_last_good_known_state,"objectForKey:",_9[_a]));
}
objj_msgSend(_7,"postStateRestore");
}
})]);
p;37;app/mixins/seek_to_dropdown_helpers.jt;2071;@STATIC;1.0;t;2052;
var _1=objj_allocateClassPair(GRClassMixin,"SeekToDropdownHelpers"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("addValuesToPopUpStartAt:endAt:toPopUp:"),function(_3,_4,_5,_6,_7){
with(_3){
objj_msgSend(_7,"removeAllItems");
for(var _8=_5;_8<_6;_8++){
var _9=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(CPString,"stringWithFormat:","%02d",_8),NULL,nil);
objj_msgSend(_7,"addItem:",_9);
}
}
}),new objj_method(sel_getUid("setSeekToPopUpValues:"),function(_a,_b,_c){
with(_a){
objj_msgSend(_a,"addValuesToPopUpStartAt:endAt:toPopUp:",0,25,_c[0]);
objj_msgSend(_a,"addValuesToPopUpStartAt:endAt:toPopUp:",0,60,_c[1]);
objj_msgSend(_a,"addValuesToPopUpStartAt:endAt:toPopUp:",0,60,_c[2]);
}
}),new objj_method(sel_getUid("setPopUpsWithTime:popUps:"),function(_d,_e,_f,_10){
with(_d){
var _11=objj_msgSend(_d,"obtainHourMinSecs:",_f);
for(var idx=0;idx<3;idx++){
objj_msgSend(_10[idx],"selectItemWithTitle:",objj_msgSend(CPString,"stringWithFormat:","%02d",_11[idx]));
}
}
}),new objj_method(sel_getUid("obtainHourMinSecs:"),function(_12,_13,_14){
with(_12){
var ary=[];
ary[2]=_14%60;
ary[1]=(_14/60)%60;
ary[0]=(_14/3600)%25;
return ary;
}
}),new objj_method(sel_getUid("obtainSeconds:"),function(_15,_16,_17){
with(_15){
return ((objj_msgSend(objj_msgSend(objj_msgSend(_17[0],"selectedItem"),"title"),"intValue")*3600)+(objj_msgSend(objj_msgSend(objj_msgSend(_17[1],"selectedItem"),"title"),"intValue")*60)+objj_msgSend(objj_msgSend(objj_msgSend(_17[2],"selectedItem"),"title"),"intValue"));
}
}),new objj_method(sel_getUid("findPopUpsWithTags:inViews:"),function(_18,_19,_1a,_1b){
with(_18){
var ary=objj_msgSend(CPArray,"arrayWithArray:",_1a);
var cnt=objj_msgSend(_1b,"count");
for(var idx=0;idx<cnt;idx++){
if(objj_msgSend(_1b[idx],"isKindOfClass:",CPPopUpButton)){
var jdx=objj_msgSend(ary,"indexOfObject:",objj_msgSend(_1b[idx],"tag"));
if(jdx!=CPNotFound){
objj_msgSend(ary,"replaceObjectAtIndex:withObject:",jdx,_1b[idx]);
}
}
}
return ary;
}
})]);
p;34;app/mixins/you_tube_page_element.jt;3399;@STATIC;1.0;t;3380;
var _1=objj_allocateClassPair(GRClassMixin,"YouTubePageElement"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_thumbnailUrl"),new objj_ivar("m_imageUrl"),new objj_ivar("m_title"),new objj_ivar("m_owner"),new objj_ivar("m_video"),new objj_ivar("m_search_engines"),new objj_ivar("m_artist_name"),new objj_ivar("m_artist_url"),new objj_ivar("m_seek_to")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("thumbnailImageUrl"),function(_3,_4){
with(_3){
return m_thumbnailUrl;
}
}),new objj_method(sel_getUid("largeImageUrl"),function(_5,_6){
with(_5){
return m_imageUrl;
}
}),new objj_method(sel_getUid("videoTitle"),function(_7,_8){
with(_7){
return m_title;
}
}),new objj_method(sel_getUid("videoOwner"),function(_9,_a){
with(_9){
return m_owner;
}
}),new objj_method(sel_getUid("videoLink"),function(_b,_c){
with(_b){
return m_video;
}
}),new objj_method(sel_getUid("searchEngines"),function(_d,_e){
with(_d){
return m_search_engines;
}
}),new objj_method(sel_getUid("setSearchEngines:"),function(_f,_10,_11){
with(_f){
m_search_engines=_11;
}
}),new objj_method(sel_getUid("artistName"),function(_12,_13){
with(_12){
return m_artist_name;
}
}),new objj_method(sel_getUid("setArtistName:"),function(_14,_15,_16){
with(_14){
m_artist_name=_16;
}
}),new objj_method(sel_getUid("artistUrl"),function(_17,_18){
with(_17){
return m_artist_url;
}
}),new objj_method(sel_getUid("setArtistUrl:"),function(_19,_1a,_1b){
with(_19){
m_artist_url=_1b;
}
}),new objj_method(sel_getUid("seekTo"),function(_1c,_1d){
with(_1c){
return m_seek_to;
}
}),new objj_method(sel_getUid("setSeekTo:"),function(_1e,_1f,_20){
with(_1e){
m_seek_to=_20;
}
}),new objj_method(sel_getUid("updateFromJson"),function(_21,_22){
with(_21){
if(_json.thumbnail){
m_thumbnailUrl=_json.thumbnail.sqDefault;
m_imageUrl=_json.thumbnail.hqDefault;
}
if(_json.content){
m_video=_json.content["5"];
}
if(is_undefined(m_video)){
objj_msgSend(AlertUserHelper,"withPageElementError:","Video formats don't support web integration");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageElementWantsToBeDeletedNotification,_21);
}
if(_json.artist){
m_artist_name=_json.artist.name;
m_artist_url=_json.artist.url;
}else{
m_artist_name="";
m_artist_url="";
}
objj_msgSend(_21,"setSearchEngines:",objj_msgSend(check_for_undefined(_json.m_search_engines,"0"),"intValue"));
m_title=_json.title;
m_owner=_json.uploader;
m_seek_to=objj_msgSend(check_for_undefined(_json.m_seek_to,"0"),"intValue");
}
}),new objj_method(sel_getUid("removeSearchEngine:"),function(_23,_24,_25){
with(_23){
m_search_engines&=~_25;
}
}),new objj_method(sel_getUid("addSearchEngine:"),function(_26,_27,_28){
with(_26){
m_search_engines|=_28;
}
}),new objj_method(sel_getUid("videoId"),function(_29,_2a){
with(_29){
return objj_msgSend(page_element_id,"intValue");
}
})]);
var _1=objj_getClass("YouTubePageElement");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"YouTubePageElement\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_2b,_2c){
with(_2b){
return objj_msgSend(objj_msgSend(_2b,"rotationSupportStateHandlers"),"arrayByAddingObjectsFromArray:",[sel_getUid("searchEngines"),sel_getUid("setSearchEngines:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_2d,_2e){
with(_2d){
}
})]);
p;38;app/mixins/you_tube_video_properties.jt;488;@STATIC;1.0;t;470;
var _1=objj_allocateClassPair(GRClassMixin,"YouTubeVideoProperties"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_3,_4){
with(_3){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_5,_6){
with(_5){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyYouTubeVideoController,"alloc"),"initWithWindowCibName:pageElement:",YouTubeVideoPropertyWindowCIB,_5),"showWindow:",_5);
}
})]);
p;39;app/mixins/page_element/color_support.jt;1429;@STATIC;1.0;t;1410;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementColorSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_red"),new objj_ivar("m_blue"),new objj_ivar("m_green"),new objj_ivar("m_alpha"),new objj_ivar("m_color")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setColorFromJson"),function(_3,_4){
with(_3){
m_red=_json.red;
m_blue=_json.blue;
m_green=_json.green;
m_alpha=_json.alpha;
m_color=objj_msgSend(_3,"createColor");
}
}),new objj_method(sel_getUid("setColor:"),function(_5,_6,_7){
with(_5){
m_color=_7;
m_red=Math.round(objj_msgSend(_7,"redComponent")*255);
m_green=Math.round(objj_msgSend(_7,"greenComponent")*255);
m_blue=Math.round(objj_msgSend(_7,"blueComponent")*255);
m_alpha=objj_msgSend(_7,"alphaComponent");
}
}),new objj_method(sel_getUid("getColor"),function(_8,_9){
with(_8){
return m_color;
}
}),new objj_method(sel_getUid("createColor"),function(_a,_b){
with(_a){
if(typeof (m_red)!="undefined"&&typeof (m_green)!="undefined"&&typeof (m_blue)!="undefined"&&typeof (m_alpha)!="undefined"){
return objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",m_red,m_green,m_blue,m_alpha);
}else{
if(_a.m_defaultColor){
return m_defaultColor;
}else{
return objj_msgSend(CPColor,"blackColor");
}
}
}
}),new objj_method(sel_getUid("colorSupportStateHandlers"),function(_c,_d){
with(_c){
return [sel_getUid("getColor"),sel_getUid("setColor:")];
}
})]);
p;38;app/mixins/page_element/font_support.jt;2531;@STATIC;1.0;t;2512;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementFontSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_fontSize"),new objj_ivar("m_fontName"),new objj_ivar("m_fontObj"),new objj_ivar("m_fontAlignment")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("fontSize"),function(_3,_4){
with(_3){
return m_fontSize;
}
}),new objj_method(sel_getUid("setFontSize:"),function(_5,_6,_7){
with(_5){
m_fontSize=_7;
}
}),new objj_method(sel_getUid("fontName"),function(_8,_9){
with(_8){
return m_fontName;
}
}),new objj_method(sel_getUid("setFontName:"),function(_a,_b,_c){
with(_a){
m_fontName=_c;
}
}),new objj_method(sel_getUid("font"),function(_d,_e){
with(_d){
return m_fontObj;
}
}),new objj_method(sel_getUid("setFont:"),function(_f,_10,_11){
with(_f){
m_fontObj=_11;
}
}),new objj_method(sel_getUid("textAlignment"),function(_12,_13){
with(_12){
return m_fontAlignment;
}
}),new objj_method(sel_getUid("setTextAlignment:"),function(_14,_15,_16){
with(_14){
m_fontAlignment=_16;
}
}),new objj_method(sel_getUid("setFontFromJson"),function(_17,_18){
with(_17){
m_fontSize=_json.font_size;
m_fontName=_json.font_name;
m_fontAlignment=objj_msgSend(check_for_undefined(_json.font_text_alignment,""+CPLeftTextAlignment),"intValue");
objj_msgSend(_17,"_setFont");
}
}),new objj_method(sel_getUid("_setFont"),function(_19,_1a){
with(_19){
if(!m_fontSize){
m_fontSize=12;
}
if(m_fontName){
m_fontObj=objj_msgSend(CPFont,"fontWithName:size:",m_fontName,m_fontSize);
}else{
m_fontObj=objj_msgSend(CPFont,"systemFontOfSize:",m_fontSize);
}
}
}),new objj_method(sel_getUid("setTextAlignment:"),function(_1b,_1c,_1d){
with(_1b){
m_fontAlignment=_1d;
objj_msgSend(_mainView,"setTextAlignment:",m_fontAlignment);
}
}),new objj_method(sel_getUid("setFontSize:"),function(_1e,_1f,_20){
with(_1e){
m_fontSize=_20;
objj_msgSend(_1e,"_setFont");
objj_msgSend(_mainView,"setFont:",m_fontObj);
}
}),new objj_method(sel_getUid("setFontName:"),function(_21,_22,_23){
with(_21){
m_fontName=_23;
objj_msgSend(_21,"_setFont");
objj_msgSend(_mainView,"setFont:",m_fontObj);
}
}),new objj_method(sel_getUid("setFont:"),function(_24,_25,_26){
with(_24){
m_fontSize=objj_msgSend(_26,"size");
m_fontName=objj_msgSend(_26,"familyName");
m_fontObj=_26;
objj_msgSend(_mainView,"setFont:",m_fontObj);
}
}),new objj_method(sel_getUid("fontSupportStateHandlers"),function(_27,_28){
with(_27){
return [sel_getUid("font"),sel_getUid("setFont:"),sel_getUid("textAlignment"),sel_getUid("setTextAlignment:")];
}
})]);
p;39;app/mixins/page_element/input_support.jt;579;@STATIC;1.0;t;561;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementInputSupport"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("obtainInput:defaultValue:"),function(_3,_4,_5,_6){
with(_3){
var _7=objj_msgSend(PromptWindowController,"alloc");
objj_msgSend(_7,"initWithWindowCibName:","PromptWindow");
objj_msgSend(_7,"setDefaultValue:",_6);
objj_msgSend(_7,"setPrompt:",_5);
objj_msgSend(_7,"setDelegate:",_3);
objj_msgSend(_7,"setSelector:",sel_getUid("promptDataCameAvailable:"));
objj_msgSend(_7,"runModal");
return _6;
}
})]);
p;42;app/mixins/page_element/rotation_support.jt;1853;@STATIC;1.0;t;1834;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementRotationSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_rotation"),new objj_ivar("m_vertical_flip")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("rotation"),function(_3,_4){
with(_3){
return m_rotation;
}
}),new objj_method(sel_getUid("verticalFlip"),function(_5,_6){
with(_5){
return m_vertical_flip;
}
}),new objj_method(sel_getUid("setVerticalFlip:"),function(_7,_8,_9){
with(_7){
m_vertical_flip=_9;
}
}),new objj_method(sel_getUid("setRotationFromJson"),function(_a,_b){
with(_a){
m_rotation=objj_msgSend(check_for_undefined(_json.rotation,"0"),"intValue");
m_vertical_flip=objj_msgSend(check_for_undefined(_json.vflip,"0"),"intValue");
}
}),new objj_method(sel_getUid("setVerticalFlip:"),function(_c,_d,_e){
with(_c){
if(m_vertical_flip==_e){
return;
}
m_vertical_flip=_e;
objj_msgSend(_mainView,"setVerticalFlip:",m_vertical_flip);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageElementDidRotateNotification,_c);
}
}),new objj_method(sel_getUid("setRotation:"),function(_f,_10,_11){
with(_f){
if(m_rotation==_11){
return;
}
m_rotation=_11;
objj_msgSend(_mainView,"setRotationDegrees:",m_rotation);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageElementDidRotateNotification,_f);
}
}),new objj_method(sel_getUid("rotationRadians"),function(_12,_13){
with(_12){
return m_rotation*(Math.PI/180);
}
}),new objj_method(sel_getUid("rotationSupportStateHandlers"),function(_14,_15){
with(_14){
return [sel_getUid("rotation"),sel_getUid("setRotation:"),sel_getUid("verticalFlip"),sel_getUid("setVerticalFlip:")];
}
}),new objj_method(sel_getUid("isVerticalFlipped"),function(_16,_17){
with(_16){
return (m_vertical_flip>0);
}
})]);
p;38;app/mixins/page_element/size_support.jt;877;@STATIC;1.0;t;859;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementSizeSupport"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setSize:"),function(_3,_4,_5){
with(_3){
width=_5.width;
height=_5.height;
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_6,_7,_8){
with(_6){
objj_msgSend(_6,"setSize:",_8);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",PageElementDidResizeNotification,_6);
}
}),new objj_method(sel_getUid("getSize"),function(_9,_a){
with(_9){
return CGSizeMake(width,height);
}
}),new objj_method(sel_getUid("setLocation:"),function(_b,_c,_d){
with(_b){
x=_d.origin.x;
y=_d.origin.y;
width=_d.size.width;
height=_d.size.height;
return _b;
}
}),new objj_method(sel_getUid("location"),function(_e,_f){
with(_e){
return CGRectMake(x,y,width,height);
}
})]);
p;44;app/mixins/page_element/text_input_support.jt;2587;@STATIC;1.0;t;2568;
var _1=objj_allocateClassPair(GRClassMixin,"PageElementTextInputSupport"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setupMainViewAddTo:"),function(_3,_4,_5){
with(_3){
_mainView=objj_msgSend(objj_msgSend(LPMultiLineTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_5,"bounds"),4,4));
objj_msgSend(_mainView,"setFont:",objj_msgSend(_3,"font"));
objj_msgSend(_mainView,"setTextColor:",objj_msgSend(_3,"getColor"));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setDelegate:",_3);
objj_msgSend(_mainView,"setScrollable:",YES);
objj_msgSend(_mainView,"setEditable:",YES);
objj_msgSend(_mainView,"setSelectable:",YES);
objj_msgSend(_mainView,"setTextAlignment:",objj_msgSend(_3,"textAlignment"));
objj_msgSend(_mainView,"setStringValue:",objj_msgSend(_3,"textTyped"));
objj_msgSend(_5,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("revertTextAttributes"),function(_6,_7){
with(_6){
objj_msgSend(_mainView,"setStringValue:",objj_msgSend(_6,"textTyped"));
objj_msgSend(_mainView,"setFont:",objj_msgSend(_6,"font"));
objj_msgSend(_mainView,"setTextColor:",objj_msgSend(_6,"getColor"));
objj_msgSend(_mainView,"setTextAlignment:",objj_msgSend(_6,"textAlignment"));
}
}),new objj_method(sel_getUid("checkForChangedText:"),function(_8,_9,_a){
with(_8){
if(objj_msgSend(_8,"textTyped")!==_a){
objj_msgSend(_8,"setTextTyped:",_a);
objj_msgSend(_8,"updateServer");
}
}
}),new objj_method(sel_getUid("controlTextDidBeginEditing:"),function(_b,_c,_d){
with(_b){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",objj_msgSend(_mainView,"superview"));
}
}),new objj_method(sel_getUid("controlTextDidChange:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_e,"checkForChangedText:",objj_msgSend(objj_msgSend(_10,"object"),"stringValue"));
}
}),new objj_method(sel_getUid("controlTextDidEndEditing:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_11,"checkForChangedText:",objj_msgSend(objj_msgSend(_13,"object"),"stringValue"));
}
}),new objj_method(sel_getUid("controlTextDidFocus:"),function(_14,_15,_16){
with(_14){
objj_msgSend(objj_msgSend(_mainView,"superview"),"setSelected:",YES);
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",objj_msgSend(_mainView,"superview"));
}
}),new objj_method(sel_getUid("controlTextDidBlur:"),function(_17,_18,_19){
with(_17){
objj_msgSend(_17,"checkForChangedText:",objj_msgSend(objj_msgSend(_19,"object"),"stringValue"));
}
})]);
p;45;app/mixins/property_controller/font_support.jt;2377;@STATIC;1.0;t;2358;
var _1=objj_allocateClassPair(GRClassMixin,"PropertyControllerFontSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_fontDetailsBorderBox"),new objj_ivar("m_fontSizeLabel"),new objj_ivar("m_fontSizeSlider"),new objj_ivar("m_fontNameButton"),new objj_ivar("m_fontAlignmentButton")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCibSetupFontFields:"),function(_3,_4,_5){
with(_3){
objj_msgSend(CPBox,"makeBorder:",m_fontDetailsBorderBox);
objj_msgSend(m_fontNameButton,"removeAllItems");
var _6=objj_msgSend(objj_msgSend(CPFontManager,"sharedFontManager"),"availableFonts");
for(var _7=0;_7<objj_msgSend(_6,"count");_7++){
var _8=objj_msgSend(_6,"objectAtIndex:",_7);
var _9=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",_8,NULL,nil);
objj_msgSend(_9,"setFont:",objj_msgSend(CPFont,"fontWithName:size:",_8,11));
objj_msgSend(m_fontNameButton,"addItem:",_9);
}
objj_msgSend(m_fontNameButton,"selectItemWithTitle:",objj_msgSend(_5,"fontName"));
objj_msgSend(m_fontSizeSlider,"setDoubleValue:",objj_msgSend(_5,"fontSize"));
objj_msgSend(m_fontSizeLabel,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%0.2f",objj_msgSend(m_fontSizeSlider,"doubleValue")));
var _a=1;
switch(objj_msgSend(_5,"textAlignment")){
case CPCenterTextAlignment:
_a=2;
break;
case CPRightTextAlignment:
_a=4;
break;
}
objj_msgSend(m_fontAlignmentButton,"selectSegmentWithTag:",_a);
}
}),new objj_method(sel_getUid("updateAlignment:"),function(_b,_c,_d){
with(_b){
switch(objj_msgSend(_d,"selectedTag")){
case 1:
return objj_msgSend(m_pageElement,"setTextAlignment:",CPLeftTextAlignment);
case 2:
return objj_msgSend(m_pageElement,"setTextAlignment:",CPCenterTextAlignment);
case 4:
return objj_msgSend(m_pageElement,"setTextAlignment:",CPRightTextAlignment);
}
}
}),new objj_method(sel_getUid("fontNameSelected:"),function(_e,_f,_10){
with(_e){
objj_msgSend(m_pageElement,"setFontName:",objj_msgSend(objj_msgSend(m_fontNameButton,"selectedItem"),"title"));
}
}),new objj_method(sel_getUid("fontSizeSliderAction:"),function(_11,_12,_13){
with(_11){
objj_msgSend(m_fontSizeLabel,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%0.2f",objj_msgSend(m_fontSizeSlider,"doubleValue")));
objj_msgSend(m_pageElement,"setFontSize:",objj_msgSend(m_fontSizeSlider,"doubleValue"));
}
})]);
p;51;app/mixins/property_controller/image_flag_support.jt;847;@STATIC;1.0;t;829;
var _1=objj_allocateClassPair(GRClassMixin,"PropertyControllerImageFlagSupport"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("changeImageFlag:"),function(_3,_4,_5){
with(_3){
if(objj_msgSend(_5,"state")==CPOffState){
objj_msgSend(m_pageElement,"removeImageFlag:",objj_msgSend(_5,"tag"));
}else{
objj_msgSend(m_pageElement,"addImageFlag:",objj_msgSend(_5,"tag"));
}
}
}),new objj_method(sel_getUid("setupFlagFields:"),function(_6,_7,_8){
with(_6){
var _9=objj_msgSend(_8,"count"),_a=objj_msgSend(m_pageElement,"imageFlags");
for(var _b=0;_b<_9;_b++){
if(objj_msgSend(_8[_b],"isKindOfClass:",CPCheckBox)&&objj_msgSend(_8[_b],"tag")>0){
if((_a&[objj_msgSend(_8[_b],"tag")])>0){
objj_msgSend(_8[_b],"setState:",CPOnState);
}else{
objj_msgSend(_8[_b],"setState:",CPOffState);
}
}
}
}
})]);
p;46;app/mixins/property_controller/image_support.jt;4252;@STATIC;1.0;t;4233;
var _1=objj_allocateClassPair(GRClassMixin,"PropertyControllerImageSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_urlField"),new objj_ivar("m_linkField"),new objj_ivar("m_heightField"),new objj_ivar("m_widthField"),new objj_ivar("m_widthImageLabel"),new objj_ivar("m_heightImageLabel"),new objj_ivar("m_reloadIntervalValue"),new objj_ivar("m_reloadSlider"),new objj_ivar("m_reloadButton"),new objj_ivar("m_linksView"),new objj_ivar("m_sizeView"),new objj_ivar("m_reloadView"),new objj_ivar("m_intervalScrollView"),new objj_ivar("m_orig_image_height"),new objj_ivar("m_orig_image_width")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCibSetupImageFields"),function(_3,_4){
with(_3){
objj_msgSend(CPBox,"makeBorder:",m_linksView);
objj_msgSend(CPBox,"makeBorder:",m_sizeView);
objj_msgSend(CPBox,"makeBorder:",m_reloadView);
objj_msgSend(m_heightField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",objj_msgSend(m_pageElement,"getSize").height));
objj_msgSend(m_widthField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",objj_msgSend(m_pageElement,"getSize").width));
m_orig_image_height=objj_msgSend(m_pageElement,"getImageSize").height;
m_orig_image_width=objj_msgSend(m_pageElement,"getImageSize").width;
objj_msgSend(m_widthImageLabel,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",m_orig_image_width));
objj_msgSend(m_heightImageLabel,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",m_orig_image_height));
objj_msgSend(m_urlField,"setStringValue:",objj_msgSend(m_pageElement,"imageUrl"));
objj_msgSend(m_linkField,"setStringValue:",objj_msgSend(m_pageElement,"linkUrl"));
var _5=objj_msgSend(m_pageElement,"reloadInterval");
if(_5>0){
objj_msgSend(m_reloadButton,"setState:",CPOnState);
objj_msgSend(m_intervalScrollView,"setHidden:",NO);
}else{
objj_msgSend(m_reloadButton,"setState:",CPOffState);
objj_msgSend(m_intervalScrollView,"setHidden:",YES);
}
objj_msgSend(m_reloadSlider,"setValue:",objj_msgSend(m_pageElement,"reloadInterval"));
objj_msgSend(_3,"updateReloadIntervalScroller");
}
}),new objj_method(sel_getUid("setReloadInterval:"),function(_6,_7,_8){
with(_6){
objj_msgSend(_6,"updateReloadIntervalScroller");
}
}),new objj_method(sel_getUid("reloadButtonPressed:"),function(_9,_a,_b){
with(_9){
if(objj_msgSend(m_reloadButton,"state")==CPOnState){
objj_msgSend(m_intervalScrollView,"setHidden:",NO);
objj_msgSend(_9,"updateReloadIntervalScroller");
}else{
objj_msgSend(m_intervalScrollView,"setHidden:",YES);
objj_msgSend(m_pageElement,"setReloadInterval:",0);
objj_msgSend(m_reloadSlider,"setValue:",objj_msgSend(m_pageElement,"reloadInterval"));
objj_msgSend(_9,"updateReloadIntervalScroller");
}
}
}),new objj_method(sel_getUid("setSizeToOriginal:"),function(_c,_d,_e){
with(_c){
objj_msgSend(m_heightField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",objj_msgSend(m_pageElement,"getImageSize").height));
objj_msgSend(m_widthField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",objj_msgSend(m_pageElement,"getImageSize").width));
objj_msgSend(_c,"updateFrameSize");
}
}),new objj_method(sel_getUid("scaleWidth:"),function(_f,_10,_11){
with(_f){
objj_msgSend(m_widthField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",m_orig_image_width*(objj_msgSend(m_heightField,"doubleValue")/m_orig_image_height)));
objj_msgSend(_f,"updateFrameSize");
}
}),new objj_method(sel_getUid("scaleHeight:"),function(_12,_13,_14){
with(_12){
objj_msgSend(m_heightField,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%f",m_orig_image_height*(objj_msgSend(m_widthField,"doubleValue")/m_orig_image_width)));
objj_msgSend(_12,"updateFrameSize");
}
}),new objj_method(sel_getUid("updateReloadIntervalScroller"),function(_15,_16){
with(_15){
var str=objj_msgSend(CPString,"stringWithFormat:","%d mins",objj_msgSend(m_reloadSlider,"intValue"));
objj_msgSend(m_reloadIntervalValue,"setStringValue:",str);
}
}),new objj_method(sel_getUid("updateFrameSize"),function(_17,_18){
with(_17){
var _19=CGSizeMake(objj_msgSend(m_widthField,"doubleValue"),objj_msgSend(m_heightField,"doubleValue"));
objj_msgSend(m_pageElement,"setFrameSize:",_19);
}
})]);
p;49;app/mixins/property_controller/rotation_support.jt;1409;@STATIC;1.0;t;1390;
var _1=objj_allocateClassPair(GRClassMixin,"PropertyControllerRotationSupport"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_rotationSlider"),new objj_ivar("m_rotationValue"),new objj_ivar("m_rotationView"),new objj_ivar("m_flipButton")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("awakeFromCibSetupRotationFields:"),function(_3,_4,_5){
with(_3){
objj_msgSend(CPBox,"makeBorder:",m_rotationView);
objj_msgSend(m_rotationSlider,"setValue:",objj_msgSend(m_pageElement,"rotation"));
objj_msgSend(_3,"setRotationValue:",m_rotationSlider);
objj_msgSend(m_flipButton,"setState:",objj_msgSend(m_pageElement,"isVerticalFlipped")?CPOnState:CPOffState);
}
}),new objj_method(sel_getUid("setRotationValue:"),function(_6,_7,_8){
with(_6){
if(objj_msgSend(_8,"isKindOfClass:",CPTextField)){
objj_msgSend(m_rotationSlider,"setValue:",objj_msgSend(objj_msgSend(_8,"stringValue"),"intValue"));
}else{
objj_msgSend(m_rotationValue,"setStringValue:",(""+objj_msgSend(_8,"intValue")));
}
objj_msgSend(m_pageElement,"setRotation:",objj_msgSend(m_rotationSlider,"intValue"));
if(objj_msgSend(m_pageElement,"respondsToSelector:",sel_getUid("redisplay"))){
objj_msgSend(m_pageElement,"redisplay");
}
}
}),new objj_method(sel_getUid("setFlipState:"),function(_9,_a,_b){
with(_9){
objj_msgSend(m_pageElement,"setVerticalFlip:",objj_msgSend(_b,"state")==CPOnState?1:0);
}
})]);
p;28;app/models/digg_button_t_e.jt;1074;@STATIC;1.0;t;1055;
var _1=objj_allocateClassPair(ToolElement,"DiggButtonTE"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateViewForDocument:"),function(_3,_4,_5){
with(_3){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_5,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setImageScaling:",CPScaleProportionally);
objj_msgSend(_mainView,"setHasShadow:",YES);
objj_msgSend(_5,"addSubview:",_mainView);
objj_msgSend(_mainView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"diggButton"));
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_6,_7){
with(_6){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolDigg");
}
}),new objj_method(sel_getUid("initialSize"),function(_8,_9){
with(_8){
return objj_msgSend(_8,"initialSizeFromJsonOrDefault:",CGSizeMake(94,46));
}
})]);
p;21;app/models/facebook.jt;1961;@STATIC;1.0;t;1942;
var _1=objj_allocateClassPair(PageElement,"Facebook"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_picUrl"),new objj_ivar("_srcUrl"),new objj_ivar("_fromUser"),new objj_ivar("_fromUserId")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("thumbImageUrl"),function(_3,_4){
with(_3){
return _picUrl;
}
}),new objj_method(sel_getUid("largeImageUrl"),function(_5,_6){
with(_5){
return _srcUrl;
}
}),new objj_method(sel_getUid("fromUser"),function(_7,_8){
with(_7){
return _fromUser;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_9,_a,_b){
with(_9){
_9=objj_msgSendSuper({receiver:_9,super_class:objj_getClass("Facebook").super_class},"initWithJSONObject:",_b);
if(_9){
objj_msgSend(ImageElementProperties,"addToClassOfObject:",_9);
_picUrl=_json.picture;
_srcUrl=_json.source;
_fromUser=_json.from.name;
_fromUserId=_json.from.id;
objj_msgSend(_9,"setRotationFromJson");
objj_msgSend(_9,"setImagePropertiesFromJson");
objj_msgSend(_9,"setDestUrlFromJson:",_srcUrl);
}
return _9;
}
}),new objj_method(sel_getUid("id_str"),function(_c,_d){
with(_c){
return _json.id;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_e,"generateViewForDocument:withUrl:",_10,objj_msgSend(_e,"largeImageUrl"));
}
}),new objj_method(sel_getUid("setImageUrl:"),function(_11,_12,_13){
with(_11){
}
}),new objj_method(sel_getUid("imageUrl"),function(_14,_15){
with(_14){
return "Set Automagically";
}
}),new objj_method(sel_getUid("openSpecificPropertyWindow"),function(_16,_17){
with(_16){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyFacebookImageController,"alloc"),"initWithWindowCibName:pageElement:",FacebookImagePropertyWindowCIB,_16),"showWindow:",_16);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_18,_19,_1a){
with(_18){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_1a,_18);
}
})]);
p;24;app/models/fb_like_t_e.jt;1069;@STATIC;1.0;t;1050;
var _1=objj_allocateClassPair(ToolElement,"FbLikeTE"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateViewForDocument:"),function(_3,_4,_5){
with(_3){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_5,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setImageScaling:",CPScaleProportionally);
objj_msgSend(_mainView,"setHasShadow:",YES);
objj_msgSend(_5,"addSubview:",_mainView);
objj_msgSend(_mainView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"fblike"));
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_6,_7){
with(_6){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolFbLike");
}
}),new objj_method(sel_getUid("initialSize"),function(_8,_9){
with(_8){
return objj_msgSend(_8,"initialSizeFromJsonOrDefault:",CGSizeMake(200,50));
}
})]);
p;19;app/models/flickr.jt;5124;@STATIC;1.0;t;5105;
var _1=("http://www.flickr.com/services/rest/?method=%s&"+"format=json&api_key=%s&");
var _2=(_1+"page=%d&per_page=20&%s");
var _3=objj_allocateClassPair(PageElement,"Flickr"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_secret"),new objj_ivar("_farm"),new objj_ivar("_server"),new objj_ivar("_title")]);
objj_registerClassPair(_3);
class_addMethods(_3,[new objj_method(sel_getUid("initWithJSONObject:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("Flickr").super_class},"initWithJSONObject:",_7);
if(_5){
objj_msgSend(ImageElementProperties,"addToClassOfObject:",_5);
_secret=_json.secret;
_farm=_json.farm;
_server=_json.server;
_title=_json.title;
objj_msgSend(_5,"setRotationFromJson");
objj_msgSend(_5,"setImagePropertiesFromJson");
objj_msgSend(_5,"setDestUrlFromJson:",("http://flickr.com/photo.gne?id="+objj_msgSend(_5,"id_str")));
}
return _5;
}
}),new objj_method(sel_getUid("flickrUrlForSize:"),function(_8,_9,_a){
with(_8){
return ("http://farm"+_json.farm+".static.flickr.com/"+_json.server+"/"+_json.id+"_"+_json.secret+"_"+_a+".jpg");
}
}),new objj_method(sel_getUid("flickrThumbUrlForPhoto"),function(_b,_c){
with(_b){
return objj_msgSend(_b,"flickrUrlForSize:","m");
}
}),new objj_method(sel_getUid("flickrLargeUrlForPhoto"),function(_d,_e){
with(_d){
return objj_msgSend(_d,"flickrUrlForSize:","b");
}
}),new objj_method(sel_getUid("id_str"),function(_f,_10){
with(_f){
return _json.id;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_11,"generateViewForDocument:withUrl:",_13,objj_msgSend(_11,"flickrLargeUrlForPhoto"));
}
}),new objj_method(sel_getUid("setImageUrl:"),function(_14,_15,_16){
with(_14){
}
}),new objj_method(sel_getUid("imageUrl"),function(_17,_18){
with(_17){
return "Set Automagically";
}
}),new objj_method(sel_getUid("openSpecificPropertyWindow"),function(_19,_1a){
with(_19){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyFlickrImageController,"alloc"),"initWithWindowCibName:pageElement:",FlickrImagePropertyWindowCIB,_19),"showWindow:",_19);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_1b,_1c,_1d){
with(_1b){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_1d,_1b);
}
}),new objj_method(sel_getUid("searchUrl:pageNumber:delegate:selector:"),function(_1e,_1f,_20,_21,_22,_23){
with(_1e){
if(objj_msgSend(_20,"hasPrefix:","@")){
objj_msgSend(FlickrSearchUrlNotifierWorker,"workerWithUserName:pageNumber:delegate:selector:",objj_msgSend(_20,"substringFromIndex:",1),_21,_22,_23);
}else{
var _24="",_25="";
if(objj_msgSend(_20,"hasPrefix:","#")){
_20=objj_msgSend(objj_msgSend(_20,"stringByReplacingOccurrencesOfString:withString:"," ",","),"substringFromIndex:",1);
_24="flickr.photos.search";
_25=("tags="+encodeURIComponent(_20)+"&media=photos&machine_tag_mode=any");
}else{
if(objj_msgSend(_20,"hasPrefix:",".")){
_24="flickr.people.getPublicPhotos";
_25="user_id="+encodeURIComponent(objj_msgSend(_20,"substringFromIndex:",1));
}else{
_24="flickr.photos.search";
_25=("text="+encodeURIComponent(_20)+"&media=photos");
}
}
objj_msgSend(_22,"performSelector:withObject:",_23,objj_msgSend(CPString,"stringWithFormat:",_2,_24,objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"flickrApiKey"),_21,_25));
}
}
})]);
var _3=objj_allocateClassPair(CPObject,"FlickrSearchUrlNotifierWorker"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("m_delegate"),new objj_ivar("m_selector"),new objj_ivar("m_pageNumber")]);
objj_registerClassPair(_3);
class_addMethods(_3,[new objj_method(sel_getUid("initWithUserName:pageNumber:delegate:selector:"),function(_26,_27,_28,_29,_2a,_2b){
with(_26){
_26=objj_msgSendSuper({receiver:_26,super_class:objj_getClass("FlickrSearchUrlNotifierWorker").super_class},"init");
if(_26){
m_pageNumber=_29;
m_delegate=_2a;
m_selector=_2b;
objj_msgSend(_26,"obtainNsidForUsername:",_28);
}
return _26;
}
}),new objj_method(sel_getUid("obtainNsidForUsername:"),function(_2c,_2d,_2e){
with(_2c){
var _2f=(objj_msgSend(CPString,"stringWithFormat:",_1,"flickr.people.findByUsername",objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"flickrApiKey"))+"username="+encodeURIComponent(_2e));
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",_2f,_2c,sel_getUid("gotNsid:"),"jsoncallback");
}
}),new objj_method(sel_getUid("gotNsid:"),function(_30,_31,_32){
with(_30){
var _33=nil;
if(_32.user){
method="flickr.people.getPublicPhotos";
restOptions="user_id="+encodeURIComponent(_32.user.nsid);
_33=objj_msgSend(CPString,"stringWithFormat:",_2,method,objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"flickrApiKey"),m_pageNumber,restOptions);
}
objj_msgSend(m_delegate,"performSelector:withObject:",m_selector,_33);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("workerWithUserName:pageNumber:delegate:selector:"),function(_34,_35,_36,_37,_38,_39){
with(_34){
return objj_msgSend(objj_msgSend(FlickrSearchUrlNotifierWorker,"alloc"),"initWithUserName:pageNumber:delegate:selector:",_36,_37,_38,_39);
}
})]);
p;25;app/models/google_image.jt;2168;@STATIC;1.0;t;2149;
var _1=objj_allocateClassPair(PageElement,"GoogleImage"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_thumbnailUrl"),new objj_ivar("m_imageUrl")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("thumbnailImageUrl"),function(_3,_4){
with(_3){
return m_thumbnailUrl;
}
}),new objj_method(sel_getUid("imageUrl"),function(_5,_6){
with(_5){
return m_imageUrl;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_7,_8,_9){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("GoogleImage").super_class},"initWithJSONObject:",_9);
if(_7){
objj_msgSend(ImageElementProperties,"addToClassOfObject:",_7);
m_thumbnailUrl=_json.unescapedUrl;
m_imageUrl=_json.unescapedUrl;
objj_msgSend(_7,"setRotationFromJson");
objj_msgSend(_7,"setImagePropertiesFromJson");
objj_msgSend(_7,"setDestUrlFromJson:",_json.unescapedUrl);
}
return _7;
}
}),new objj_method(sel_getUid("id_str"),function(_a,_b){
with(_a){
return _json.imageId;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_c,_d,_e){
with(_c){
objj_msgSend(_c,"generateViewForDocument:withUrl:",_e,objj_msgSend(_c,"largeImageUrl"));
}
}),new objj_method(sel_getUid("setImageUrl:"),function(_f,_10,_11){
with(_f){
if(m_imageUrl==_11){
return;
}
m_imageUrl=_11;
objj_msgSend(_f,"updateMainViewWithNewImageUrl:",m_imageUrl);
}
}),new objj_method(sel_getUid("largeImageUrl"),function(_12,_13){
with(_12){
return m_imageUrl;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_14,_15,_16){
with(_14){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_16,_14);
}
}),new objj_method(sel_getUid("searchUrlFor:"),function(_17,_18,_19){
with(_17){
return ("http://ajax.googleapis.com/ajax/services/search/images?v=1.0&rsz=8&q="+encodeURIComponent(_19));
}
}),new objj_method(sel_getUid("searchUrlNextPage:searchTerm:"),function(_1a,_1b,_1c,_1d){
with(_1a){
var _1e=_1c.pages;
if(_1e){
var _1f=_1e[_1c.currentPageIndex+1];
if(_1f){
return ("http://ajax.googleapis.com/ajax/services/search/images?v=1.0&rsz=8&q="+encodeURIComponent(_1d)+"&start="+_1f.start);
}
}
return nil;
}
})]);
p;26;app/models/highlight_t_e.jt;6019;@STATIC;1.0;t;6000;
var _1=objj_allocateClassPair(ToolElement,"HighlightTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_link_url"),new objj_ivar("m_is_clickable"),new objj_ivar("m_show_as_border"),new objj_ivar("m_border_width"),new objj_ivar("m_corner_top_left"),new objj_ivar("m_corner_top_right"),new objj_ivar("m_corner_bottom_left"),new objj_ivar("m_corner_bottom_right")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("linkUrl"),function(_3,_4){
with(_3){
return m_link_url;
}
}),new objj_method(sel_getUid("setLinkUrl:"),function(_5,_6,_7){
with(_5){
m_link_url=_7;
}
}),new objj_method(sel_getUid("clickable"),function(_8,_9){
with(_8){
return m_is_clickable;
}
}),new objj_method(sel_getUid("setClickable:"),function(_a,_b,_c){
with(_a){
m_is_clickable=_c;
}
}),new objj_method(sel_getUid("showAsBorder"),function(_d,_e){
with(_d){
return m_show_as_border;
}
}),new objj_method(sel_getUid("setShowAsBorder:"),function(_f,_10,_11){
with(_f){
m_show_as_border=_11;
}
}),new objj_method(sel_getUid("borderWidth"),function(_12,_13){
with(_12){
return m_border_width;
}
}),new objj_method(sel_getUid("setBorderWidth:"),function(_14,_15,_16){
with(_14){
m_border_width=_16;
}
}),new objj_method(sel_getUid("cornerTopLeft"),function(_17,_18){
with(_17){
return m_corner_top_left;
}
}),new objj_method(sel_getUid("setCornerTopLeft:"),function(_19,_1a,_1b){
with(_19){
m_corner_top_left=_1b;
}
}),new objj_method(sel_getUid("cornerTopRight"),function(_1c,_1d){
with(_1c){
return m_corner_top_right;
}
}),new objj_method(sel_getUid("setCornerTopRight:"),function(_1e,_1f,_20){
with(_1e){
m_corner_top_right=_20;
}
}),new objj_method(sel_getUid("cornerBottomLeft"),function(_21,_22){
with(_21){
return m_corner_bottom_left;
}
}),new objj_method(sel_getUid("setCornerBottomLeft:"),function(_23,_24,_25){
with(_23){
m_corner_bottom_left=_25;
}
}),new objj_method(sel_getUid("cornerBottomRight"),function(_26,_27){
with(_26){
return m_corner_bottom_right;
}
}),new objj_method(sel_getUid("setCornerBottomRight:"),function(_28,_29,_2a){
with(_28){
m_corner_bottom_right=_2a;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_2b,_2c,_2d){
with(_2b){
_2b=objj_msgSendSuper({receiver:_2b,super_class:objj_getClass("HighlightTE").super_class},"initWithJSONObject:",_2d);
if(_2b){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_2b);
objj_msgSend(PageElementRotationSupport,"addToClassOfObject:",_2b);
objj_msgSend(_2b,"setColorFromJson");
initialSize=objj_msgSend(_2b,"initialSizeFromJsonOrDefault:",CGSizeMake(150,35));
m_link_url=check_for_undefined(_json.link_url,"");
m_is_clickable=objj_msgSend(check_for_undefined(_json.clickable,"0"),"intValue");
m_show_as_border=objj_msgSend(check_for_undefined(_json.show_as_border,"0"),"intValue");
m_border_width=objj_msgSend(check_for_undefined(_json.border_width,"3"),"intValue");
m_corner_top_left=objj_msgSend(check_for_undefined(_json.corner_top_left,"0"),"intValue");
m_corner_top_right=objj_msgSend(check_for_undefined(_json.corner_top_right,"0"),"intValue");
m_corner_bottom_left=objj_msgSend(check_for_undefined(_json.corner_bottom_left,"0"),"intValue");
m_corner_bottom_right=objj_msgSend(check_for_undefined(_json.corner_bottom_right,"0"),"intValue");
objj_msgSend(_2b,"setRotationFromJson");
m_color=objj_msgSend(_2b,"createColor");
}
return _2b;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_2e,_2f,_30){
with(_2e){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(PMHighlightView,"alloc"),"initWithFrame:highlightElement:",CGRectMakeCopy(objj_msgSend(_30,"bounds")),_2e);
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setRotationDegrees:",objj_msgSend(_2e,"rotation"));
objj_msgSend(_mainView,"setVerticalFlip:",objj_msgSend(_2e,"verticalFlip"));
objj_msgSend(_30,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_31,_32){
with(_31){
if(is_undefined(_json.image)){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolHighlight");
}else{
return objj_msgSend(PlaceholderManager,"imageFor:",_json.image);
}
}
}),new objj_method(sel_getUid("hasRoundedCorners"),function(_33,_34){
with(_33){
return (m_corner_top_left>0||m_corner_top_right>0||m_corner_bottom_left>0||m_corner_bottom_right>0);
}
})]);
var _1=objj_getClass("HighlightTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"HighlightTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_35,_36){
with(_35){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_37,_38){
with(_37){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyHighlightTEController,"alloc"),"initWithWindowCibName:pageElement:",HighlightTEPropertyWindowCIB,_37),"showWindow:",_37);
}
}),new objj_method(sel_getUid("redisplay"),function(_39,_3a){
with(_39){
objj_msgSend(_mainView,"redisplay");
}
})]);
var _1=objj_getClass("HighlightTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"HighlightTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_3b,_3c){
with(_3b){
return objj_msgSend(objj_msgSend(_3b,"rotationSupportStateHandlers"),"arrayByAddingObjectsFromArray:",[sel_getUid("cornerTopLeft"),sel_getUid("setCornerTopLeft:"),sel_getUid("cornerTopRight"),sel_getUid("setCornerTopRight:"),sel_getUid("cornerBottomLeft"),sel_getUid("setCornerBottomLeft:"),sel_getUid("cornerBottomRight"),sel_getUid("setCornerBottomRight:"),sel_getUid("getColor"),sel_getUid("setColor:"),sel_getUid("borderWidth"),sel_getUid("setBorderWidth:"),sel_getUid("clickable"),sel_getUid("setClickable:"),sel_getUid("showAsBorder"),sel_getUid("setShowAsBorder:"),sel_getUid("linkUrl"),sel_getUid("setLinkUrl:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_3d,_3e){
with(_3d){
objj_msgSend(_mainView,"redisplay");
}
})]);
p;22;app/models/image_t_e.jt;2223;@STATIC;1.0;t;2204;
var _1=objj_allocateClassPair(ToolElement,"ImageTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_urlString"),new objj_ivar("mtmp_container")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("imageUrl"),function(_3,_4){
with(_3){
return m_urlString;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("ImageTE").super_class},"initWithJSONObject:",_7);
if(_5){
objj_msgSend(ImageElementProperties,"addToClassOfObject:",_5);
objj_msgSend(PageElementInputSupport,"addToClassOfObject:",_5);
m_urlString=_json.pic_url;
objj_msgSend(_5,"setRotationFromJson");
objj_msgSend(_5,"setImagePropertiesFromJson");
}
return _5;
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_8,_9,_a){
with(_8){
if(!(m_urlString===_a)){
m_urlString=_a;
m_destUrl=_a;
objj_msgSend(_8,"updateServer");
objj_msgSend(_8,"generateViewForDocument:withUrl:",mtmp_container,m_urlString);
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_b,_c,_d){
with(_b){
mtmp_container=_d;
if(!m_urlString){
m_urlString=objj_msgSend(_b,"obtainInput:defaultValue:",("Enter the URL of the image, e.g. http:"+"//www.google.com/images/logos/ps_logo2.png"),objj_msgSend(PlaceholderManager,"placeholderImageUrl"));
m_destUrl=m_urlString;
}
objj_msgSend(_b,"generateViewForDocument:withUrl:",_d,m_urlString);
}
}),new objj_method(sel_getUid("initialSize"),function(_e,_f){
with(_e){
return objj_msgSend(_e,"initialSizeFromJsonOrDefault:",CGSizeMake(150,150));
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_10,_11){
with(_10){
if(is_defined(_json.tool_image)){
return objj_msgSend(PlaceholderManager,"imageFor:",_json.tool_image);
}else{
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolImage");
}
}
})]);
var _1=objj_getClass("ImageTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"ImageTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("setImageUrl:"),function(_12,_13,_14){
with(_12){
if(m_urlString!=_14){
m_urlString=_14;
objj_msgSend(_12,"updateMainViewWithNewImageUrl:",m_urlString);
}
}
})]);
p;21;app/models/link_t_e.jt;3691;@STATIC;1.0;t;3672;
var _1=objj_allocateClassPair(ToolElement,"LinkTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_urlString"),new objj_ivar("m_linkTitle")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("textTyped"),function(_3,_4){
with(_3){
return m_linkTitle;
}
}),new objj_method(sel_getUid("setTextTyped:"),function(_5,_6,_7){
with(_5){
m_linkTitle=_7;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_8,_9,_a){
with(_8){
_8=objj_msgSendSuper({receiver:_8,super_class:objj_getClass("LinkTE").super_class},"initWithJSONObject:",_a);
if(_8){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_8);
objj_msgSend(PageElementFontSupport,"addToClassOfObject:",_8);
objj_msgSend(PageElementInputSupport,"addToClassOfObject:",_8);
objj_msgSend(PageElementTextInputSupport,"addToClassOfObject:",_8);
m_urlString=_json.url;
m_linkTitle=_json.title;
objj_msgSend(_8,"setColorFromJson");
objj_msgSend(_8,"setFontFromJson");
}
return _8;
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_b,_c,_d){
with(_b){
if(!(m_urlString===_d)){
m_urlString=_d;
m_linkTitle=_d;
objj_msgSend(_b,"updateServer");
objj_msgSend(_mainView,"setStringValue:",m_linkTitle);
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_e,_f,_10){
with(_e){
if(!m_urlString){
m_urlString=objj_msgSend(_e,"obtainInput:defaultValue:","Please enter link:","http://bit.ly");
m_linkTitle=m_urlString;
}
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
objj_msgSend(_e,"_setFont");
objj_msgSend(_e,"setupMainViewAddTo:",_10);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_11,_12){
with(_11){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolLink");
}
}),new objj_method(sel_getUid("initialSize"),function(_13,_14){
with(_13){
return objj_msgSend(_13,"initialSizeFromJsonOrDefault:",CGSizeMake(150,33.5));
}
})]);
var _1=objj_getClass("LinkTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"LinkTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_15,_16){
with(_15){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_17,_18){
with(_17){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyLinkTEController,"alloc"),"initWithWindowCibName:pageElement:",LinkTEPropertyWindowCIB,_17),"showWindow:",_17);
}
}),new objj_method(sel_getUid("setLinkColor:"),function(_19,_1a,_1b){
with(_19){
objj_msgSend(_19,"setColor:",_1b);
objj_msgSend(_mainView,"setTextColor:",_1b);
}
}),new objj_method(sel_getUid("setLinkTitle:"),function(_1c,_1d,_1e){
with(_1c){
m_linkTitle=_1e;
objj_msgSend(_mainView,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%s",m_linkTitle));
}
}),new objj_method(sel_getUid("setLinkDestination:"),function(_1f,_20,_21){
with(_1f){
m_urlString=_21;
}
}),new objj_method(sel_getUid("getDestination"),function(_22,_23){
with(_22){
return m_urlString;
}
}),new objj_method(sel_getUid("getLinkTitle"),function(_24,_25){
with(_24){
return m_linkTitle;
}
})]);
var _1=objj_getClass("LinkTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"LinkTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_26,_27){
with(_26){
return objj_msgSend(objj_msgSend(objj_msgSend(_26,"fontSupportStateHandlers"),"arrayByAddingObjectsFromArray:",objj_msgSend(_26,"colorSupportStateHandlers")),"arrayByAddingObjectsFromArray:",[sel_getUid("textTyped"),sel_getUid("setTextTyped:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_28,_29){
with(_28){
objj_msgSend(_28,"revertTextAttributes");
}
})]);
p;17;app/models/page.jt;3339;@STATIC;1.0;t;3320;
var _1=objj_allocateClassPair(CPObject,"Page"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_json"),new objj_ivar("m_name"),new objj_ivar("m_pageIdx"),new objj_ivar("m_number"),new objj_ivar("m_size"),new objj_ivar("m_orientation")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("name"),function(_3,_4){
with(_3){
return m_name;
}
}),new objj_method(sel_getUid("setName:"),function(_5,_6,_7){
with(_5){
m_name=_7;
}
}),new objj_method(sel_getUid("pageIdx"),function(_8,_9){
with(_8){
return m_pageIdx;
}
}),new objj_method(sel_getUid("setPageIdx:"),function(_a,_b,_c){
with(_a){
m_pageIdx=_c;
}
}),new objj_method(sel_getUid("number"),function(_d,_e){
with(_d){
return m_number;
}
}),new objj_method(sel_getUid("setNumber:"),function(_f,_10,_11){
with(_f){
m_number=_11;
}
}),new objj_method(sel_getUid("size"),function(_12,_13){
with(_12){
return m_size;
}
}),new objj_method(sel_getUid("setSize:"),function(_14,_15,_16){
with(_14){
m_size=_16;
}
}),new objj_method(sel_getUid("orientation"),function(_17,_18){
with(_17){
return m_orientation;
}
}),new objj_method(sel_getUid("setOrientation:"),function(_19,_1a,_1b){
with(_19){
m_orientation=_1b;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_1c,_1d,_1e){
with(_1c){
_1c=objj_msgSendSuper({receiver:_1c,super_class:objj_getClass("Page").super_class},"init");
if(_1c){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_1c);
objj_msgSend(ObjectStateSupport,"addToClassOfObject:",_1c);
_json=_1e.page;
m_number=_json.number;
m_name=_json.name;
m_pageIdx=_json.id;
m_size=_json.size;
m_orientation=_json.orientation;
objj_msgSend(_1c,"setColorFromJson");
}
return _1c;
}
}),new objj_method(sel_getUid("isLetter"),function(_1f,_20){
with(_1f){
return (m_size=="letter");
}
}),new objj_method(sel_getUid("isLandscape"),function(_21,_22){
with(_21){
return (m_orientation=="landscape");
}
}),new objj_method(sel_getUid("updateServer"),function(_23,_24){
with(_23){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"updatePage:",_23);
}
}),new objj_method(sel_getUid("getFrameSize"),function(_25,_26){
with(_25){
var _27;
if(objj_msgSend(_25,"isLetter")){
_27=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"getLetterSize");
}else{
_27=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"getA4Size");
}
if(objj_msgSend(_25,"isLandscape")){
_27=CGSizeMake(_27.height,_27.width);
}
return _27;
}
}),new objj_method(sel_getUid("requestCompleted:"),function(_28,_29,_2a){
with(_28){
switch(_2a.action){
case "pages_update":
if(_2a.status=="ok"){
}
break;
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_2b,_2c,_2d){
with(_2b){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_2d,_2b);
}
})]);
var _1=objj_getClass("Page");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"Page\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_2e,_2f){
with(_2e){
return [sel_getUid("name"),sel_getUid("setName:"),sel_getUid("size"),sel_getUid("setSize:"),sel_getUid("orientation"),sel_getUid("setOrientation:"),sel_getUid("getColor"),sel_getUid("setColor:")];
}
}),new objj_method(sel_getUid("postStateRestore"),function(_30,_31){
with(_30){
}
})]);
p;25;app/models/page_element.jt;5974;@STATIC;1.0;t;5955;
var _1=objj_allocateClassPair(CPObject,"PageElement"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_mainView"),new objj_ivar("_json"),new objj_ivar("x"),new objj_ivar("y"),new objj_ivar("width"),new objj_ivar("height"),new objj_ivar("page_element_id"),new objj_ivar("z_index"),new objj_ivar("idStr"),new objj_ivar("initialSize")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("zIndex"),function(_3,_4){
with(_3){
return z_index;
}
}),new objj_method(sel_getUid("setZIndex:"),function(_5,_6,_7){
with(_5){
z_index=_7;
}
}),new objj_method(sel_getUid("idStr"),function(_8,_9){
with(_8){
return idStr;
}
}),new objj_method(sel_getUid("setIdStr:"),function(_a,_b,_c){
with(_a){
idStr=_c;
}
}),new objj_method(sel_getUid("initialSize"),function(_d,_e){
with(_d){
return initialSize;
}
}),new objj_method(sel_getUid("setInitialSize:"),function(_f,_10,_11){
with(_f){
initialSize=_11;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_12,_13,_14){
with(_12){
_12=objj_msgSendSuper({receiver:_12,super_class:objj_getClass("PageElement").super_class},"init");
if(_12){
objj_msgSend(PageElementSizeSupport,"addToClass:",objj_msgSend(_12,"class"));
objj_msgSend(ObjectStateSupport,"addToClass:",objj_msgSend(_12,"class"));
_json=_14;
initialSize=CGSizeMake(150,150);
idStr=objj_msgSend(_12,"id_str");
}
return _12;
}
}),new objj_method(sel_getUid("cloneForDrop"),function(_15,_16){
with(_15){
var _17=objj_msgSend(objj_msgSend(objj_msgSend(_15,"class"),"alloc"),"initWithJSONObject:",_json);
objj_msgSend(_17,"cloneForDropFromObj:",_15);
return _17;
}
}),new objj_method(sel_getUid("cloneForDropFromObj:"),function(_18,_19,obj){
with(_18){
}
}),new objj_method(sel_getUid("compareZ:"),function(_1a,_1b,_1c){
with(_1a){
if(z_index<_1c.z_index){
return CPOrderedDescending;
}else{
if(z_index==_1c.z_index){
return CPOrderedSame;
}else{
return CPOrderedAscending;
}
}
}
}),new objj_method(sel_getUid("pageElementId"),function(_1d,_1e){
with(_1d){
return page_element_id;
}
}),new objj_method(sel_getUid("id_str"),function(_1f,_20){
with(_1f){
return nil;
}
}),new objj_method(sel_getUid("removeFromSuperview"),function(_21,_22){
with(_21){
objj_msgSend(_mainView,"removeFromSuperview");
}
}),new objj_method(sel_getUid("addToServer"),function(_23,_24){
with(_23){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"addElement:",_23);
}
}),new objj_method(sel_getUid("updateServer"),function(_25,_26){
with(_25){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"updateElement:",_25);
}
}),new objj_method(sel_getUid("sendResizeToServer"),function(_27,_28){
with(_27){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"resizeElement:",_27);
}
}),new objj_method(sel_getUid("removeFromServer"),function(_29,_2a){
with(_29){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"deleteElement:",_29);
}
}),new objj_method(sel_getUid("havePageElementIdDoAnyUpdate"),function(_2b,_2c){
with(_2b){
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_2d,_2e,_2f){
with(_2d){
}
}),new objj_method(sel_getUid("requestCompleted:"),function(_30,_31,_32){
with(_30){
switch(_32.action){
case "page_elements_copy":
_32.copy._json.width=_32.copy.width;
_32.copy._json.height=_32.copy.height;
var _33=objj_msgSend(PageElement,"createObjectsFromServerJson:",[_32.copy]);
objj_msgSend(_33[0],"setInitialSize:",CGSizeMake(width,height));
var _34=objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"addObjectsToView:atLocation:",_33,objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"currentMidPoint"));
objj_msgSend(_33[0],"sendResizeToServer");
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",_34[0]);
break;
case "page_elements_create":
if(_32.status=="ok"){
page_element_id=_32.page_element_id;
objj_msgSend(_30,"havePageElementIdDoAnyUpdate");
}
CPLogConsole(objj_msgSend(_30,"pageElementId"),"create action: "+_32.status,"[PM DATA SRC]");
break;
case "page_elements_resize":
CPLogConsole(_32.status,"resize action","[PM DATA SRC]");
break;
case "page_elements_update":
CPLogConsole(_32.status,"update action","[PM DATA SRC]");
break;
case "page_elements_destroy":
CPLogConsole(_32.status,"delete action","[PM DATA SRC]");
if(_32.status=="ok"){
objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"removeObject:",_30);
}
break;
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("generateObjectsFromJson:forClass:"),function(_35,_36,_37,_38){
with(_35){
var _39=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init"),idx=_37.length;
while(idx--){
objj_msgSend(_39,"insertObject:atIndex:",objj_msgSend(objj_msgSend(_38,"alloc"),"initWithJSONObject:",_37[idx]),0);
}
return _39;
}
}),new objj_method(sel_getUid("createObjectsFromServerJson:"),function(_3a,_3b,_3c){
with(_3a){
var _3d=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init"),idx=_3c.length;
while(idx--){
var _3e=_3c[idx];
var _3f=objj_msgSend(objj_msgSend(CPClassFromString(_3e._type),"alloc"),"initWithJSONObject:",_3e._json);
_3f.x=_3e.x;
_3f.y=_3e.y;
_3f.width=_3e.width;
_3f.height=_3e.height;
_3f.z_index=_3e.z_index;
_3f.page_element_id=_3e.id;
objj_msgSend(_3d,"insertObject:atIndex:",_3f,0);
}
return _3d;
}
})]);
var _1=objj_getClass("PageElement");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"PageElement\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_40,_41){
with(_40){
return NO;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_42,_43){
with(_42){
}
})]);
var _1=objj_getClass("PageElement");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"PageElement\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_44,_45){
with(_44){
return [];
}
}),new objj_method(sel_getUid("postStateRestore"),function(_46,_47){
with(_46){
}
})]);
p;31;app/models/pay_pal_button_t_e.jt;4428;@STATIC;1.0;t;4409;
var _1=objj_allocateClassPair(ToolElement,"PayPalButtonTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_email"),new objj_ivar("m_currency"),new objj_ivar("m_image_size"),new objj_ivar("m_locale")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("recipient"),function(_3,_4){
with(_3){
return m_email;
}
}),new objj_method(sel_getUid("setRecipient:"),function(_5,_6,_7){
with(_5){
m_email=_7;
}
}),new objj_method(sel_getUid("currency"),function(_8,_9){
with(_8){
return m_currency;
}
}),new objj_method(sel_getUid("setCurrency:"),function(_a,_b,_c){
with(_a){
m_currency=_c;
}
}),new objj_method(sel_getUid("imageSize"),function(_d,_e){
with(_d){
return m_image_size;
}
}),new objj_method(sel_getUid("setImageSize:"),function(_f,_10,_11){
with(_f){
m_image_size=_11;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_12,_13,_14){
with(_12){
_12=objj_msgSendSuper({receiver:_12,super_class:objj_getClass("PayPalButtonTE").super_class},"initWithJSONObject:",_14);
if(_12){
objj_msgSend(PageElementInputSupport,"addToClass:",objj_msgSend(_12,"class"));
m_email=_json.email;
m_currency=(typeof (_json.currency)=="undefined"?"USD":_json.currency);
m_locale=(typeof (_json.locale)=="undefined"?"en_US":_json.locale);
m_image_size=(typeof (_json.image_size)=="undefined"?"small":_json.image_size);
}
return _12;
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_15,_16,_17){
with(_15){
if(!(m_email===_17)){
m_email=_17;
objj_msgSend(_15,"updateServer");
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_18,_19,_1a){
with(_18){
if(!m_email){
m_email=objj_msgSend(_18,"obtainInput:defaultValue:",("Enter recipient email, does not need to "+"have an PayPal account:"),"riessen@open-source-consultants.de");
}
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_1a,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setImageScaling:",CPScaleProportionally);
objj_msgSend(_mainView,"setHasShadow:",NO);
objj_msgSend(_mainView,"setImage:",objj_msgSend(_18,"getImageForSize"));
objj_msgSend(_1a,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("getImageForSize"),function(_1b,_1c){
with(_1b){
var _1d=nil;
switch(objj_msgSend(_1b,"imageSize")){
case "small":
_1d=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"payPalButton");
break;
case "large":
_1d=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"payPalButtonLargeNoCC");
break;
case "large_with_cc":
_1d=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"payPalButtonLarge");
break;
}
return _1d;
}
}),new objj_method(sel_getUid("setImageSize:"),function(_1e,_1f,_20){
with(_1e){
m_image_size=_20;
var _21=objj_msgSend(_1e,"getImageForSize");
if(_21){
objj_msgSend(_mainView,"setImage:",_21);
objj_msgSend(_1e,"setFrameSize:",objj_msgSend(_21,"size"));
objj_msgSend(_1e,"sendResizeToServer");
}
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_22,_23){
with(_22){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolPayPalButton");
}
}),new objj_method(sel_getUid("initialSize"),function(_24,_25){
with(_24){
return objj_msgSend(objj_msgSend(_24,"getImageForSize"),"size");
}
})]);
var _1=objj_getClass("PayPalButtonTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"PayPalButtonTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_26,_27){
with(_26){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_28,_29){
with(_28){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyPayPalButtonController,"alloc"),"initWithWindowCibName:pageElement:",PayPalButtonPropertyWindowCIB,_28),"showWindow:",_28);
}
})]);
var _1=objj_getClass("PayPalButtonTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"PayPalButtonTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_2a,_2b){
with(_2a){
return [sel_getUid("recipient"),sel_getUid("setRecipient:"),sel_getUid("imageSize"),sel_getUid("setImageSize:"),sel_getUid("currency"),sel_getUid("setCurrency:")];
}
}),new objj_method(sel_getUid("postStateRestore"),function(_2c,_2d){
with(_2c){
}
})]);
p;23;app/models/pub_config.jt;4078;@STATIC;1.0;t;4059;
var _1=objj_allocateClassPair(CPObject,"PubConfig"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_json"),new objj_ivar("m_continous"),new objj_ivar("m_has_shadow"),new objj_ivar("m_page_bg_view"),new objj_ivar("m_name"),new objj_ivar("m_snap_grid_width"),new objj_ivar("m_show_tool_tips")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("continous"),function(_3,_4){
with(_3){
return m_continous;
}
}),new objj_method(sel_getUid("setContinous:"),function(_5,_6,_7){
with(_5){
m_continous=_7;
}
}),new objj_method(sel_getUid("shadow"),function(_8,_9){
with(_8){
return m_has_shadow;
}
}),new objj_method(sel_getUid("setShadow:"),function(_a,_b,_c){
with(_a){
m_has_shadow=_c;
}
}),new objj_method(sel_getUid("pubBgView"),function(_d,_e){
with(_d){
return m_page_bg_view;
}
}),new objj_method(sel_getUid("setPubBgView:"),function(_f,_10,_11){
with(_f){
m_page_bg_view=_11;
}
}),new objj_method(sel_getUid("pubName"),function(_12,_13){
with(_12){
return m_name;
}
}),new objj_method(sel_getUid("setPubName:"),function(_14,_15,_16){
with(_14){
m_name=_16;
}
}),new objj_method(sel_getUid("snapGridWidth"),function(_17,_18){
with(_17){
return m_snap_grid_width;
}
}),new objj_method(sel_getUid("showToolTips"),function(_19,_1a){
with(_19){
return m_show_tool_tips;
}
}),new objj_method(sel_getUid("setShowToolTips:"),function(_1b,_1c,_1d){
with(_1b){
m_show_tool_tips=_1d;
}
}),new objj_method(sel_getUid("init"),function(_1e,_1f){
with(_1e){
_1e=objj_msgSendSuper({receiver:_1e,super_class:objj_getClass("PubConfig").super_class},"init");
if(_1e){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_1e);
objj_msgSend(ObjectStateSupport,"addToClassOfObject:",_1e);
m_continous="0";
m_has_shadow="1";
m_snap_grid_width="0";
m_page_bg_view=nil;
m_name="";
m_show_tool_tips=YES;
}
return _1e;
}
}),new objj_method(sel_getUid("setBgColor:"),function(_20,_21,_22){
with(_20){
objj_msgSend(_20,"setColor:",_22);
if(m_page_bg_view){
objj_msgSend(m_page_bg_view,"setBackgroundColor:",_22);
}
}
}),new objj_method(sel_getUid("setSnapGridWidth:"),function(_23,_24,_25){
with(_23){
m_snap_grid_width=_25;
if(m_snap_grid_width>0){
objj_msgSend(DocumentViewCellWithSnapgrid,"addToClass:",DocumentViewCell);
}else{
objj_msgSend(DocumentViewCellWithoutSnapgrid,"addToClass:",DocumentViewCell);
}
}
}),new objj_method(sel_getUid("setShadow:"),function(_26,_27,_28){
with(_26){
m_has_shadow=_28;
var _29=objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"shadowView");
if(_29){
objj_msgSend(_29,"setHidden:",!objj_msgSend(_26,"hasShadow"));
}
}
}),new objj_method(sel_getUid("isContinous"),function(_2a,_2b){
with(_2a){
return (objj_msgSend(m_continous,"intValue")==1);
}
}),new objj_method(sel_getUid("hasShadow"),function(_2c,_2d){
with(_2c){
return (objj_msgSend(m_has_shadow,"intValue")==1);
}
}),new objj_method(sel_getUid("setConfig:"),function(_2e,_2f,_30){
with(_2e){
_json=_30.color;
objj_msgSend(_2e,"setColorFromJson");
m_continous=_30.continous;
m_name=_30.name;
objj_msgSend(_2e,"setSnapGridWidth:",objj_msgSend(_30.snap_grid_width,"intValue"));
objj_msgSend(_2e,"setShadow:",_30.shadow);
objj_msgSend(_2e,"setBgColor:",objj_msgSend(_2e,"getColor"));
}
}),new objj_method(sel_getUid("requestCompleted:"),function(_31,_32,_33){
with(_31){
switch(_33.action){
case "publications_update":
if(_33.status=="ok"){
objj_msgSend(_31,"setConfig:",_33.data);
}
}
}
})]);
var _1=objj_getClass("PubConfig");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"PubConfig\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_34,_35){
with(_34){
return [sel_getUid("continous"),sel_getUid("setContinous:"),sel_getUid("shadow"),sel_getUid("setShadow:"),sel_getUid("pubName"),sel_getUid("setPubName:"),sel_getUid("getColor"),sel_getUid("setBgColor:"),sel_getUid("snapGridWidth"),sel_getUid("setSnapGridWidth:"),sel_getUid("showToolTips"),sel_getUid("setShowToolTips:")];
}
}),new objj_method(sel_getUid("postStateRestore"),function(_36,_37){
with(_36){
}
})]);
p;21;app/models/text_t_e.jt;2664;@STATIC;1.0;t;2645;
var _1=objj_allocateClassPair(ToolElement,"TextTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_textTyped")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("textTyped"),function(_3,_4){
with(_3){
return _textTyped;
}
}),new objj_method(sel_getUid("setTextTyped:"),function(_5,_6,_7){
with(_5){
_textTyped=_7;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_8,_9,_a){
with(_8){
_8=objj_msgSendSuper({receiver:_8,super_class:objj_getClass("TextTE").super_class},"initWithJSONObject:",_a);
if(_8){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_8);
objj_msgSend(PageElementFontSupport,"addToClassOfObject:",_8);
objj_msgSend(PageElementTextInputSupport,"addToClassOfObject:",_8);
_textTyped=_json.text;
objj_msgSend(_8,"setFontFromJson");
objj_msgSend(_8,"setColorFromJson");
}
return _8;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_b,_c,_d){
with(_b){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
objj_msgSend(_b,"_setFont");
objj_msgSend(_b,"setupMainViewAddTo:",_d);
if(_textTyped){
objj_msgSend(_mainView,"setStringValue:",_textTyped);
}else{
objj_msgSend(_mainView,"setStringValue:","Type Text Here");
}
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_e,_f){
with(_e){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolText");
}
})]);
var _1=objj_getClass("TextTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"TextTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_10,_11){
with(_10){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_12,_13){
with(_12){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyTextTEController,"alloc"),"initWithWindowCibName:pageElement:",TextTEPropertyWindowCIB,_12),"showWindow:",_12);
}
}),new objj_method(sel_getUid("setTextColor:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_14,"setColor:",_16);
objj_msgSend(_mainView,"setTextColor:",_16);
}
})]);
var _1=objj_getClass("TextTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"TextTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_17,_18){
with(_17){
return objj_msgSend(objj_msgSend(objj_msgSend(_17,"fontSupportStateHandlers"),"arrayByAddingObjectsFromArray:",objj_msgSend(_17,"colorSupportStateHandlers")),"arrayByAddingObjectsFromArray:",[sel_getUid("textTyped"),sel_getUid("setTextTyped:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_19,_1a){
with(_19){
objj_msgSend(_19,"revertTextAttributes");
}
})]);
p;25;app/models/tool_element.jt;1529;@STATIC;1.0;t;1510;
var _1=objj_allocateClassPair(PageElement,"ToolElement"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithJSONObject:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("ToolElement").super_class},"initWithJSONObject:",_5);
if(_3){
}
return _3;
}
}),new objj_method(sel_getUid("name"),function(_6,_7){
with(_6){
return _json.name;
}
}),new objj_method(sel_getUid("id_str"),function(_8,_9){
with(_8){
return _json.id;
}
}),new objj_method(sel_getUid("toolTip"),function(_a,_b){
with(_a){
return _json.tool_tip;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_c,_d,_e){
with(_c){
objj_msgSend(AlertUserHelper,"withTodo:","This tool is still being built");
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_f,_10){
with(_f){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolUnknown");
}
}),new objj_method(sel_getUid("initialSizeFromJsonOrDefault:"),function(_11,_12,_13){
with(_11){
if(is_defined(_json.width)&&is_defined(_json.height)){
return CGSizeMake(objj_msgSend(_json.width,"doubleValue"),objj_msgSend(_json.height,"doubleValue"));
}else{
return _13;
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_14,_15,_16){
with(_14){
var _17=[];
var idx=_16.length;
while(idx--){
var _18=CPClassFromString(_16[idx].klazz);
_17.push(objj_msgSend(objj_msgSend(_18,"alloc"),"initWithJSONObject:",_16[idx]));
}
return _17;
}
})]);
p;18;app/models/tweet.jt;5349;@STATIC;1.0;t;5330;
TweetObjForRequest=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");
var _1=objj_allocateClassPair(PageElement,"Tweet"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_quoteImage"),new objj_ivar("_quoteView"),new objj_ivar("_textView"),new objj_ivar("_refView"),new objj_ivar("_fromUser"),new objj_ivar("_text"),new objj_ivar("m_profileImageUrl")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithJSONObject:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("Tweet").super_class},"initWithJSONObject:",_5);
if(_3){
objj_msgSend(_3,"initializeFromJson");
}
return _3;
}
}),new objj_method(sel_getUid("initializeFromJson"),function(_6,_7){
with(_6){
_fromUser=_json.from_user;
_text=_json.text;
m_profileImageUrl=_json.profile_image_url;
}
}),new objj_method(sel_getUid("id_str"),function(_8,_9){
with(_8){
return _json.id_str;
}
}),new objj_method(sel_getUid("fromUser"),function(_a,_b){
with(_a){
return _fromUser;
}
}),new objj_method(sel_getUid("text"),function(_c,_d){
with(_c){
return _text;
}
}),new objj_method(sel_getUid("profileImageUrl"),function(_e,_f){
with(_e){
return m_profileImageUrl;
}
}),new objj_method(sel_getUid("createdAt"),function(_10,_11){
with(_10){
return _json.created_at;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_12,_13,_14){
with(_12){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_quoteView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,48,48));
objj_msgSend(_quoteView,"setHasShadow:",NO);
if(m_profileImageUrl&&m_profileImageUrl!="undefined"){
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:tempImage:",m_profileImageUrl,_quoteView,objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"quotes"));
}
_textView=objj_msgSend(objj_msgSend(LPMultiLineTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_14,"bounds"),4,4));
objj_msgSend(_textView,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(_textView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_textView,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_textView,"setScrollable:",YES);
objj_msgSend(_textView,"setSelectable:",YES);
_refView=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_14,"bounds"),4,4));
objj_msgSend(_refView,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",10));
objj_msgSend(_refView,"setTextColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(_refView,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
_mainView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_14,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"addSubview:",_quoteView);
objj_msgSend(_mainView,"addSubview:",_textView);
objj_msgSend(_mainView,"addSubview:",_refView);
objj_msgSend(_quoteView,"setFrameOrigin:",CGPointMake(0,0));
objj_msgSend(_refView,"setFrameOrigin:",CGPointMake(50,0));
objj_msgSend(_textView,"setFrameOrigin:",CGPointMake(0,48));
objj_msgSend(_14,"addSubview:",_mainView);
objj_msgSend(_textView,"setStringValue:",objj_msgSend(_12,"text"));
objj_msgSend(_refView,"setStringValue:",objj_msgSend(_12,"fromUser"));
objj_msgSend(_mainView,"setFrameOrigin:",CGPointMake(5,5));
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_15,_16,_17){
with(_15){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_17,_15);
}
}),new objj_method(sel_getUid("urlForId:"),function(_18,_19,_1a){
with(_18){
return ("http://api.twitter.com/1/statuses/show/"+_1a+".json");
}
}),new objj_method(sel_getUid("searchUrl:"),function(_1b,_1c,_1d){
with(_1b){
if(objj_msgSend(_1d,"hasPrefix:","@")){
_1d="from:"+objj_msgSend(_1d,"substringFromIndex:",1);
}
if(objj_msgSend(_1d,"hasPrefix:"," @")){
_1d=objj_msgSend(_1d,"substringFromIndex:",1);
}
return "http://search.twitter.com/search.json?q="+encodeURIComponent(_1d);
}
}),new objj_method(sel_getUid("nextPageUrl:"),function(_1e,_1f,_20){
with(_1e){
return (_20?("http://search.twitter.com/search.json"+_20):nil);
}
}),new objj_method(sel_getUid("retrieveTweetAndUpdateDragAndDrop:"),function(_21,_22,_23){
with(_21){
var _24=objj_msgSend(objj_msgSend(TweetDataObjectResponse,"alloc"),"init");
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:",objj_msgSend(Tweet,"urlForId:",_23),_24,sel_getUid("responseReturnedData:"));
}
})]);
var _1=objj_allocateClassPair(CPObject,"TweetDataObjectResponse"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("responseReturnedData:"),function(_25,_26,_27){
with(_25){
CPLogConsole("[TWEET] Got new tweet, storing to the D&D Mgr: "+_27.id);
_27.from_user=_27.user.screen_name;
_27.profile_image_url=_27.user.profile_image_url;
var _28=objj_msgSend(objj_msgSend(Tweet,"alloc"),"initWithJSONObject:",_27);
objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"moreTweets:",[_28]);
var _29=objj_msgSend(TweetObjForRequest,"objectForKey:",objj_msgSend(_28,"id_str"));
if(_29){
objj_msgSend(TweetObjForRequest,"removeObjectForKey:",objj_msgSend(_28,"id_str"));
objj_msgSend(_29,"tweetDataHasArrived:",_28);
}
}
})]);
p;22;app/models/tweet_t_e.jt;3594;@STATIC;1.0;t;3575;
var _1=new RegExp(/\d+$/);
var _2=objj_allocateClassPair(Tweet,"TweetTE"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("m_urlString"),new objj_ivar("mtmp_send_update_to_server_on_page_element_id"),new objj_ivar("mtmp_container")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObject:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("TweetTE").super_class},"initWithJSONObject:",_6);
if(_4){
objj_msgSend(PageElementInputSupport,"addToClassOfObject:",_4);
mtmp_send_update_to_server_on_page_element_id=NO;
}
return _4;
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_7,_8,_9){
with(_7){
m_urlString=_9;
var _a=_1.exec(m_urlString);
if(_a){
objj_msgSend(_mainView,"removeFromSuperview");
idStr=_a[0];
objj_msgSend(TweetObjForRequest,"setObject:forKey:",_7,idStr);
var _b=objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"tweetForId:",idStr);
if(_b){
_json=_b._json;
idStr=_json.id_str;
objj_msgSend(_7,"initializeFromJson");
objj_msgSendSuper({receiver:_7,super_class:objj_getClass("TweetTE").super_class},"generateViewForDocument:",mtmp_container);
}else{
objj_msgSend(_7,"createSpinnerView:",mtmp_container);
}
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_c,_d,_e){
with(_c){
if(m_urlString){
if(objj_msgSend(_c,"possibleToShowTweet")){
objj_msgSendSuper({receiver:_c,super_class:objj_getClass("TweetTE").super_class},"generateViewForDocument:",_e);
}else{
objj_msgSend(_c,"createSpinnerView:",_e);
}
}else{
mtmp_container=_e;
objj_msgSend(_c,"obtainInput:defaultValue:",("Enter the URL of the tweet, e.g. "+"http://twitter.com/#!/engineyard/"+"status/37678550509158400"),("http://twitter.com/#!/engineyard/"+"status/37678550509158400"));
objj_msgSend(_c,"createSpinnerView:",_e);
}
}
}),new objj_method(sel_getUid("possibleToShowTweet"),function(_f,_10){
with(_f){
return is_defined(_text);
}
}),new objj_method(sel_getUid("createSpinnerView:"),function(_11,_12,_13){
with(_11){
_mainView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_13,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"setImageScaling:",CPScaleToFit);
objj_msgSend(_mainView,"setHasShadow:",NO);
objj_msgSend(_mainView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
objj_msgSend(_13,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_14,_15){
with(_14){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolTwitter");
}
}),new objj_method(sel_getUid("name"),function(_16,_17){
with(_16){
return _json.name;
}
}),new objj_method(sel_getUid("id_str"),function(_18,_19){
with(_18){
return _json.id;
}
}),new objj_method(sel_getUid("toolTip"),function(_1a,_1b){
with(_1a){
return _json.tool_tip;
}
}),new objj_method(sel_getUid("havePageElementIdDoAnyUpdate"),function(_1c,_1d){
with(_1c){
if(mtmp_send_update_to_server_on_page_element_id){
objj_msgSend(_1c,"updateServer");
mtmp_send_update_to_server_on_page_element_id=NO;
}
}
}),new objj_method(sel_getUid("tweetDataHasArrived:"),function(_1e,_1f,_20){
with(_1e){
_json=_20._json;
objj_msgSend(_1e,"initializeFromJson");
idStr=_json.id_str;
objj_msgSendSuper({receiver:_1e,super_class:objj_getClass("TweetTE").super_class},"generateViewForDocument:",mtmp_container);
if(page_element_id){
objj_msgSend(_1e,"updateServer");
}else{
mtmp_send_update_to_server_on_page_element_id=YES;
}
}
})]);
p;29;app/models/twitter_feed_t_e.jt;4257;@STATIC;1.0;t;4238;
var _1=("Enter the Twitter term string. This can be '#term' for a "+"hash-search, '@user' to search for all tweets sent to a "+"specific user or 'user' meaning all tweets from user.");
var _2=objj_allocateClassPair(ToolElement,"TwitterFeedTE"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("m_refView"),new objj_ivar("m_term_string")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("initWithJSONObject:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("TwitterFeedTE").super_class},"initWithJSONObject:",_6);
if(_4){
objj_msgSend(PageElementInputSupport,"addToClass:",objj_msgSend(_4,"class"));
m_term_string=_json.term_string;
}
return _4;
}
}),new objj_method(sel_getUid("refViewText"),function(_7,_8){
with(_7){
if(!m_term_string||objj_msgSend(m_term_string,"isBlank")){
return "NO TERM STRING SUPPLIED";
}
switch(objj_msgSend(m_term_string,"substringWithRange:",CPMakeRange(0,1))){
case "@":
return objj_msgSend(CPString,"stringWithFormat:","All tweets\nto %s",m_term_string);
break;
case "#":
return objj_msgSend(CPString,"stringWithFormat:","Search for\n%s",m_term_string);
break;
default:
return objj_msgSend(CPString,"stringWithFormat:","All tweets\nfrom %s",m_term_string);
}
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_9,_a,_b){
with(_9){
if(!(m_term_string===_b)){
m_term_string=_b;
objj_msgSend(_9,"updateServer");
objj_msgSend(m_refView,"setStringValue:",objj_msgSend(_9,"refViewText"));
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_c,_d,_e){
with(_c){
if(!m_term_string){
m_term_string=objj_msgSend(_c,"obtainInput:defaultValue:",_1,"#internet");
}
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
m_refView=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_e,"bounds"),4,4));
objj_msgSend(m_refView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(m_refView,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(m_refView,"setTextColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(m_refView,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(m_refView,"setStringValue:",objj_msgSend(_c,"refViewText"));
var _f=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_e,"bounds")));
objj_msgSend(_f,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_f,"setImageScaling:",CPScaleProportionally);
objj_msgSend(_f,"setHasShadow:",YES);
objj_msgSend(_f,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"twitterFeed"));
_mainView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_e,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_mainView,"addSubview:",m_refView);
objj_msgSend(_mainView,"addSubview:",_f);
objj_msgSend(m_refView,"setFrameOrigin:",CGPointMake(20,90));
objj_msgSend(_f,"setFrameOrigin:",CGPointMake(0,0));
objj_msgSend(_e,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_10,_11){
with(_10){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolTwitter");
}
}),new objj_method(sel_getUid("initialSize"),function(_12,_13){
with(_12){
return objj_msgSend(_12,"initialSizeFromJsonOrDefault:",CGSizeMake(150,275));
}
})]);
var _2=objj_getClass("TwitterFeedTE");
if(!_2){
throw new SyntaxError("*** Could not find definition for class \"TwitterFeedTE\"");
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("hasProperties"),function(_14,_15){
with(_14){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_16,_17){
with(_16){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyTwitterFeedTEController,"alloc"),"initWithWindowCibName:pageElement:",TwitterFeedTEPropertyWindowCIB,_16),"showWindow:",_16);
}
}),new objj_method(sel_getUid("getForUser"),function(_18,_19){
with(_18){
return m_term_string;
}
}),new objj_method(sel_getUid("setForUser:"),function(_1a,_1b,_1c){
with(_1a){
m_term_string=_1c;
objj_msgSend(m_refView,"setStringValue:",objj_msgSend(_1a,"refViewText"));
}
})]);
p;30;app/models/you_tube_ctrl_t_e.jt;1849;@STATIC;1.0;t;1830;
var _1=objj_allocateClassPair(ToolElement,"YouTubeCtrlTE"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("generateViewForDocument:"),function(_3,_4,_5){
with(_3){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_5,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var _6=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,170,40));
objj_msgSend(_6,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",15));
objj_msgSend(_6,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_6,"setStringValue:","You Tube Video Controls");
var _7=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,20,80,40));
objj_msgSend(_7,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",15));
objj_msgSend(_7,"setTextColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(_7,"setStringValue:","[Play All]");
var _8=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(76,20,90,40));
objj_msgSend(_8,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",15));
objj_msgSend(_8,"setTextColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(_8,"setStringValue:","[Loop None]");
objj_msgSend(_mainView,"addSubview:",_6);
objj_msgSend(_mainView,"addSubview:",_7);
objj_msgSend(_mainView,"addSubview:",_8);
objj_msgSend(_5,"addSubview:",_mainView);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_9,_a){
with(_9){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolYouTube");
}
}),new objj_method(sel_getUid("initialSize"),function(_b,_c){
with(_b){
return objj_msgSend(_b,"initialSizeFromJsonOrDefault:",CGSizeMake(170,42));
}
})]);
p;38;app/models/you_tube_seek_to_link_t_e.jt;3858;@STATIC;1.0;t;3839;
var _1=objj_allocateClassPair(ToolElement,"YouTubeSeekToLinkTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_textTyped"),new objj_ivar("m_video_id"),new objj_ivar("m_start_at_secs"),new objj_ivar("m_end_at_secs")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("textTyped"),function(_3,_4){
with(_3){
return m_textTyped;
}
}),new objj_method(sel_getUid("setTextTyped:"),function(_5,_6,_7){
with(_5){
m_textTyped=_7;
}
}),new objj_method(sel_getUid("videoId"),function(_8,_9){
with(_8){
return m_video_id;
}
}),new objj_method(sel_getUid("setVideoId:"),function(_a,_b,_c){
with(_a){
m_video_id=_c;
}
}),new objj_method(sel_getUid("startAt"),function(_d,_e){
with(_d){
return m_start_at_secs;
}
}),new objj_method(sel_getUid("setStartAt:"),function(_f,_10,_11){
with(_f){
m_start_at_secs=_11;
}
}),new objj_method(sel_getUid("endAt"),function(_12,_13){
with(_12){
return m_end_at_secs;
}
}),new objj_method(sel_getUid("setEndAt:"),function(_14,_15,_16){
with(_14){
m_end_at_secs=_16;
}
}),new objj_method(sel_getUid("initWithJSONObject:"),function(_17,_18,_19){
with(_17){
_17=objj_msgSendSuper({receiver:_17,super_class:objj_getClass("YouTubeSeekToLinkTE").super_class},"initWithJSONObject:",_19);
if(_17){
objj_msgSend(PageElementColorSupport,"addToClassOfObject:",_17);
objj_msgSend(PageElementFontSupport,"addToClassOfObject:",_17);
objj_msgSend(PageElementTextInputSupport,"addToClassOfObject:",_17);
m_textTyped=_json.text;
m_start_at_secs=objj_msgSend(check_for_undefined(_json.start_at_secs,"0"),"intValue");
m_end_at_secs=objj_msgSend(check_for_undefined(_json.end_at_secs,"0"),"intValue");
m_video_id=check_for_undefined(_json.video_id,nil);
objj_msgSend(_17,"setFontFromJson");
objj_msgSend(_17,"setColorFromJson");
}
return _17;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_1a,_1b,_1c){
with(_1a){
if(!m_textTyped){
m_textTyped="Enter Text Here";
}
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
objj_msgSend(_1a,"_setFont");
objj_msgSend(_1a,"setupMainViewAddTo:",_1c);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_1d,_1e){
with(_1d){
if(is_defined(_json.tool_image)){
return objj_msgSend(PlaceholderManager,"imageFor:",_json.tool_image);
}else{
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolYouTube");
}
}
})]);
var _1=objj_getClass("YouTubeSeekToLinkTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"YouTubeSeekToLinkTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("hasProperties"),function(_1f,_20){
with(_1f){
return YES;
}
}),new objj_method(sel_getUid("openProperyWindow"),function(_21,_22){
with(_21){
objj_msgSend(objj_msgSend(objj_msgSend(PropertyYouTubeSeekToLinkTEController,"alloc"),"initWithWindowCibName:pageElement:",YouTubeSeekToLinkTEPropertyWindowCIB,_21),"showWindow:",_21);
}
}),new objj_method(sel_getUid("setTextColor:"),function(_23,_24,_25){
with(_23){
objj_msgSend(_23,"setColor:",_25);
objj_msgSend(_mainView,"setTextColor:",_25);
}
}),new objj_method(sel_getUid("setLinkText:"),function(_26,_27,_28){
with(_26){
m_textTyped=_28;
objj_msgSend(_mainView,"setStringValue:",m_textTyped);
}
})]);
var _1=objj_getClass("YouTubeSeekToLinkTE");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"YouTubeSeekToLinkTE\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("stateCreators"),function(_29,_2a){
with(_29){
return objj_msgSend(objj_msgSend(objj_msgSend(_29,"fontSupportStateHandlers"),"arrayByAddingObjectsFromArray:",objj_msgSend(_29,"colorSupportStateHandlers")),"arrayByAddingObjectsFromArray:",[sel_getUid("textTyped"),sel_getUid("setTextTyped:")]);
}
}),new objj_method(sel_getUid("postStateRestore"),function(_2b,_2c){
with(_2b){
objj_msgSend(_2b,"revertTextAttributes");
}
})]);
p;25;app/models/you_tube_t_e.jt;2483;@STATIC;1.0;t;2464;
var _1=objj_allocateClassPair(ToolElement,"YouTubeTE"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_origUrl")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithJSONObject:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("YouTubeTE").super_class},"initWithJSONObject:",_5);
if(_3){
objj_msgSend(YouTubeVideoProperties,"addToClassOfObject:",_3);
objj_msgSend(YouTubePageElement,"addToClassOfObject:",_3);
objj_msgSend(PageElementInputSupport,"addToClassOfObject:",_3);
objj_msgSend(PageElementRotationSupport,"addToClassOfObject:",_3);
m_origUrl=_json.original_url;
objj_msgSend(_3,"updateFromJson");
objj_msgSend(_3,"setRotationFromJson");
}
return _3;
}
}),new objj_method(sel_getUid("promptDataCameAvailable:"),function(_6,_7,_8){
with(_6){
m_origUrl=_8;
var _9=objj_msgSend(YouTubeVideo,"queryUrlForVideo:",m_origUrl);
if(_9){
objj_msgSend(PMCMWjsonpWorker,"workerWithUrl:delegate:selector:callback:",_9,_6,sel_getUid("storeDetails:"),"callback");
}
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_a,_b,_c){
with(_a){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(PMImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_c,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_c,"addSubview:",_mainView);
if(m_thumbnailUrl){
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:pageElement:",m_thumbnailUrl,_mainView,_a);
}else{
objj_msgSend(_mainView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"spinner"));
}
if(!m_origUrl){
objj_msgSend(_a,"obtainInput:defaultValue:",("Please YouTube video link, e.g. "+"http://www.youtube.com/watch?v="+"WgYbs-DPe5Y&feature=related"),"http://www.youtube.com/watch?v=Srmdij0CU1U");
}
}
}),new objj_method(sel_getUid("havePageElementIdDoAnyUpdate"),function(_d,_e){
with(_d){
objj_msgSend(_d,"updateServer");
}
}),new objj_method(sel_getUid("storeDetails:"),function(_f,_10,_11){
with(_f){
_json=_11.data;
objj_msgSend(_f,"updateFromJson");
if(page_element_id){
objj_msgSend(_f,"updateServer");
}
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:pageElement:",m_thumbnailUrl,_mainView,_f);
}
}),new objj_method(sel_getUid("toolBoxImage"),function(_12,_13){
with(_12){
return objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"toolYouTube");
}
})]);
p;27;app/models/you_tube_video.jt;2500;@STATIC;1.0;t;2481;
var _1=20;
var _2=("http://gdata.youtube.com/feeds/api/videos?alt=jsonc&"+"orderby=published&v=2&%s&%s");
var _3="http://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=jsonc";
var _4=objj_allocateClassPair(PageElement,"YouTubeVideo"),_5=_4.isa;
objj_registerClassPair(_4);
class_addMethods(_4,[new objj_method(sel_getUid("initWithJSONObject:"),function(_6,_7,_8){
with(_6){
_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("YouTubeVideo").super_class},"initWithJSONObject:",_8);
if(_6){
objj_msgSend(YouTubeVideoProperties,"addToClassOfObject:",_6);
objj_msgSend(YouTubePageElement,"addToClassOfObject:",_6);
objj_msgSend(PageElementRotationSupport,"addToClassOfObject:",_6);
objj_msgSend(_6,"updateFromJson");
objj_msgSend(_6,"setRotationFromJson");
}
return _6;
}
}),new objj_method(sel_getUid("id_str"),function(_9,_a){
with(_9){
return _json.id;
}
}),new objj_method(sel_getUid("generateViewForDocument:"),function(_b,_c,_d){
with(_b){
if(_mainView){
objj_msgSend(_mainView,"removeFromSuperview");
}
_mainView=objj_msgSend(objj_msgSend(PMImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_d,"bounds")));
objj_msgSend(_mainView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:pageElement:",objj_msgSend(_b,"largeImageUrl"),_mainView,_b);
objj_msgSend(_d,"addSubview:",_mainView);
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("initWithJSONObjects:"),function(_e,_f,_10){
with(_e){
return objj_msgSend(PageElement,"generateObjectsFromJson:forClass:",_10,_e);
}
}),new objj_method(sel_getUid("queryUrlForVideo:"),function(_11,_12,_13){
with(_11){
var _14=getVideoIdFromYouTubeUrl(_13);
if(_14){
return objj_msgSend(CPString,"stringWithFormat:",_3,_14);
}else{
return nil;
}
}
}),new objj_method(sel_getUid("searchUrlFor:pageNumber:"),function(_15,_16,_17,_18){
with(_15){
var _19=objj_msgSend(CPString,"stringWithFormat:","max-results=%d&start-index=%d",_1,(_1*_18)+1);
var _1a="q="+encodeURIComponent(_17);
if(objj_msgSend(_17,"hasPrefix:","@")){
var _1b=objj_msgSend(_17,"rangeOfString:"," ");
if(_1b.location>0){
var _1c=CPMakeRange(1,_1b.location-1);
_1a=objj_msgSend(CPString,"stringWithFormat:","author=%s&q=%s",objj_msgSend(_17,"substringWithRange:",_1c),objj_msgSend(_17,"substringFromIndex:",_1b.location+1));
}else{
_1a="author="+encodeURIComponent(objj_msgSend(_17,"substringFromIndex:",1));
}
}
return objj_msgSend(CPString,"stringWithFormat:",_2,_19,_1a);
}
})]);
p;27;app/monkeypatch/c_p_alert.jt;708;@STATIC;1.0;t;690;
var _1=objj_getClass("CPAlert");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPAlert\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("setEnabled:"),function(_3,_4,_5){
with(_3){
objj_msgSend(_messageLabel,"setEnabled:",_5);
}
}),new objj_method(sel_getUid("setSelectable:"),function(_6,_7,_8){
with(_6){
objj_msgSend(_messageLabel,"setSelectable:",_8);
}
}),new objj_method(sel_getUid("setEditable:"),function(_9,_a,_b){
with(_9){
objj_msgSend(_messageLabel,"setEditable:",_b);
}
}),new objj_method(sel_getUid("close"),function(_c,_d){
with(_c){
objj_msgSend(CPApp,"abortModal");
objj_msgSend(objj_msgSend(_c,"window"),"close");
}
})]);
p;27;app/monkeypatch/c_p_array.jt;338;@STATIC;1.0;t;320;
var _1=objj_getClass("CPArray");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPArray\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("anyValue"),function(_3,_4){
with(_3){
var _5=Math.floor(Math.random()*(objj_msgSend(_3,"count")+1));
return (_3[_5]||_3[0]);
}
})]);
p;25;app/monkeypatch/c_p_box.jt;521;@STATIC;1.0;t;503;
var _1=objj_getClass("CPBox");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPBox\"");
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("makeBorder:"),function(_3,_4,_5){
with(_3){
var _6=objj_msgSend(CPBox,"boxEnclosingView:",_5);
objj_msgSend(_6,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_6,"setBorderColor:",objj_msgSend(CPColor,"colorWithHexString:","a9aaae"));
objj_msgSend(_6,"setBorderType:",CPLineBorder);
}
})]);
p;25;app/monkeypatch/c_p_cib.jt;962;@STATIC;1.0;t;944;
CibDataCacheDictionary=objj_msgSend(CPDictionary,"dictionary");
var _1=objj_getClass("CPCib");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPCib\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPCib").super_class},"init");
if(_3){
if(objj_msgSend(CibDataCacheDictionary,"objectForKey:",_5)){
_data=objj_msgSend(CPData,"dataWithRawString:",objj_msgSend(objj_msgSend(CibDataCacheDictionary,"objectForKey:",_5),"rawString"));
}else{
var _6=objj_msgSend(CPURLRequest,"requestWithURL:",objj_msgSend(_5,"stringByAppendingFormat:","?%s",objj_msgSend(CPString,"timestamp")));
_data=objj_msgSend(CPURLConnection,"sendSynchronousRequest:returningResponse:",_6,nil);
objj_msgSend(CibDataCacheDictionary,"setObject:forKey:",_data,_5);
}
_awakenCustomResources=YES;
}
return _3;
}
})]);
p;37;app/monkeypatch/c_p_collection_view.jt;317;@STATIC;1.0;t;299;
var _1=objj_getClass("CPCollectionView");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPCollectionView\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("scrollToSelection"),function(_3,_4){
with(_3){
objj_msgSend(_3,"_scrollToSelection");
}
})]);
p;27;app/monkeypatch/c_p_color.jt;508;@STATIC;1.0;t;490;
var _1=objj_getClass("CPColor");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPColor\"");
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("colorWith8BitRed:green:blue:alpha:"),function(_3,_4,_5,_6,_7,_8){
with(_3){
return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",_5/255,_6/255,_7/255,_8);
}
}),new objj_method(sel_getUid("transparent"),function(_9,_a){
with(_9){
return objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0);
}
})]);
p;28;app/monkeypatch/c_p_cursor.jt;381;@STATIC;1.0;t;363;
var _1=objj_getClass("CPCursor");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPCursor\"");
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("resizeSouthEastCursor"),function(_3,_4){
with(_3){
return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(_4),"se-resize",NO);
}
})]);
p;26;app/monkeypatch/c_p_date.jt;731;@STATIC;1.0;t;713;
var _1=objj_getClass("CPDate");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPDate\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("relativeDateSinceNow"),function(_3,_4){
with(_3){
var _5=nil,_6=-objj_msgSend(_3,"timeIntervalSinceNow")/60,_7=_6/60,_8=_7/24,_9=_8/365;
var _a,_b;
if(_6<=1.5){
_a=FLOOR(_6*60);
_b="second";
}else{
if(_6<60){
_a=FLOOR(_6);
_b="minute";
}else{
if(_7<24){
_a=FLOOR(_7);
_b="hour";
}else{
if(_8<365){
_a=FLOOR(_8);
_b="day";
}else{
_a=FLOOR(_9);
_b="year";
}
}
}
}
if(_a==1){
_5=objj_msgSend(CPString,"stringWithFormat:","1 %@ ago",_b);
}else{
_5=objj_msgSend(CPString,"stringWithFormat:","%d %@s ago",_a,_b);
}
return _5;
}
})]);
p;27;app/monkeypatch/c_p_event.jt;330;@STATIC;1.0;t;312;
var _1=objj_getClass("CPEvent");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPEvent\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("isShiftDown"),function(_3,_4){
with(_3){
return ((objj_msgSend(_3,"modifierFlags")&CPShiftKeyMask)==CPShiftKeyMask);
}
})]);
p;31;app/monkeypatch/c_p_menu_item.jt;425;@STATIC;1.0;t;407;
var _1=objj_getClass("CPMenuItem");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPMenuItem\"");
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("withTitle:andTag:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",_5,NULL,nil);
if(_3){
objj_msgSend(_3,"setTag:",_6);
}
return _3;
}
})]);
p;28;app/monkeypatch/c_p_string.jt;443;@STATIC;1.0;t;425;
var _1=objj_getClass("CPString");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPString\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("isBlank"),function(_3,_4){
with(_3){
return (_3==="");
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("timestamp"),function(_5,_6){
with(_5){
return objj_msgSend(CPString,"stringWithFormat:","%d",new Date().getTime());
}
})]);
p;32;app/monkeypatch/c_p_text_field.jt;577;@STATIC;1.0;t;559;
var _1=objj_getClass("CPTextField");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"CPTextField\"");
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("flickr_labelWithText:"),function(_3,_4,_5){
with(_3){
var _6=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_6,"setStringValue:",_5);
objj_msgSend(_6,"sizeToFit");
objj_msgSend(_6,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_6,"setTextShadowOffset:",CGSizeMake(0,1));
return _6;
}
})]);
p;43;app/monkeypatch/l_p_multi_line_text_field.jt;412;@STATIC;1.0;t;394;
var _1=objj_getClass("LPMultiLineTextField");
if(!_1){
throw new SyntaxError("*** Could not find definition for class \"LPMultiLineTextField\"");
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("rightMouseDown:"),function(_3,_4,_5){
with(_3){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"focusOnDocumentViewCell:",objj_msgSend(_3,"superview"));
}
})]);
p;27;app/views/base_image_cell.jt;1468;@STATIC;1.0;t;1449;
var _1=objj_allocateClassPair(CPView,"BaseImageCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_imageView"),new objj_ivar("m_highlightView")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
if(!m_imageView){
m_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeCopy(objj_msgSend(_3,"bounds")));
objj_msgSend(m_imageView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(m_imageView,"setImageScaling:",CPScaleProportionally);
objj_msgSend(m_imageView,"setHasShadow:",YES);
objj_msgSend(_3,"addSubview:",m_imageView);
}
}
}),new objj_method(sel_getUid("setSelected:"),function(_6,_7,_8){
with(_6){
if(!m_highlightView){
objj_msgSend(_6,"createHighlightView");
}
if(_8){
objj_msgSend(m_highlightView,"setFrame:",objj_msgSend(_6,"bounds"));
objj_msgSend(_6,"addSubview:positioned:relativeTo:",m_highlightView,CPWindowBelow,m_imageView);
}else{
objj_msgSend(m_highlightView,"removeFromSuperview");
}
}
}),new objj_method(sel_getUid("createHighlightView"),function(_9,_a){
with(_9){
m_highlightView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",objj_msgSend(_9,"bounds"));
objj_msgSend(m_highlightView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",0.1,0.6));
objj_msgSend(m_highlightView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
}
})]);
p;25;app/views/document_view.jt;6093;@STATIC;1.0;t;6074;
var _1=objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",sel_getUid("dropHandleTweets:"),TweetDragType,sel_getUid("dropHandleFlickr:"),FlickrDragType,sel_getUid("dropHandleFacebook:"),FacebookDragType,sel_getUid("dropHandleGoogleImages:"),GoogleImagesDragType,sel_getUid("dropHandleYouTubeVideos:"),YouTubeDragType,sel_getUid("dropHandleToolElement:"),ToolElementDragType);
var _2=objj_msgSend(_1,"allKeys");
var _3=objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",230,230,250,1);
var _4=objj_allocateClassPair(CPView,"DocumentView"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_controller")]);
objj_registerClassPair(_4);
class_addMethods(_4,[new objj_method(sel_getUid("initWithFrame:"),function(_6,_7,_8){
with(_6){
_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("DocumentView").super_class},"initWithFrame:",_8);
if(_6){
_controller=objj_msgSend(DocumentViewController,"sharedInstance");
objj_msgSend(DocumentViewCellWithoutSnapgrid,"addToClass:",DocumentViewCell);
objj_msgSend(_6,"registerForDraggedTypes:",_2);
objj_msgSend(_6,"setAutoresizingMask:",CPViewNotSizable);
objj_msgSend(_6,"setAutoresizesSubviews:",NO);
objj_msgSend(_6,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor"));
}
return _6;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_9,_a,_b){
with(_9){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",nil);
}
}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(_c,_d,_e){
with(_c){
return objj_msgSend(objj_msgSend(DocumentViewCell,"alloc"),"initWithPageElement:",_e);
}
}),new objj_method(sel_getUid("setContent:"),function(_f,_10,_11){
with(_f){
var _12=objj_msgSend(_f,"subviews");
for(var idx=0;idx<_12.length;idx++){
objj_msgSend(_12[idx],"removeFromSuperview");
}
if(!_11){
return;
}
objj_msgSend(_11,"sortUsingSelector:",sel_getUid("compareZ:"));
var idx=objj_msgSend(_11,"count");
while(idx--){
var _13=objj_msgSend(_f,"newItemForRepresentedObject:",_11[idx]);
var _14=objj_msgSend(_13,"view");
objj_msgSend(_14,"setFrame:",objj_msgSend(_11[idx],"location"));
objj_msgSend(_f,"addSubview:",_14);
}
}
}),new objj_method(sel_getUid("addObjectsToView:atLocation:"),function(_15,_16,_17,_18){
with(_15){
var _19=objj_msgSend(_15,"convertPoint:fromView:",_18,nil);
var _1a=objj_msgSend(CPArray,"array");
for(var idx=0;idx<objj_msgSend(_17,"count");idx++){
var _1b=objj_msgSend(_15,"newItemForRepresentedObject:",_17[idx]);
var _1c=objj_msgSend(_1b,"view");
var _1d=CGPointMake(_19.x-CGRectGetWidth(objj_msgSend(_1c,"frame"))/2,_19.y-CGRectGetHeight(objj_msgSend(_1c,"frame"))/2);
objj_msgSend(_1c,"setFrameOrigin:",_1d);
objj_msgSend(_1c,"setFrameSize:",objj_msgSend(_17[idx],"initialSize"));
objj_msgSend(_17[idx],"setLocation:",objj_msgSend(_1c,"frame"));
objj_msgSend(_17[idx],"setZIndex:",objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"nextZIndex"));
objj_msgSend(_15,"addSubview:",_1c);
_1a.push(_1c);
}
return _1a;
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_1e,_1f,_20){
with(_1e){
CPLogConsole("peforming drag operations @ collection view");
var _21=objj_msgSend(_1e,"obtainModelObjects:",_20);
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",nil);
for(var idx=0;idx<_21.length;idx++){
_21[idx]=objj_msgSend(_21[idx],"cloneForDrop");
}
objj_msgSend(_controller,"draggedObjects:atLocation:",_21,objj_msgSend(_20,"draggingLocation"));
objj_msgSend(_1e,"setHighlight:",NO);
}
}),new objj_method(sel_getUid("draggingEntered:"),function(_22,_23,_24){
with(_22){
objj_msgSend(_22,"setHighlight:",YES);
}
}),new objj_method(sel_getUid("draggingExited:"),function(_25,_26,_27){
with(_25){
objj_msgSend(_25,"setHighlight:",NO);
}
}),new objj_method(sel_getUid("setHighlight:"),function(_28,_29,_2a){
with(_28){
if(_2a){
objj_msgSend(_28,"setBackgroundColor:",_3);
}else{
objj_msgSend(_28,"setBackgroundColor:",objj_msgSend(objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"currentPageObj"),"getColor"));
}
}
}),new objj_method(sel_getUid("obtainModelObjects:"),function(_2b,_2c,_2d){
with(_2b){
var _2e=nil,_2f=nil;
for(var idx=0;idx<objj_msgSend(_2,"count");idx++){
_2f=_2[idx];
_2e=objj_msgSend(objj_msgSend(_2d,"draggingPasteboard"),"dataForType:",_2f);
if(_2e){
return objj_msgSend(_2b,"performSelector:withObject:",objj_msgSend(_1,"objectForKey:",_2f),_2e);
}
}
return [];
}
}),new objj_method(sel_getUid("dropHandleFlickr:"),function(_30,_31,_32){
with(_30){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("flickrImageForId:"),_32);
}
}),new objj_method(sel_getUid("dropHandleTweets:"),function(_33,_34,_35){
with(_33){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("tweetForId:"),_35);
}
}),new objj_method(sel_getUid("dropHandleFacebook:"),function(_36,_37,_38){
with(_36){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("facebookItemForId:"),_38);
}
}),new objj_method(sel_getUid("dropHandleToolElement:"),function(_39,_3a,_3b){
with(_39){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("toolElementForId:"),_3b);
}
}),new objj_method(sel_getUid("dropHandleGoogleImages:"),function(_3c,_3d,_3e){
with(_3c){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("googleImageForId:"),_3e);
}
}),new objj_method(sel_getUid("dropHandleYouTubeVideos:"),function(_3f,_40,_41){
with(_3f){
return objj_msgSend(DocumentView,"_retrieveObjectsWithSelector:usingData:",sel_getUid("youTubeVideoForId:"),_41);
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("_retrieveObjectsWithSelector:usingData:"),function(_42,_43,_44,_45){
with(_42){
_45=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_45);
var _46=[];
for(var idx=0;idx<objj_msgSend(_45,"count");idx++){
var obj=objj_msgSend(objj_msgSend(DragDropManager,"sharedInstance"),"performSelector:withObject:",_44,_45[idx]);
if(obj){
objj_msgSend(_46,"addObject:",obj);
}
}
return _46;
}
})]);
p;30;app/views/document_view_cell.jt;5038;@STATIC;1.0;t;5019;
var _1=objj_allocateClassPair(GRRotateView,"DocumentViewCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("dragLocation"),new objj_ivar("editedOrigin"),new objj_ivar("representedObject")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("pageElement"),function(_3,_4){
with(_3){
return representedObject;
}
}),new objj_method(sel_getUid("initWithPageElement:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("DocumentViewCell").super_class},"initWithFrame:",CGRectMake(0,0,5,5));
if(_5){
objj_msgSend(_5,"setRepresentedObject:",_7);
}
return _5;
}
}),new objj_method(sel_getUid("view"),function(_8,_9){
with(_8){
return _8;
}
}),new objj_method(sel_getUid("setRepresentedObject:"),function(_a,_b,_c){
with(_a){
if(representedObject){
objj_msgSend(representedObject,"removeFromSuperview");
objj_msgSend(_a,"removeNotificationListener");
}
representedObject=_c;
objj_msgSend(representedObject,"generateViewForDocument:",_a);
objj_msgSend(_a,"setupNotificationListener");
if(objj_msgSend(representedObject,"respondsToSelector:",sel_getUid("textTyped"))){
objj_msgSend(_a,"hitTestSuper");
objj_msgSend(objj_msgSend(_a,"layer"),"setHidden:",YES);
}
var _d=0;
if(objj_msgSend(representedObject,"respondsToSelector:",sel_getUid("rotation"))){
_d=objj_msgSend(representedObject,"rotationRadians");
}
objj_msgSend(_a,"setRotation:",_d);
}
}),new objj_method(sel_getUid("setSelected:"),function(_e,_f,_10){
with(_e){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"setDocumentViewCell:",_e);
}
}),new objj_method(sel_getUid("setupNotificationListener"),function(_11,_12){
with(_11){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_11,sel_getUid("pageElementSuicide:"),PageElementWantsToBeDeletedNotification,representedObject);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_11,sel_getUid("pageElementDidRotate:"),PageElementDidRotateNotification,representedObject);
}
}),new objj_method(sel_getUid("removeNotificationListener"),function(_13,_14){
with(_13){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_13,PageElementWantsToBeDeletedNotification,representedObject);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_13,PageElementDidRotateNotification,representedObject);
}
}),new objj_method(sel_getUid("pageElementSuicide:"),function(_15,_16,_17){
with(_15){
objj_msgSend(_15,"deleteFromPage");
}
}),new objj_method(sel_getUid("pageElementDidRotate:"),function(_18,_19,_1a){
with(_18){
objj_msgSend(_18,"setRotation:",objj_msgSend(objj_msgSend(_1a,"object"),"rotationRadians"));
objj_msgSend(_18,"setVerticalFlip:",objj_msgSend(objj_msgSend(_1a,"object"),"verticalFlip"));
}
}),new objj_method(sel_getUid("deleteFromPage"),function(_1b,_1c){
with(_1b){
if(representedObject){
objj_msgSend(representedObject,"removeFromSuperview");
objj_msgSend(representedObject,"removeFromServer");
representedObject=nil;
}
objj_msgSend(_1b,"removeFromSuperview");
}
}),new objj_method(sel_getUid("cloneAndAddToPage"),function(_1d,_1e){
with(_1d){
if(representedObject){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"copyElement:",representedObject);
}
}
}),new objj_method(sel_getUid("willBeginLiveResize"),function(_1f,_20){
with(_1f){
}
}),new objj_method(sel_getUid("didEndLiveResize"),function(_21,_22){
with(_21){
objj_msgSend(_21,"sendResizeToServer");
}
}),new objj_method(sel_getUid("doResize:"),function(_23,_24,_25){
with(_23){
objj_msgSend(_23,"setFrameSize:",_25.size);
objj_msgSend(_23,"setFrameOrigin:",_25.origin);
objj_msgSend(_23,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("rightMouseDown:"),function(_26,_27,_28){
with(_26){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"focusOnDocumentViewCell:",_26);
}
}),new objj_method(sel_getUid("mouseDown:"),function(_29,_2a,_2b){
with(_29){
if(objj_msgSend(_2b,"isShiftDown")){
objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"addDocumentViewCell:",_29);
}
objj_msgSend(_29,"setSelected:",YES);
objj_msgSend(objj_msgSend(CPCursor,"closedHandCursor"),"set");
editedOrigin=objj_msgSend(_29,"frame").origin;
dragLocation=objj_msgSend(_2b,"locationInWindow");
}
}),new objj_method(sel_getUid("mouseUp:"),function(_2c,_2d,_2e){
with(_2c){
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
objj_msgSend(_2c,"setSelected:",NO);
objj_msgSend(_2c,"setFrameOrigin:",objj_msgSend(_2c,"frame").origin);
objj_msgSend(_2c,"sendResizeToServer");
}
}),new objj_method(sel_getUid("setZIndex:"),function(_2f,_30,_31){
with(_2f){
objj_msgSend(representedObject,"setZIndex:",_31);
objj_msgSend(_2f,"sendResizeToServer");
}
}),new objj_method(sel_getUid("sendResizeToServer"),function(_32,_33){
with(_32){
objj_msgSend(objj_msgSend(representedObject,"setLocation:",objj_msgSend(_32,"frame")),"sendResizeToServer");
}
})]);
p;37;app/views/document_view_editor_view.jt;11407;@STATIC;1.0;t;11387;
var _1=nil;
var _2=26;
var _3=16;
var _4=nil;
var _5=["Delete element from page and remove from document.","Modify properties of this element.","Make a copy of this element and place it in the middle of the page.","Resize right","Resize diagonal","Resize down","Move this element.",nil];
var _6=objj_allocateClassPair(GRRotateView,"DocumentViewEditorView"),_7=_6.isa;
class_addIvars(_6,[new objj_ivar("m_documentViewCell"),new objj_ivar("m_handleIdx"),new objj_ivar("m_isResizing"),new objj_ivar("m_isMoving"),new objj_ivar("m_handlesRects")]);
objj_registerClassPair(_6);
class_addMethods(_6,[new objj_method(sel_getUid("documentViewCell"),function(_8,_9){
with(_8){
return m_documentViewCell;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_a,_b,_c){
with(_a){
_a=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("DocumentViewEditorView").super_class},"initWithFrame:",_c);
if(_a){
m_handlesRects=[];
m_isResizing=NO;
m_isMoving=NO;
objj_msgSend(objj_msgSend(_a,"window"),"setAcceptsMouseMovedEvents:",YES);
}
return _a;
}
}),new objj_method(sel_getUid("addDocumentViewCell:"),function(_d,_e,_f){
with(_d){
}
}),new objj_method(sel_getUid("setDocumentViewCell:"),function(_10,_11,_12){
with(_10){
if(m_documentViewCell==_12){
return;
}
objj_msgSend(_10,"hideToolTip");
if(m_documentViewCell){
objj_msgSend(_10,"removeAllObservers");
}
m_documentViewCell=_12;
if(m_documentViewCell){
objj_msgSend(_10,"addAllObservers");
var _13=objj_msgSend(_12,"frame").origin,_14=objj_msgSend(_12,"bounds").size;
objj_msgSend(_10,"setFrame:",CGRectMake(_13.x-_2,_13.y-_2,_14.width+(_2*2),_14.height+(_2*2)));
var _15=0;
if(objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"respondsToSelector:",sel_getUid("rotation"))){
_15=objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"rotationRadians");
}
objj_msgSend(_10,"setRotation:",_15);
objj_msgSend(m_documentViewCell,"setZIndex:",objj_msgSend(objj_msgSend(DocumentViewController,"sharedInstance"),"nextZIndex"));
if(objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"respondsToSelector:",sel_getUid("rotation"))){
objj_msgSend(objj_msgSend(m_documentViewCell,"superview"),"addSubview:",m_documentViewCell);
objj_msgSend(objj_msgSend(m_documentViewCell,"superview"),"addSubview:",_10);
}else{
objj_msgSend(objj_msgSend(m_documentViewCell,"superview"),"addSubview:",_10);
objj_msgSend(objj_msgSend(m_documentViewCell,"superview"),"addSubview:",m_documentViewCell);
}
}else{
objj_msgSend(_10,"removeFromSuperview");
}
}
}),new objj_method(sel_getUid("focusOnDocumentViewCell:"),function(_16,_17,_18){
with(_16){
objj_msgSend(_16,"setDocumentViewCell:",_18);
}
}),new objj_method(sel_getUid("removeAllObservers"),function(_19,_1a){
with(_19){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_19,PageElementDidRotateNotification,objj_msgSend(m_documentViewCell,"pageElement"));
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_19,PageElementDidResizeNotification,objj_msgSend(m_documentViewCell,"pageElement"));
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_19,CPViewFrameDidChangeNotification,m_documentViewCell);
}
}),new objj_method(sel_getUid("addAllObservers"),function(_1b,_1c){
with(_1b){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_1b,sel_getUid("documentViewCellFrameChanged:"),CPViewFrameDidChangeNotification,m_documentViewCell);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_1b,sel_getUid("pageElementDidResize:"),PageElementDidResizeNotification,objj_msgSend(m_documentViewCell,"pageElement"));
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_1b,sel_getUid("pageElementDidRotate:"),PageElementDidRotateNotification,objj_msgSend(m_documentViewCell,"pageElement"));
}
}),new objj_method(sel_getUid("setFrameOrigin:"),function(_1d,_1e,_1f){
with(_1d){
objj_msgSendSuper({receiver:_1d,super_class:objj_getClass("DocumentViewEditorView").super_class},"setFrameOrigin:",_1f);
}
}),new objj_method(sel_getUid("pageElementDidRotate:"),function(_20,_21,_22){
with(_20){
objj_msgSend(_20,"setRotation:",objj_msgSend(objj_msgSend(_22,"object"),"rotationRadians"));
}
}),new objj_method(sel_getUid("pageElementDidResize:"),function(_23,_24,_25){
with(_23){
var _26=objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"getSize");
objj_msgSend(m_documentViewCell,"setFrameSize:",_26);
objj_msgSend(_23,"setFrameSize:",CGSizeMake(_26.width+(_2*2),_26.height+(_2*2)));
}
}),new objj_method(sel_getUid("documentViewCellFrameChanged:"),function(_27,_28,_29){
with(_27){
var _2a=objj_msgSend(m_documentViewCell,"frame"),_2b=CGRectGetWidth(objj_msgSend(_27,"frame"));
objj_msgSend(_27,"setFrameOrigin:",CGPointMake(CGRectGetMidX(_2a)-_2b/2,CGRectGetMidY(_2a)-_2b/2));
}
}),new objj_method(sel_getUid("mouseEntered:"),function(_2c,_2d,_2e){
with(_2c){
objj_msgSend(_2c,"setCursorForEvent:",_2e);
}
}),new objj_method(sel_getUid("mouseMoved:"),function(_2f,_30,_31){
with(_2f){
objj_msgSend(_2f,"setCursorForEvent:",_31);
}
}),new objj_method(sel_getUid("mouseExited:"),function(_32,_33,_34){
with(_32){
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
}
}),new objj_method(sel_getUid("mouseDown:"),function(_35,_36,_37){
with(_35){
if(objj_msgSend(_37,"clickCount")==2&&objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"hasProperties")){
objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"openProperyWindow");
return;
}
m_handleIdx=objj_msgSend(_35,"getHandleIndex:",_37);
objj_msgSend(_35,"hideToolTip");
switch(m_handleIdx){
case 0:
return objj_msgSend(_35,"deletePageElement");
case 1:
return objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"openProperyWindow");
case 2:
return objj_msgSend(m_documentViewCell,"cloneAndAddToPage");
case 3:
case 4:
case 5:
m_isResizing=YES;
objj_msgSend(m_documentViewCell,"willBeginLiveResize");
return objj_msgSend(_35,"setNeedsDisplay:",YES);
}
m_isMoving=YES;
objj_msgSend(objj_msgSend(CPCursor,"closedHandCursor"),"set");
objj_msgSend(m_documentViewCell,"mouseDown:",_37);
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_38,_39,_3a){
with(_38){
objj_msgSend(_38,"hideToolTip");
if(!m_isResizing&&!m_isMoving){
return;
}
if(m_isMoving){
objj_msgSend(m_documentViewCell,"mouseDragged:",_3a);
}
if(m_isResizing){
objj_msgSend(objj_msgSend(CPCursor,"closedHandCursor"),"set");
var _3b=objj_msgSend(_38,"convertPoint:fromView:",objj_msgSend(_3a,"locationInWindow"),nil);
var _3c=objj_msgSend(_38,"makeNewSize:",_3b);
objj_msgSend(m_documentViewCell,"doResize:",CGRectInset(_3c,_2,_2));
objj_msgSend(_38,"setFrameSize:",_3c.size);
objj_msgSend(_38,"setFrameOrigin:",_3c.origin);
objj_msgSend(_38,"setNeedsDisplay:",YES);
}
}
}),new objj_method(sel_getUid("mouseUp:"),function(_3d,_3e,_3f){
with(_3d){
if(!m_isResizing&&!m_isMoving){
return;
}
if(m_isMoving){
objj_msgSend(m_documentViewCell,"mouseUp:",_3f);
}
if(m_isResizing){
objj_msgSend(m_documentViewCell,"didEndLiveResize");
}
m_isMoving=NO;
m_isResizing=NO;
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
}
}),new objj_method(sel_getUid("setCursorForEvent:"),function(_40,_41,_42){
with(_40){
switch(objj_msgSend(_40,"getHandleIndex:",_42)){
case 0:
return objj_msgSend(objj_msgSend(CPCursor,"disappearingItemCursor"),"set");
case 1:
return objj_msgSend(objj_msgSend(CPCursor,"contextualMenuCursor"),"set");
case 2:
return objj_msgSend(objj_msgSend(CPCursor,"dragCopyCursor"),"set");
case 3:
return objj_msgSend(objj_msgSend(CPCursor,"resizeRightCursor"),"set");
case 4:
return objj_msgSend(objj_msgSend(CPCursor,"resizeSouthEastCursor"),"set");
case 5:
return objj_msgSend(objj_msgSend(CPCursor,"resizeDownCursor"),"set");
}
objj_msgSend(objj_msgSend(CPCursor,"openHandCursor"),"set");
}
}),new objj_method(sel_getUid("hideToolTip"),function(_43,_44){
with(_43){
if(_4){
objj_msgSend(_4,"close");
_4=nil;
}
}
}),new objj_method(sel_getUid("deletePageElement"),function(_45,_46){
with(_45){
objj_msgSend(m_documentViewCell,"deleteFromPage");
objj_msgSend(_45,"removeAllObservers");
m_documentViewCell=nil;
objj_msgSend(_45,"removeFromSuperview");
}
}),new objj_method(sel_getUid("makeNewSize:"),function(_47,_48,_49){
with(_47){
var _4a=objj_msgSend(_47,"frame");
var _4b=_4a.origin.x,_4c=_4a.origin.y,_4d=_4a.size.width,_4e=_4a.size.height;
var _4f=nil;
switch(m_handleIdx){
case 3:
objj_msgSend(objj_msgSend(CPCursor,"resizeRightCursor"),"set");
_4d=_49.x;
break;
case 4:
objj_msgSend(objj_msgSend(CPCursor,"resizeSouthEastCursor"),"set");
_4e=_49.y;
_4d=_49.x;
break;
case 5:
objj_msgSend(objj_msgSend(CPCursor,"resizeDownCursor"),"set");
_4e=_49.y;
break;
}
return CGRectMake(_4b,_4c,MAX(_4d,53),MAX(_4e,53));
}
}),new objj_method(sel_getUid("getHandleIndex:"),function(_50,_51,_52){
with(_50){
var _53=objj_msgSend(_50,"convertPoint:fromView:",objj_msgSend(_52,"locationInWindow"),nil);
for(var idx=0;idx<m_handlesRects.length;idx++){
if(CGRectContainsPoint(objj_msgSend(objj_msgSend(_50,"layer"),"convertRect:toLayer:",m_handlesRects[idx],nil),_53)){
return idx;
}
}
return -1;
}
}),new objj_method(sel_getUid("drawLayer:inContext:"),function(_54,_55,_56,_57){
with(_54){
var _58=CGRectInset(objj_msgSend(_56,"bounds"),10,10),_59=CGRectGetWidth(_58)/2;
CGContextSetStrokeColor(_57,objj_msgSend(ThemeManager,"editorBgColor"));
CGContextSetLineWidth(_57,5);
CGContextStrokeRect(_57,_58);
CGContextSetAlpha(_57,1);
objj_msgSend(_54,"drawAndStoreHandles:withContext:",_58,_57);
}
}),new objj_method(sel_getUid("drawAndStoreHandles:withContext:"),function(_5a,_5b,_5c,_5d){
with(_5a){
m_handlesRects=[];
for(var idx=0;idx<8;idx++){
var _5e=nil;
var _5f=nil;
switch(idx){
case 0:
_5e=CGRectMake(-1.5,-1.5,_3*1.3,_3*1.3);
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"deleteButton");
break;
case 1:
_5e=CGRectMake(CGRectGetMidX(_5c)-(_3/2)-3.5,-2.5,_3*1.5,_3*1.5);
if(objj_msgSend(objj_msgSend(m_documentViewCell,"pageElement"),"hasProperties")){
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"propertyButton");
}
break;
case 2:
_5e=CGRectMake(CGRectGetMaxX(_5c)-(_3/2)-1,-1,_3*1.3,_3*1.3);
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"copyButton");
break;
case 3:
_5e=CGRectMake(CGRectGetMaxX(_5c)-(_3/2)+2,CGRectGetMidY(_5c)-(_3/2),_3*1.3,_3*1.3);
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"resizeRightButton");
break;
case 4:
_5e=CGRectMake(CGRectGetMaxX(_5c)-(_3/2)-8,CGRectGetMaxY(_5c)-(_3/2)-8,_3*1.3,_3*1.3);
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"resizeDiagonalButton");
break;
case 5:
_5e=CGRectMake(CGRectGetMidX(_5c)-_3/2,CGRectGetMaxY(_5c)-_3/2+2,_3*1.3,_3*1.3);
_5f=objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"resizeBottomButton");
break;
case 6:
_5e=CGRectMake(0,CGRectGetMaxY(_5c)-(_3/2),_3*1.3,_3*1.3);
break;
case 7:
_5e=CGRectMake(0,CGRectGetMidY(_5c)-_3/2,_3*1.3,_3*1.3);
break;
}
if(_5f){
CGContextDrawImage(_5d,_5e,_5f);
}
m_handlesRects.push(_5e);
}
}
})]);
class_addMethods(_7,[new objj_method(sel_getUid("sharedInstance"),function(_60,_61){
with(_60){
if(!_1){
_1=objj_msgSend(objj_msgSend(DocumentViewEditorView,"alloc"),"initWithFrame:",CGRectMakeZero());
}
return _1;
}
})]);
p;34;app/views/facebook_category_cell.jt;1807;@STATIC;1.0;t;1788;
var _1=objj_allocateClassPair(CPView,"FacebookCategoryCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_imageView"),new objj_ivar("m_highlightView")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
if(!m_imageView){
m_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3,"bounds"),4,4));
objj_msgSend(m_imageView,"setAutoresizingMask:",CPViewNotSizable);
objj_msgSend(m_imageView,"setImageScaling:",CPScaleToFit);
objj_msgSend(_3,"addSubview:",m_imageView);
}
if(_5.from){
objj_msgSend(_3,"handleAnAlbum:",_5);
}else{
objj_msgSend(_3,"handleAFriend:",_5);
}
}
}),new objj_method(sel_getUid("handleAnAlbum:"),function(_6,_7,_8){
with(_6){
objj_msgSend(m_imageView,"setImage:",objj_msgSend(objj_msgSend(PlaceholderManager,"sharedInstance"),"photoAlbum"));
}
}),new objj_method(sel_getUid("handleAFriend:"),function(_9,_a,_b){
with(_9){
var _c=objj_msgSend(CPString,"stringWithFormat:","https://graph.facebook.com/%s/picture",_b.id);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",_c,m_imageView);
}
}),new objj_method(sel_getUid("setSelected:"),function(_d,_e,_f){
with(_d){
if(!m_highlightView){
m_highlightView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",objj_msgSend(_d,"bounds"));
objj_msgSend(m_highlightView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHexString:","c2ecc5"));
objj_msgSend(m_highlightView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
}
if(_f){
objj_msgSend(m_highlightView,"setFrame:",objj_msgSend(_d,"bounds"));
objj_msgSend(_d,"addSubview:positioned:relativeTo:",m_highlightView,CPWindowBelow,m_imageView);
}else{
objj_msgSend(m_highlightView,"removeFromSuperview");
}
}
})]);
p;31;app/views/facebook_photo_cell.jt;455;@STATIC;1.0;t;437;
var _1=objj_allocateClassPair(BaseImageCell,"FacebookPhotoCell"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("FacebookPhotoCell").super_class},"setRepresentedObject:",_5);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",objj_msgSend(_5,"thumbImageUrl"),m_imageView);
}
})]);
p;29;app/views/flickr_photo_cell.jt;460;@STATIC;1.0;t;442;
var _1=objj_allocateClassPair(BaseImageCell,"FlickrPhotoCell"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("FlickrPhotoCell").super_class},"setRepresentedObject:",_5);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",objj_msgSend(_5,"flickrThumbUrlForPhoto"),m_imageView);
}
})]);
p;36;app/views/google_images_photo_cell.jt;467;@STATIC;1.0;t;449;
var _1=objj_allocateClassPair(BaseImageCell,"GoogleImagesPhotoCell"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("GoogleImagesPhotoCell").super_class},"setRepresentedObject:",_5);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",objj_msgSend(_5,"thumbnailImageUrl"),m_imageView);
}
})]);
p;29;app/views/page_control_cell.jt;1976;@STATIC;1.0;t;1957;
var _1=objj_allocateClassPair(CPView,"PageControlCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_label"),new objj_ivar("m_button")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
if(!m_label&&_5.type=="label"){
m_label=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3,"bounds"),4,4));
objj_msgSend(m_label,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(m_label,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(m_label,"setAlignment:",CPLeftTextAlignment);
}
switch(_5.type){
case "button":
if(m_button){
objj_msgSend(m_button,"removeFromSuperview");
}
m_button=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3,"bounds"),-16,-12));
objj_msgSend(m_button,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:",_5.image));
objj_msgSend(m_button,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:",_5.image));
objj_msgSend(m_button,"setImagePosition:",CPImageAbove);
objj_msgSend(m_button,"setImageScaling:",CPScaleToFit);
objj_msgSend(m_button,"setTarget:",objj_msgSend(PageViewController,"sharedInstance"));
objj_msgSend(m_button,"setAction:",_5.selector);
objj_msgSend(m_button,"setFrameOrigin:",CGPointMake(10,CGRectGetHeight(objj_msgSend(m_button,"bounds"))/8));
if(is_defined(_5.tooltip)){
objj_msgSend(m_button,"setToolTip:",_5.tooltip);
}
if(m_label){
objj_msgSend(m_label,"removeFromSuperview");
}
objj_msgSend(_3,"addSubview:",m_button);
break;
case "label":
objj_msgSend(m_label,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%s",_5.name));
objj_msgSend(m_label,"sizeToFit");
objj_msgSend(m_label,"setFrameOrigin:",CGPointMake(0,CGRectGetHeight(objj_msgSend(m_label,"bounds"))/2.5));
objj_msgSend(_3,"addSubview:",m_label);
if(m_button){
objj_msgSend(m_button,"removeFromSuperview");
}
break;
}
}
})]);
p;33;app/views/page_number_list_cell.jt;3633;@STATIC;1.0;t;3614;
var _1=objj_allocateClassPair(CPView,"PageNumberListCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_label"),new objj_ivar("_highlightView"),new objj_ivar("_dropHighlightView"),new objj_ivar("_pageObject")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
objj_msgSend(_3,"registerForDraggedTypes:",[PageNumberDragType]);
if(!_label){
_label=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3,"bounds"),4,4));
objj_msgSend(_label,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",14));
objj_msgSend(_label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_label,"setTextShadowOffset:",CGSizeMake(0,0));
objj_msgSend(_label,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_3,"addSubview:",_label);
}
_pageObject=_5;
var _6;
if(typeof (objj_msgSend(_pageObject,"name"))!="undefined"){
_6=objj_msgSend(CPString,"stringWithFormat:","%d. %s",objj_msgSend(_pageObject,"number"),objj_msgSend(_pageObject,"name"));
}else{
_6=objj_msgSend(CPString,"stringWithFormat:","%d. No Name",objj_msgSend(_pageObject,"number"));
}
objj_msgSend(_label,"setStringValue:",_6);
objj_msgSend(_label,"sizeToFit");
objj_msgSend(_label,"setFrameOrigin:",CGPointMake(10,CGRectGetHeight(objj_msgSend(_label,"bounds"))/2));
}
}),new objj_method(sel_getUid("draggingEntered:"),function(_7,_8,_9){
with(_7){
objj_msgSend(_7,"setDropSelected:",YES);
objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"scrollPageIntoView:",objj_msgSend(_7,"frame"));
}
}),new objj_method(sel_getUid("draggingExited:"),function(_a,_b,_c){
with(_a){
objj_msgSend(_a,"setDropSelected:",NO);
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_d,_e,_f){
with(_d){
objj_msgSend(_d,"setDropSelected:",NO);
var _10=objj_msgSend(objj_msgSend(_f,"draggingPasteboard"),"dataForType:",PageNumberDragType);
if(_10){
var _11=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_10);
objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"insertPageAbove:page:",_11,_pageObject);
}
}
}),new objj_method(sel_getUid("setDropSelected:"),function(_12,_13,_14){
with(_12){
if(!_dropHighlightView){
_dropHighlightView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectCreateCopy(objj_msgSend(_12,"bounds")));
objj_msgSend(_dropHighlightView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.9,0.1,0.1,0.3));
}
if(_14){
objj_msgSend(_12,"addSubview:positioned:relativeTo:",_dropHighlightView,CPWindowAbove,_label);
}else{
objj_msgSend(_dropHighlightView,"removeFromSuperview");
}
}
}),new objj_method(sel_getUid("setSelected:"),function(_15,_16,_17){
with(_15){
if(!_highlightView){
_highlightView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectCreateCopy(objj_msgSend(_15,"bounds")));
objj_msgSend(_highlightView,"setBackgroundColor:",objj_msgSend(CPColor,"blueColor"));
}
if(_17){
objj_msgSend(_15,"addSubview:positioned:relativeTo:",_highlightView,CPWindowBelow,_label);
objj_msgSend(_label,"setBackgroundColor:",objj_msgSend(CPColor,"blueColor"));
objj_msgSend(_label,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_label,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"));
}else{
objj_msgSend(_highlightView,"removeFromSuperview");
objj_msgSend(_label,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_label,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
}
}
})]);
p;28;app/views/page_number_view.jt;932;@STATIC;1.0;t;914;
var _1=objj_allocateClassPair(CPCollectionView,"PageNumberView"),_2=_1.isa;
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PageNumberView").super_class},"initWithFrame:",_5);
if(_3){
objj_msgSend(_3,"registerForDraggedTypes:",[PageNumberDragType]);
}
return _3;
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_6,_7,_8){
with(_6){
}
}),new objj_method(sel_getUid("indexAtLocation:"),function(_9,_a,_b){
with(_9){
var _c=objj_msgSend(_9,"convertPoint:fromView:",_b,objj_msgSend(objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"mainWindow"),"contentView"));
var _d=objj_msgSend(_9,"content");
for(var _e=0;_e<objj_msgSend(_d,"count");_e++){
if(CGRectContainsPoint(objj_msgSend(_9,"rectForItemAtIndex:",_e),_c)){
return _e;
}
}
return -1;
}
})]);
p;26;app/views/tool_list_cell.jt;3078;@STATIC;1.0;t;3059;
var _1=objj_allocateClassPair(CPBox,"ToolListCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_label"),new objj_ivar("m_imgView"),new objj_ivar("m_highlightView"),new objj_ivar("m_toolObject"),new objj_ivar("m_toolTip")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
if(!m_label){
m_label=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(m_label,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(m_label,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(m_label,"setAlignment:",CPLeftTextAlignment);
m_imgView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(m_imgView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(m_imgView,"setImage:",objj_msgSend(_5,"toolBoxImage"));
objj_msgSend(m_imgView,"setImageScaling:",CPScaleProportionally);
objj_msgSend(objj_msgSend(m_imgView,"image"),"setSize:",CGSizeMake(40,40));
objj_msgSend(m_imgView,"setHasShadow:",NO);
objj_msgSend(_3,"setBorderWidth:",0.5);
objj_msgSend(_3,"setBorderColor:",objj_msgSend(ThemeManager,"borderColorToolCell"));
objj_msgSend(_3,"setBorderType:",CPLineBorder);
objj_msgSend(_3,"setFillColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_3,"addSubview:",m_imgView);
objj_msgSend(m_label,"setFrameOrigin:",CGPointMake(5,10));
objj_msgSend(m_imgView,"setFrameOrigin:",CGPointMake(0,11));
objj_msgSend(_3,"addSubview:",m_label);
}
m_toolTip=nil;
m_toolObject=_5;
objj_msgSend(m_imgView,"setImage:",objj_msgSend(_5,"toolBoxImage"));
objj_msgSend(m_label,"setStringValue:",objj_msgSend(CPString,"stringWithFormat:","%s",objj_msgSend(m_toolObject,"name")));
objj_msgSend(m_label,"sizeToFit");
}
}),new objj_method(sel_getUid("setSelected:"),function(_6,_7,_8){
with(_6){
if(!m_highlightView){
m_highlightView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectCreateCopy(objj_msgSend(_6,"bounds")));
objj_msgSend(m_highlightView,"setBackgroundColor:",objj_msgSend(ThemeManager,"toolHighlightColor"));
}
if(_8){
objj_msgSend(_6,"addSubview:positioned:relativeTo:",m_highlightView,CPWindowBelow,m_imgView);
objj_msgSend(_6,"createToolTip");
}else{
objj_msgSend(m_highlightView,"removeFromSuperview");
objj_msgSend(_6,"removeToolTip");
}
}
}),new objj_method(sel_getUid("createToolTip"),function(_9,_a){
with(_9){
if(!m_toolTip&&is_defined(objj_msgSend(m_toolObject,"toolTip"))){
m_toolTip=objj_msgSend(TNToolTip,"toolTipWithString:forView:closeAfter:",objj_msgSend(m_toolObject,"toolTip"),_9,2.5);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_9,sel_getUid("toolTipDidClose:"),CPWindowWillCloseNotification,m_toolTip);
}
}
}),new objj_method(sel_getUid("toolTipDidClose:"),function(_b,_c,_d){
with(_b){
m_toolTip=nil;
}
}),new objj_method(sel_getUid("removeToolTip"),function(_e,_f){
with(_e){
if(m_toolTip){
objj_msgSend(m_toolTip,"close");
}
m_toolTip=nil;
}
})]);
p;27;app/views/tweet_data_view.jt;10778;@STATIC;1.0;t;10758;
var _1={};
var _2=objj_allocateClassPair(CPView,"TweetDataView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("authorName"),new objj_ivar("timeSinceTweet"),new objj_ivar("tweetText"),new objj_ivar("authorAvatarView"),new objj_ivar("tweet")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("initWithFrame:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("TweetDataView").super_class},"initWithFrame:",_6);
if(_4){
authorName=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(75,5,150,20));
objj_msgSend(authorName,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",13));
timeSinceTweet=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(215,5,_6.size.width-255,20));
objj_msgSend(timeSinceTweet,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));
objj_msgSend(timeSinceTweet,"setTextColor:",objj_msgSend(CPColor,"grayColor"));
objj_msgSend(timeSinceTweet,"setAlignment:",CPRightTextAlignment);
objj_msgSend(timeSinceTweet,"setAutoresizingMask:",CPViewMinXMargin);
tweetText=objj_msgSend(objj_msgSend(TweetTextView,"alloc"),"initWithFrame:",CGRectMake(75,25,_6.size.width-100,20));
objj_msgSend(tweetText,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
authorAvatarView=objj_msgSend(objj_msgSend(RoundedImageView,"alloc"),"initWithFrame:",CGRectMake(6,6,55,55));
var _7=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(60,2,_6.size.width-62,_6.size.height-4));
var _8=[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_01.png"),CGSizeMake(19,16)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_02.png"),CGSizeMake(3,16)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_03.png"),CGSizeMake(15,16)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_04.png"),CGSizeMake(19,2)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_05.png"),CGSizeMake(3,2)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_06.png"),CGSizeMake(15,2)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_07.png"),CGSizeMake(19,14)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_08.png"),CGSizeMake(3,14)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:","TweetBubble/TweetBubble_09.png"),CGSizeMake(15,14))],bg=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",_8));
objj_msgSend(_7,"setBackgroundColor:",bg);
objj_msgSend(_7,"setAutoresizingMask:",CPViewHeightSizable|CPViewWidthSizable);
objj_msgSend(_4,"setSubviews:",[_7,authorName,timeSinceTweet,tweetText,authorAvatarView]);
}
return _4;
}
}),new objj_method(sel_getUid("replyToTweet:"),function(_9,_a,_b){
with(_9){
var _c=objj_msgSend(objj_msgSend(NewTweetWindow,"alloc"),"initWithTweetReply:",tweet);
objj_msgSend(_c,"makeKeyAndOrderFront:",_9);
}
}),new objj_method(sel_getUid("setValue:forKey:"),function(_d,_e,_f,_10){
with(_d){
objj_msgSend(_d,"setObjectValue:",_f);
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_11,_12,_13){
with(_11){
if(!_13){
return;
}
tweet=_13;
objj_msgSend(authorName,"setStringValue:",objj_msgSend(tweet,"fromUser"));
var _14=new Date(objj_msgSend(tweet,"createdAt"));
objj_msgSend(timeSinceTweet,"setStringValue:",objj_msgSend(_14,"relativeDateSinceNow"));
objj_msgSend(timeSinceTweet,"sizeToFit");
objj_msgSend(timeSinceTweet,"setFrameOrigin:",CGPointMake(CGRectGetWidth(objj_msgSend(_11,"bounds"))-CGRectGetWidth(objj_msgSend(timeSinceTweet,"bounds"))-30));
objj_msgSend(tweetText,"setStringValue:",objj_msgSend(tweet,"text"));
var _15=objj_msgSend(tweetText,"frame"),_16=objj_msgSend(_11,"bounds").size.height-35;
_15.size.height=_16;
objj_msgSend(tweetText,"setFrame:",_15);
var _17=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(tweet,"profileImageUrl"),CGSizeMake(50,50));
objj_msgSend(authorAvatarView,"setImage:",_17);
}
}),new objj_method(sel_getUid("objectValue"),function(_18,_19){
with(_18){
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_1a,_1b,_1c){
with(_1a){
objj_msgSendSuper({receiver:_1a,super_class:objj_getClass("TweetDataView").super_class},"encodeWithCoder:",_1c);
objj_msgSend(_1c,"encodeObject:forKey:",authorName,"authorName");
objj_msgSend(_1c,"encodeObject:forKey:",timeSinceTweet,"timeSinceTweet");
objj_msgSend(_1c,"encodeObject:forKey:",tweetText,"tweetText");
objj_msgSend(_1c,"encodeObject:forKey:",authorAvatarView,"authorAvatarView");
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_1d,_1e,_1f){
with(_1d){
_1d=objj_msgSendSuper({receiver:_1d,super_class:objj_getClass("TweetDataView").super_class},"initWithCoder:",_1f);
if(_1d){
authorName=objj_msgSend(_1f,"decodeObjectForKey:","authorName");
timeSinceTweet=objj_msgSend(_1f,"decodeObjectForKey:","timeSinceTweet");
tweetText=objj_msgSend(_1f,"decodeObjectForKey:","tweetText");
authorAvatarView=objj_msgSend(_1f,"decodeObjectForKey:","authorAvatarView");
}
return _1d;
}
})]);
var _2=objj_allocateClassPair(CPView,"TweetTextView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("dataview"),new objj_ivar("textContainer"),new objj_ivar("stringValue"),new objj_ivar("downElement")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("initWithFrame:"),function(_20,_21,_22){
with(_20){
_20=objj_msgSendSuper({receiver:_20,super_class:objj_getClass("TweetTextView").super_class},"initWithFrame:",_22);
if(_20){
stringValue="";
textContainer=document.createElement("div");
textContainer.style.position="absolute";
textContainer.style.font="normal normal normal 13px/normal Arial, sans-serif";
_DOMElement.appendChild(textContainer);
}
return _20;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_23,_24,_25){
with(_23){
if(_25.target.tagName!=="A"){
objj_msgSendSuper({receiver:_23,super_class:objj_getClass("TweetTextView").super_class},"mouseDown:",_25);
}else{
downElement=_25.target;
}
}
}),new objj_method(sel_getUid("mouseUp:"),function(_26,_27,_28){
with(_26){
var all=textContainer.getElementsByTagName("*"),_29=all.length;
while(_29--){
all[_29].style.background="transparent";
}
objj_msgSendSuper({receiver:_26,super_class:objj_getClass("TweetTextView").super_class},"mouseUp:",_28);
if(downElement&&_28.target===downElement&&downElement.hasAttribute("data-href")){
OPEN_LINK(downElement.getAttribute("data-href"));
}
}
}),new objj_method(sel_getUid("setStringValue:"),function(_2a,_2b,_2c){
with(_2a){
stringValue=_2c;
var _2d=["text-decoration: none","padding: 2px"];
var _2e=" -webkit- -moz-".split(" ");
for(var i=0,len=_2e.length;i<len;i++){
_2d.push(_2e[i]+"border-radius: 4px");
}
_2d=_2d.join(";");
var _2c=_2c.replace(new RegExp("#([\\w_]+)","g"),"<a href='#' style='color:#666;"+_2d+"' onmousedown='this.style.background = \"#bed2e7\";'>#$1</a>");
html=_2c.replace(new RegExp("@([\\w_]+)","g"),"<a href=\"#\" style=\"color:#2c93d5;"+_2d+"\" onmousedown='this.style.background = \"#bed2e7\";'>@$1</a>");
var _2f=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&\/%?=~_|!:,.;]*[-A-Z0-9+&\/%=~_|])/ig;
html=html.replace(_2f,"<a href='#' data-href=\"$1\" style='color:#2c93d5;"+_2d+"' onmousedown='this.style.background = \"#bed2e7\";'>$1</a>");
textContainer.innerHTML=html;
}
}),new objj_method(sel_getUid("stringValue"),function(_30,_31){
with(_30){
return stringValue;
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_32,_33,_34){
with(_32){
_32=objj_msgSendSuper({receiver:_32,super_class:objj_getClass("TweetTextView").super_class},"initWithCoder:",_34);
if(_32){
textContainer=document.createElement("span");
textContainer.style.position="absolute";
textContainer.style.font="normal normal normal 13px/normal Arial, sans-serif";
_DOMElement.appendChild(textContainer);
}
return _32;
}
})]);
var _2=objj_allocateClassPair(CPView,"RoundedImageView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("image"),new objj_ivar("roundedImage")]);
objj_registerClassPair(_2);
class_addMethods(_2,[new objj_method(sel_getUid("image"),function(_35,_36){
with(_35){
return image;
}
}),new objj_method(sel_getUid("setImage:"),function(_37,_38,_39){
with(_37){
image=_39;
}
}),new objj_method(sel_getUid("setImage:"),function(_3a,_3b,_3c){
with(_3a){
image=_3c;
objj_msgSend(image,"setDelegate:",_3a);
}
}),new objj_method(sel_getUid("imageDidLoad:"),function(_3d,_3e,_3f){
with(_3d){
objj_msgSend(_3d,"drawRoundedImage");
objj_msgSend(_3d,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("drawRoundedImage"),function(_40,_41){
with(_40){
var url=objj_msgSend(image,"filename");
if(_1[url]){
roundedImage=_1[url];
return;
}
var _42=CGRectMake(0,0,50,50),_43=CGPathWithRoundedRectangleInRect(_42,5,5,YES,YES,YES,YES),_44=CGBitmapGraphicsContextCreate();
_44.DOMElement.width=_44.DOMElement.height=50;
CGContextAddPath(_44,_43);
CGContextClip(_44);
if(objj_msgSend(image,"loadStatus")!==CPImageLoadStatusCompleted){
CGContextClearRect(_44,_42);
return;
}
CGContextDrawImage(_44,_42,image);
roundedImage={_image:_44.DOMElement};
_1[url]=roundedImage;
}
}),new objj_method(sel_getUid("drawRect:"),function(_45,_46,_47){
with(_45){
var _48=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
if(!image||objj_msgSend(image,"loadStatus")!==CPImageLoadStatusCompleted){
CGContextClearRect(_48,_47);
return;
}
var _49=objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0,0,0,0.4);
CGContextSetShadowWithColor(_48,CGSizeMake(0,1),2,_49);
CGContextDrawImage(_48,CGRectMake(2,0,50,50),roundedImage);
}
}),new objj_method(sel_getUid("mouseEntered:"),function(_4a,_4b,_4c){
with(_4a){
objj_msgSend(objj_msgSend(CPCursor,"pointingHandCursor"),"set");
}
}),new objj_method(sel_getUid("mouseExited:"),function(_4d,_4e,_4f){
with(_4d){
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
}
})]);
p;31;app/views/you_tube_photo_cell.jt;2202;@STATIC;1.0;t;2183;
var _1=objj_allocateClassPair(BaseImageCell,"YouTubePhotoCell"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_video_obj")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
m_video_obj=_5;
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("YouTubePhotoCell").super_class},"setRepresentedObject:",_5);
objj_msgSend(ImageLoaderWorker,"workerFor:imageView:",objj_msgSend(_5,"thumbnailImageUrl"),m_imageView);
}
}),new objj_method(sel_getUid("setSelected:"),function(_6,_7,_8){
with(_6){
objj_msgSend(_6,"createHighlightView");
if(_8){
objj_msgSend(m_highlightView,"setFrame:",objj_msgSend(_6,"bounds"));
objj_msgSend(_6,"addSubview:positioned:relativeTo:",m_highlightView,CPWindowBelow,m_imageView);
}else{
objj_msgSend(m_highlightView,"removeFromSuperview");
}
}
}),new objj_method(sel_getUid("createHighlightView"),function(_9,_a){
with(_9){
if(m_highlightView){
objj_msgSend(m_highlightView,"removeFromSuperview");
}
m_highlightView=nil;
objj_msgSendSuper({receiver:_9,super_class:objj_getClass("YouTubePhotoCell").super_class},"createHighlightView");
var _b=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_9,"bounds"),4,4));
objj_msgSend(_b,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",10));
objj_msgSend(_b,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_b,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_b,"setStringValue:",objj_msgSend(m_video_obj,"videoOwner"));
objj_msgSend(m_highlightView,"addSubview:",_b);
objj_msgSend(_b,"setFrameOrigin:",CGPointMake(11,5));
var _c=objj_msgSend(objj_msgSend(LPMultiLineTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_9,"bounds"),4,4));
objj_msgSend(_c,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",10));
objj_msgSend(_c,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_c,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_c,"setStringValue:",objj_msgSend(m_video_obj,"videoTitle"));
objj_msgSend(m_highlightView,"addSubview:",_c);
objj_msgSend(_c,"setFrameOrigin:",CGPointMake(11,120));
}
})]);
p;37;app/views/models/p_m_highlight_view.jt;3317;@STATIC;1.0;t;3298;
var _1=objj_allocateClassPair(GRRotateView,"PMHighlightView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_highlightElement")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:highlightElement:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("PMHighlightView").super_class},"initWithFrame:",_5);
if(_3){
m_highlightElement=_6;
}
return _3;
}
}),new objj_method(sel_getUid("redisplay"),function(_7,_8){
with(_7){
objj_msgSend(objj_msgSend(_7,"layer"),"setNeedsDisplay");
}
}),new objj_method(sel_getUid("setRotationDegrees:"),function(_9,_a,_b){
with(_9){
objj_msgSend(_9,"setRotation:",(_b*(Math.PI/180)));
}
}),new objj_method(sel_getUid("drawLayer:inContext:"),function(_c,_d,_e,_f){
with(_c){
var _10=objj_msgSend(_e,"bounds");
CGContextSetFillColor(_f,objj_msgSend(m_highlightElement,"getColor"));
CGContextSetStrokeColor(_f,objj_msgSend(m_highlightElement,"getColor"));
if(objj_msgSend(m_highlightElement,"showAsBorder")==0){
var _11=objj_msgSend(_c,"roundedRectangleInRect:",_10);
CGContextBeginPath(_f);
CGContextAddPath(_f,_11);
CGContextClosePath(_f);
CGContextFillPath(_f);
}else{
_10=CGRectInset(_10,objj_msgSend(m_highlightElement,"borderWidth")/2,objj_msgSend(m_highlightElement,"borderWidth")/2);
var _11=objj_msgSend(_c,"roundedRectangleInRect:",_10);
CGContextBeginPath(_f);
CGContextAddPath(_f,_11);
CGContextClosePath(_f);
CGContextSetLineWidth(_f,objj_msgSend(m_highlightElement,"borderWidth"));
CGContextStrokePath(_f);
}
}
}),new objj_method(sel_getUid("roundedRectangleInRect:"),function(_12,_13,_14){
with(_12){
var _15=CGPathCreateMutable(),_16=CGRectGetMinX(_14),_17=CGRectGetMaxX(_14),_18=CGRectGetMinY(_14),_19=CGRectGetMaxY(_14);
CGPathMoveToPoint(_15,nil,_16+objj_msgSend(m_highlightElement,"cornerTopLeft"),_18);
if(objj_msgSend(m_highlightElement,"cornerTopRight")>0){
CGPathAddLineToPoint(_15,nil,_17-objj_msgSend(m_highlightElement,"cornerTopRight"),_18);
CGPathAddCurveToPoint(_15,nil,_17-objj_msgSend(m_highlightElement,"cornerTopRight"),_18,_17,_18,_17,_18+objj_msgSend(m_highlightElement,"cornerTopRight"));
}else{
CGPathAddLineToPoint(_15,nil,_17,_18);
}
if(objj_msgSend(m_highlightElement,"cornerBottomRight")>0){
CGPathAddLineToPoint(_15,nil,_17,_19-objj_msgSend(m_highlightElement,"cornerBottomRight"));
CGPathAddCurveToPoint(_15,nil,_17,_19-objj_msgSend(m_highlightElement,"cornerBottomRight"),_17,_19,_17-objj_msgSend(m_highlightElement,"cornerBottomRight"),_19);
}else{
CGPathAddLineToPoint(_15,nil,_17,_19);
}
if(objj_msgSend(m_highlightElement,"cornerBottomLeft")>0){
CGPathAddLineToPoint(_15,nil,_16+objj_msgSend(m_highlightElement,"cornerBottomLeft"),_19);
CGPathAddCurveToPoint(_15,nil,_16+objj_msgSend(m_highlightElement,"cornerBottomLeft"),_19,_16,_19,_16,_19-objj_msgSend(m_highlightElement,"cornerBottomLeft"));
}else{
CGPathAddLineToPoint(_15,nil,_16,_19);
}
if(objj_msgSend(m_highlightElement,"cornerTopLeft")>0){
CGPathAddLineToPoint(_15,nil,_16,_18+objj_msgSend(m_highlightElement,"cornerTopLeft"));
CGPathAddCurveToPoint(_15,nil,_16,_18+objj_msgSend(m_highlightElement,"cornerTopLeft"),_16,_18,_16+objj_msgSend(m_highlightElement,"cornerTopLeft"),_18);
}else{
CGPathAddLineToPoint(_15,nil,_16,_18);
}
CGPathCloseSubpath(_15);
return _15;
}
})]);
p;33;app/views/models/p_m_image_view.jt;1143;@STATIC;1.0;t;1124;
var _1=objj_allocateClassPair(GRRotateView,"PMImageView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("m_image")]);
objj_registerClassPair(_1);
class_addMethods(_1,[new objj_method(sel_getUid("image"),function(_3,_4){
with(_3){
return m_image;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("PMImageView").super_class},"initWithFrame:",_7);
if(_5){
m_image=nil;
}
return _5;
}
}),new objj_method(sel_getUid("setRotationDegrees:"),function(_8,_9,_a){
with(_8){
objj_msgSend(_8,"setRotation:",(_a*(Math.PI/180)));
}
}),new objj_method(sel_getUid("setImage:"),function(_b,_c,_d){
with(_b){
if(m_image==_d){
return;
}
m_image=_d;
objj_msgSend(_b,"setFrameOrigin:",CGPointMake(0,0));
objj_msgSend(_b,"setFrameSize:",CGSizeMake(objj_msgSend(_b,"frame").size.width,objj_msgSend(_b,"frame").size.height));
objj_msgSend(objj_msgSend(_b,"layer"),"setNeedsDisplay");
}
}),new objj_method(sel_getUid("drawLayer:inContext:"),function(_e,_f,_10,_11){
with(_e){
if(m_image){
CGContextDrawImage(_11,objj_msgSend(_10,"bounds"),m_image);
}
}
})]);
p;15;AppController.jt;16794;@STATIC;1.0;I;21;Foundation/CPObject.jI;17;AppKit/CPCookie.jI;15;AppKit/CPView.jI;13;TNKit/TNKit.jI;17;TNKit/TNToolTip.jI;20;TNKit/TNCategories.jI;13;LPKit/LPKit.jI;28;LPKit/LPMultiLineTextField.jI;24;LPKit/LPURLPostRequest.jI;13;GRKit/GRKit.ji;12;app/editor.jt;16526;
TweetDragType="TweetDragType";
FlickrDragType="FlickrDragType";
FacebookDragType="FacebookDragType";
YouTubeDragType="YouTubeDragType";
ToolElementDragType="ToolElementDragType";
GoogleImagesDragType="GoogleImagesDragType";
PageNumberDragType="PageNumberDragType";
PageViewPageNumberDidChangeNotification="PageViewPageNumberDidChangeNotification";
PageViewRetrievedPagesNotification="PageViewRetrievedPagesNotification";
PageViewPageWasDeletedNotification="PageViewPageWasDeletedNotification";
DocumentViewControllerAllPagesLoaded="DocumentViewControllerAllPagesLoaded";
PageViewLastPageWasDeletedNotification="PageViewLastPageWasDeletedNotification";
ConfigurationManagerToolBoxArrivedNotification="ConfigurationManagerToolBoxArrivedNotification";
ConfigurationManagerToolBarArrivedNotification="ConfigurationManagerToolBarArrivedNotification";
PageElementDidResizeNotification="PageElementDidResizeNotification";
PageElementDidRotateNotification="PageElementDidRotateNotification";
PageElementWantsToBeDeletedNotification="PageElementWantsToBeDeletedNotification";
var _1="FlickrWindow",_2="FacebookWindow",_3="YouTubeWindow",_4="GoogleImagesWindow",_5="TwitterWindow",_6="PublicationProperties";
LinkTEPropertyWindowCIB="LinkTEProperties";
HighlightTEPropertyWindowCIB="HighlightTEProperties";
ImageTEPropertyWindowCIB="ImageTEProperties";
FacebookImagePropertyWindowCIB="FacebookImageProperties";
FlickrImagePropertyWindowCIB="FlickrImageProperties";
TwitterFeedTEPropertyWindowCIB="TwitterFeedTEProperties";
TextTEPropertyWindowCIB="TextTEProperties";
PagePropertyWindowCIB="PageProperties";
YouTubeVideoPropertyWindowCIB="YouTubeVideoProperties";
PayPalButtonPropertyWindowCIB="PayPalButtonProperties";
YouTubeSeekToLinkTEPropertyWindowCIB="YouTubeSeekToLinkTEProperties";
var _7=nil;
objj_executeFile("Foundation/CPObject.j",NO);
objj_executeFile("AppKit/CPCookie.j",NO);
objj_executeFile("AppKit/CPView.j",NO);
objj_executeFile("TNKit/TNKit.j",NO);
objj_executeFile("TNKit/TNToolTip.j",NO);
objj_executeFile("TNKit/TNCategories.j",NO);
objj_executeFile("LPKit/LPKit.j",NO);
objj_executeFile("LPKit/LPMultiLineTextField.j",NO);
objj_executeFile("LPKit/LPURLPostRequest.j",NO);
objj_executeFile("GRKit/GRKit.j",NO);
var _8=objj_allocateClassPair(CPObject,"AppController"),_9=_8.isa;
objj_registerClassPair(_8);
objj_executeFile("app/editor.j",YES);
var _8=objj_getClass("AppController");
if(!_8){
throw new SyntaxError("*** Could not find definition for class \"AppController\"");
}
var _9=_8.isa;
class_addMethods(_8,[new objj_method(sel_getUid("applicationDidFinishLaunching:"),function(_a,_b,_c){
with(_a){
m_toolBarItems=[];
objj_msgSend(PlaceholderManager,"sharedInstance");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_a,sel_getUid("toolBarItemsHaveArrived:"),ConfigurationManagerToolBarArrivedNotification,nil);
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"ping:selector:",objj_msgSend(ConfigurationManager,"sharedInstance"),sel_getUid("publishRequestCompleted:"));
var _d=objj_msgSend(objj_msgSend(ConfigurationManager,"sharedInstance"),"pubProperties");
theWindow=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",CGRectMakeZero(),CPBorderlessBridgeWindowMask);
var _e=objj_msgSend(theWindow,"contentView"),_f=objj_msgSend(_e,"bounds");
m_toolBar=objj_msgSend(objj_msgSend(CPToolbar,"alloc"),"initWithIdentifier:","PubEditor");
objj_msgSend(theWindow,"setToolbar:",m_toolBar);
var _10=objj_msgSend(ThemeManager,"sideBarWidth");
var _11=objj_msgSend(PageViewController,"createPageControlView:",CGRectMake(0,0,_10,30));
objj_msgSend(_e,"addSubview:",_11);
var _12=objj_msgSend(PageViewController,"createListPageNumbersView:",CGRectMake(0,0,_10,0));
objj_msgSend(objj_msgSend(PageViewController,"sharedInstance"),"sendOffRequestForPageNames");
var _13=objj_msgSend(objj_msgSend(CPScrollView,"alloc"),"initWithFrame:",CGRectMake(0,0,_10,200));
objj_msgSend(_13,"setAutohidesScrollers:",YES);
objj_msgSend(_13,"setHasHorizontalScroller:",NO);
objj_msgSend(_13,"setAutoresizingMask:",CPViewHeightSizable);
objj_msgSend(_13,"setDocumentView:",_12);
objj_msgSend(_13,"setBackgroundColor:",objj_msgSend(ThemeManager,"bgColorPageListView"));
var _14=objj_msgSend(objj_msgSend(CPScrollView,"alloc"),"initWithFrame:",CGRectMake(0,0,_10,400));
objj_msgSend(_14,"setAutohidesScrollers:",YES);
objj_msgSend(_14,"setAutoresizingMask:",CPViewHeightSizable);
objj_msgSend(objj_msgSend(_14,"contentView"),"setBackgroundColor:",objj_msgSend(ThemeManager,"bgColorToolView"));
objj_msgSend(_14,"setDocumentView:",objj_msgSend(ToolViewController,"createToolsCollectionView:",CGRectMake(0,0,_10,0)));
var _15=objj_msgSend(objj_msgSend(CPSplitView,"alloc"),"initWithFrame:",CGRectMake(0,30,_10,CGRectGetHeight(_f)-88));
objj_msgSend(_15,"setVertical:",NO);
objj_msgSend(_15,"addSubview:",_13);
objj_msgSend(_15,"addSubview:",_14);
objj_msgSend(_15,"setAutoresizingMask:",CPViewHeightSizable);
objj_msgSend(_e,"addSubview:",_15);
var _16=objj_msgSend(objj_msgSend(CPScrollView,"alloc"),"initWithFrame:",CGRectMake(1,0,CGRectGetWidth(_f)-_10,CGRectGetHeight(_f)-58));
objj_msgSend(_16,"setBackgroundColor:",objj_msgSend(ThemeManager,"bgColorContentView"));
objj_msgSend(_16,"setAutoresizingMask:",(CPViewHeightSizable|CPViewWidthSizable));
objj_msgSend(_16,"setDocumentView:",objj_msgSend(DocumentViewController,"createDocumentView"));
objj_msgSend(_16,"setAutohidesScrollers:",YES);
objj_msgSend(_16,"setAutoresizesSubviews:",NO);
objj_msgSend(_d,"setPubBgView:",_16);
var _17=objj_msgSend(objj_msgSend(CPBox,"alloc"),"initWithFrame:",CGRectMake(_10,0,CGRectGetWidth(_f)-_10,CGRectGetHeight(_f)-58));
objj_msgSend(_17,"setBorderWidth:",1);
objj_msgSend(_17,"setBorderColor:",objj_msgSend(ThemeManager,"borderColor"));
objj_msgSend(_17,"setBorderType:",CPLineBorder);
objj_msgSend(_17,"setFillColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_17,"setAutoresizingMask:",CPViewHeightSizable|CPViewWidthSizable);
objj_msgSend(_17,"addSubview:",_16);
objj_msgSend(_e,"addSubview:",_17);
objj_msgSend(theWindow,"orderFront:",_a);
}
}),new objj_method(sel_getUid("toolBarItemsHaveArrived:"),function(_18,_19,_1a){
with(_18){
m_toolBarItems=objj_msgSend(_1a,"object")[0];
m_toolBarTips=objj_msgSend(_1a,"object")[1];
objj_msgSend(m_toolBar,"setDelegate:",_18);
objj_msgSend(m_toolBar,"setVisible:",true);
}
}),new objj_method(sel_getUid("showHideFlickr:"),function(_1b,_1c,_1d){
with(_1b){
var _1e=objj_msgSend(FlickrController,"alloc");
objj_msgSend(_1e,"initWithWindowCibName:",_1);
objj_msgSend(_1e,"showWindow:",_1b);
}
}),new objj_method(sel_getUid("showHideTwitter:"),function(_1f,_20,_21){
with(_1f){
var _22=objj_msgSend(TwitterController,"alloc");
objj_msgSend(_22,"initWithWindowCibName:",_5);
objj_msgSend(_22,"showWindow:",_1f);
}
}),new objj_method(sel_getUid("showHideYouTube:"),function(_23,_24,_25){
with(_23){
var _26=objj_msgSend(YouTubeController,"alloc");
objj_msgSend(_26,"initWithWindowCibName:",_3);
objj_msgSend(_26,"showWindow:",_23);
}
}),new objj_method(sel_getUid("showHideFacebook:"),function(_27,_28,_29){
with(_27){
var _2a=objj_msgSend(FacebookController,"alloc");
objj_msgSend(_2a,"initWithWindowCibName:",_2);
objj_msgSend(_2a,"showWindow:",_27);
}
}),new objj_method(sel_getUid("showHideGoogleImages:"),function(_2b,_2c,_2d){
with(_2b){
var _2e=objj_msgSend(GoogleImagesController,"alloc");
objj_msgSend(_2e,"initWithWindowCibName:",_4);
objj_msgSend(_2e,"showWindow:",_2b);
}
}),new objj_method(sel_getUid("previewPublicationHtml:"),function(_2f,_30,_31){
with(_2f){
objj_msgSend(AlertUserHelper,"ofPublicationPreviewUrl:",objj_msgSend(ConfigurationManager,"previewUrl"));
}
}),new objj_method(sel_getUid("backButtonPressed:"),function(_32,_33,_34){
with(_32){
objj_msgSend(AlertUserHelper,"goingBack:",objj_msgSend(ConfigurationManager,"goingBackUrl"));
}
}),new objj_method(sel_getUid("publishPublication:"),function(_35,_36,_37){
with(_35){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"publishWithDelegate:selector:",_35,sel_getUid("publishRequestCompleted:"));
}
}),new objj_method(sel_getUid("publishPublicationHtml:"),function(_38,_39,_3a){
with(_38){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"publishInHtmlWithDelegate:selector:",_38,sel_getUid("publishRequestCompleted:"));
}
}),new objj_method(sel_getUid("showTodoMsg:"),function(_3b,_3c,_3d){
with(_3b){
objj_msgSend(AlertUserHelper,"withTodo:","This has yet to be implemented but the monkeys are busy!");
}
}),new objj_method(sel_getUid("copyButtonPressed:"),function(_3e,_3f,_40){
with(_3e){
_7=objj_msgSend(objj_msgSend(objj_msgSend(DocumentViewEditorView,"sharedInstance"),"documentViewCell"),"pageElement");
}
}),new objj_method(sel_getUid("pasteButtonPressed:"),function(_41,_42,_43){
with(_41){
if(_7){
objj_msgSend(objj_msgSend(CommunicationManager,"sharedInstance"),"copyElement:",_7);
}
}
}),new objj_method(sel_getUid("publicationPropertyButtonPressed:"),function(_44,_45,_46){
with(_44){
var _47=objj_msgSend(PropertyPublicationController,"alloc");
objj_msgSend(_47,"initWithWindowCibName:owner:",_6,_47);
objj_msgSend(_47,"showWindow:",_44);
}
}),new objj_method(sel_getUid("publishRequestCompleted:"),function(_48,_49,_4a){
with(_48){
switch(_4a.action){
case "publications_publish":
if(_4a.status=="ok"){
objj_msgSend(AlertUserHelper,"ofPublicationUrl:hashStr:",_4a.data.bitly.short_url,_4a.data.bitly.hash);
}
break;
}
}
}),new objj_method(sel_getUid("toolbarAllowedItemIdentifiers:"),function(_4b,_4c,_4d){
with(_4b){
return objj_msgSend(_4b,"toolbarDefaultItemIdentifiers:",_4d);
}
}),new objj_method(sel_getUid("toolbarDefaultItemIdentifiers:"),function(_4e,_4f,_50){
with(_4e){
return m_toolBarItems;
}
}),new objj_method(sel_getUid("toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(_51,_52,_53,_54,_55){
with(_51){
var _56=objj_msgSend(objj_msgSend(CPToolbarItem,"alloc"),"initWithItemIdentifier:",_54);
objj_msgSend(_56,"setToolTip:",m_toolBarTips[_54]);
switch(_54){
case "GoogleImagesWindowControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","googleImages"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","googleImagesHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showHideGoogleImages:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "FlickrWindowControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","flickr"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","flickrHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showHideFlickr:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "TwitterWindowControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","twitter"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","twitterHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showHideTwitter:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "FacebookToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","facebook"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","facebookHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showHideFacebook:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "YouTubeToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","youtube"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","youtubeHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showHideYouTube:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "DiggToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","digg"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","diggHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showTodoMsg:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "StumbleuponToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","stumbleupon"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","stumbleuponHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showTodoMsg:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "PublishPublicationToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","pdf"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","pdfHigh"));
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("showTodoMsg:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "PublishPublicationHtmlToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","html"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","htmlHigh"));
objj_msgSend(_56,"setLabel:","Publish");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("publishPublicationHtml:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "PreviewPublicationHtmlToolbarItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","html"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","htmlHigh"));
objj_msgSend(_56,"setLabel:","Preview");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("previewPublicationHtml:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "BackToPublicationsControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","backButton"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","backButtonHigh"));
objj_msgSend(_56,"setLabel:","Back");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("backButtonPressed:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "CopyPageElementControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","menuCopyButton"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","menuCopyButtonHigh"));
objj_msgSend(_56,"setLabel:","Copy");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("copyButtonPressed:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "PastePageElementControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","menuPasteButton"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","menuPasteButtonHigh"));
objj_msgSend(_56,"setLabel:","Paste");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("pasteButtonPressed:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
case "PublicationPropertyControlItemIdentifier":
objj_msgSend(_56,"setImage:",objj_msgSend(PlaceholderManager,"imageFor:","propertyPublicationButton"));
objj_msgSend(_56,"setAlternateImage:",objj_msgSend(PlaceholderManager,"imageFor:","propertyPublicationButtonHigh"));
objj_msgSend(_56,"setLabel:","Property");
objj_msgSend(_56,"setTarget:",_51);
objj_msgSend(_56,"setAction:",sel_getUid("publicationPropertyButtonPressed:"));
objj_msgSend(_56,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_56,"setMaxSize:",CGSizeMake(32,32));
break;
}
return _56;
}
})]);
p;6;main.jt;267;@STATIC;1.0;I;23;Foundation/Foundation.jI;15;AppKit/AppKit.ji;15;AppController.jt;181;
objj_executeFile("Foundation/Foundation.j",NO);
objj_executeFile("AppKit/AppKit.j",NO);
objj_executeFile("AppController.j",YES);
main=function(_1,_2){
CPApplicationMain(_1,_2);
};
e;
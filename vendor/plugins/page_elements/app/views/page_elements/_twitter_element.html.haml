-# TODO would be way cool if the client did an AJAX request on the client side to obtain
-# TODO the twitter data -- then we would not need to store it!
-# TODO plus we wouldn't have a request per hour limit to deal with. (150 per hour)
-# TODO Alternative would be to have the editor send the text data when the tweet is
-# TODO added to the document
- twhsh = page_element.tweet
- unless twhsh.nil?
  .twitter_element{ }
    %a{ :href => page_element.twitter_url }
      %img{ :src => twhsh["user"]["profile_image_url"] }
    != twhsh["text"].strip.convert_urls_to_links("target='_blank'")
    .twitter_element_highlight
      &nbsp;
      = " -- "
      - unless twhsh["user"]["url"].nil?
        %a{ :href => twhsh["user"]["url"] }
          = twhsh["user"]["name"] || twhsh["user"]["screen_name"]
      - else
        = twhsh["user"]["name"] || twhsh["user"]["screen_name"]
- else
  .twitter_element{ }
    %a{ :href => page_element.twitter_url }
      Tweet not found
